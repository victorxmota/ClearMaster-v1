var MB=Object.defineProperty;var DB=(t,e,n)=>e in t?MB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bn=(t,e,n)=>DB(t,typeof e!="symbol"?e+"":e,n);function FB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nL={exports:{}},t2={},rL={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg=Symbol.for("react.element"),$B=Symbol.for("react.portal"),BB=Symbol.for("react.fragment"),UB=Symbol.for("react.strict_mode"),VB=Symbol.for("react.profiler"),zB=Symbol.for("react.provider"),qB=Symbol.for("react.context"),WB=Symbol.for("react.forward_ref"),HB=Symbol.for("react.suspense"),GB=Symbol.for("react.memo"),KB=Symbol.for("react.lazy"),zT=Symbol.iterator;function YB(t){return t===null||typeof t!="object"?null:(t=zT&&t[zT]||t["@@iterator"],typeof t=="function"?t:null)}var iL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aL=Object.assign,oL={};function Id(t,e,n){this.props=t,this.context=e,this.refs=oL,this.updater=n||iL}Id.prototype.isReactComponent={};Id.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Id.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sL(){}sL.prototype=Id.prototype;function ZS(t,e,n){this.props=t,this.context=e,this.refs=oL,this.updater=n||iL}var eA=ZS.prototype=new sL;eA.constructor=ZS;aL(eA,Id.prototype);eA.isPureReactComponent=!0;var qT=Array.isArray,lL=Object.prototype.hasOwnProperty,tA={current:null},uL={key:!0,ref:!0,__self:!0,__source:!0};function cL(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)lL.call(e,r)&&!uL.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Fg,type:t,key:a,ref:o,props:i,_owner:tA.current}}function XB(t,e){return{$$typeof:Fg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fg}function QB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var WT=/\/+/g;function Qb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QB(""+t.key):e.toString(36)}function Cv(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fg:case $B:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qb(o,0):r,qT(i)?(n="",t!=null&&(n=t.replace(WT,"$&/")+"/"),Cv(i,e,n,"",function(u){return u})):i!=null&&(nA(i)&&(i=XB(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(WT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",qT(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Qb(a,s);o+=Cv(a,e,n,l,i)}else if(l=YB(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Qb(a,s++),o+=Cv(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function D0(t,e,n){if(t==null)return t;var r=[],i=0;return Cv(t,r,"","",function(a){return e.call(n,a,i++)}),r}function JB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var na={current:null},Lv={transition:null},ZB={ReactCurrentDispatcher:na,ReactCurrentBatchConfig:Lv,ReactCurrentOwner:tA};function fL(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:D0,forEach:function(t,e,n){D0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return D0(t,function(){e++}),e},toArray:function(t){return D0(t,function(e){return e})||[]},only:function(t){if(!nA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qt.Component=Id;qt.Fragment=BB;qt.Profiler=VB;qt.PureComponent=ZS;qt.StrictMode=UB;qt.Suspense=HB;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZB;qt.act=fL;qt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aL({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=tA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)lL.call(e,l)&&!uL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Fg,type:t.type,key:i,ref:a,props:r,_owner:o}};qt.createContext=function(t){return t={$$typeof:qB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zB,_context:t},t.Consumer=t};qt.createElement=cL;qt.createFactory=function(t){var e=cL.bind(null,t);return e.type=t,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(t){return{$$typeof:WB,render:t}};qt.isValidElement=nA;qt.lazy=function(t){return{$$typeof:KB,_payload:{_status:-1,_result:t},_init:JB}};qt.memo=function(t,e){return{$$typeof:GB,type:t,compare:e===void 0?null:e}};qt.startTransition=function(t){var e=Lv.transition;Lv.transition={};try{t()}finally{Lv.transition=e}};qt.unstable_act=fL;qt.useCallback=function(t,e){return na.current.useCallback(t,e)};qt.useContext=function(t){return na.current.useContext(t)};qt.useDebugValue=function(){};qt.useDeferredValue=function(t){return na.current.useDeferredValue(t)};qt.useEffect=function(t,e){return na.current.useEffect(t,e)};qt.useId=function(){return na.current.useId()};qt.useImperativeHandle=function(t,e,n){return na.current.useImperativeHandle(t,e,n)};qt.useInsertionEffect=function(t,e){return na.current.useInsertionEffect(t,e)};qt.useLayoutEffect=function(t,e){return na.current.useLayoutEffect(t,e)};qt.useMemo=function(t,e){return na.current.useMemo(t,e)};qt.useReducer=function(t,e,n){return na.current.useReducer(t,e,n)};qt.useRef=function(t){return na.current.useRef(t)};qt.useState=function(t){return na.current.useState(t)};qt.useSyncExternalStore=function(t,e,n){return na.current.useSyncExternalStore(t,e,n)};qt.useTransition=function(){return na.current.useTransition()};qt.version="18.3.1";rL.exports=qt;var se=rL.exports;const be=jn(se),eU=FB({__proto__:null,default:be},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tU=se,nU=Symbol.for("react.element"),rU=Symbol.for("react.fragment"),iU=Object.prototype.hasOwnProperty,aU=tU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oU={key:!0,ref:!0,__self:!0,__source:!0};function hL(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iU.call(e,r)&&!oU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nU,type:t,key:a,ref:o,props:i,_owner:aU.current}}t2.Fragment=rU;t2.jsx=hL;t2.jsxs=hL;nL.exports=t2;var x=nL.exports,Wx={},dL={exports:{}},qa={},pL={exports:{}},mL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ae){var pe=X.length;X.push(ae);e:for(;0<pe;){var he=pe-1>>>1,$=X[he];if(0<i($,ae))X[he]=ae,X[pe]=$,pe=he;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],pe=X.pop();if(pe!==ae){X[0]=pe;e:for(var he=0,$=X.length,W=$>>>1;he<W;){var te=2*(he+1)-1,le=X[te],ee=te+1,ce=X[ee];if(0>i(le,pe))ee<$&&0>i(ce,le)?(X[he]=ce,X[ee]=pe,he=ee):(X[he]=le,X[te]=pe,he=te);else if(ee<$&&0>i(ce,pe))X[he]=ce,X[ee]=pe,he=ee;else break e}}return ae}function i(X,ae){var pe=X.sortIndex-ae.sortIndex;return pe!==0?pe:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(X){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=X)r(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=n(u)}}function N(X){if(b=!1,S(X),!v)if(n(l)!==null)v=!0,oe(O);else{var ae=n(u);ae!==null&&ue(N,ae.startTime-X)}}function O(X,ae){v=!1,b&&(b=!1,y(P),P=-1),h=!0;var pe=d;try{for(S(ae),f=n(l);f!==null&&(!(f.expirationTime>ae)||X&&!T());){var he=f.callback;if(typeof he=="function"){f.callback=null,d=f.priorityLevel;var $=he(f.expirationTime<=ae);ae=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),S(ae)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var te=n(u);te!==null&&ue(N,te.startTime-ae),W=!1}return W}finally{f=null,d=pe,h=!1}}var R=!1,k=null,P=-1,E=5,F=-1;function T(){return!(t.unstable_now()-F<E)}function j(){if(k!==null){var X=t.unstable_now();F=X;var ae=!0;try{ae=k(!0,X)}finally{ae?M():(R=!1,k=null)}}else R=!1}var M;if(typeof _=="function")M=function(){_(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=j,M=function(){Q.postMessage(null)}}else M=function(){w(j,0)};function oe(X){k=X,R||(R=!0,M())}function ue(X,ae){P=w(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,oe(O))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(d){case 1:case 2:case 3:var ae=3;break;default:ae=d}var pe=d;d=ae;try{return X()}finally{d=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=d;d=X;try{return ae()}finally{d=pe}},t.unstable_scheduleCallback=function(X,ae,pe){var he=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?he+pe:he):pe=he,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=pe+$,X={id:c++,callback:ae,priorityLevel:X,startTime:pe,expirationTime:$,sortIndex:-1},pe>he?(X.sortIndex=pe,e(u,X),n(l)===null&&X===n(u)&&(b?(y(P),P=-1):b=!0,ue(N,pe-he))):(X.sortIndex=$,e(l,X),v||h||(v=!0,oe(O))),X},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(X){var ae=d;return function(){var pe=d;d=ae;try{return X.apply(this,arguments)}finally{d=pe}}}})(mL);pL.exports=mL;var sU=pL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lU=se,za=sU;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gL=new Set,Pm={};function xf(t,e){Hh(t,e),Hh(t+"Capture",e)}function Hh(t,e){for(Pm[t]=e,t=0;t<e.length;t++)gL.add(e[t])}var Pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=Object.prototype.hasOwnProperty,uU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HT={},GT={};function cU(t){return Hx.call(GT,t)?!0:Hx.call(HT,t)?!1:uU.test(t)?GT[t]=!0:(HT[t]=!0,!1)}function fU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hU(t,e,n,r){if(e===null||typeof e>"u"||fU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ra(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wi[t]=new ra(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wi[e]=new ra(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wi[t]=new ra(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wi[t]=new ra(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wi[t]=new ra(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wi[t]=new ra(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wi[t]=new ra(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wi[t]=new ra(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wi[t]=new ra(t,5,!1,t.toLowerCase(),null,!1,!1)});var rA=/[\-:]([a-z])/g;function iA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rA,iA);wi[e]=new ra(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rA,iA);wi[e]=new ra(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rA,iA);wi[e]=new ra(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wi[t]=new ra(t,1,!1,t.toLowerCase(),null,!1,!1)});wi.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wi[t]=new ra(t,1,!1,t.toLowerCase(),null,!0,!0)});function aA(t,e,n,r){var i=wi.hasOwnProperty(e)?wi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hU(e,n,i,r)&&(n=null),r||i===null?cU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fl=lU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F0=Symbol.for("react.element"),lh=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),vL=Symbol.for("react.provider"),yL=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),lA=Symbol.for("react.memo"),gu=Symbol.for("react.lazy"),bL=Symbol.for("react.offscreen"),KT=Symbol.iterator;function yp(t){return t===null||typeof t!="object"?null:(t=KT&&t[KT]||t["@@iterator"],typeof t=="function"?t:null)}var lr=Object.assign,Jb;function Gp(t){if(Jb===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jb=e&&e[1]||""}return`
`+Jb+t}var Zb=!1;function ew(t,e){if(!t||Zb)return"";Zb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Zb=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gp(t):""}function dU(t){switch(t.tag){case 5:return Gp(t.type);case 16:return Gp("Lazy");case 13:return Gp("Suspense");case 19:return Gp("SuspenseList");case 0:case 2:case 15:return t=ew(t.type,!1),t;case 11:return t=ew(t.type.render,!1),t;case 1:return t=ew(t.type,!0),t;default:return""}}function Xx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uh:return"Fragment";case lh:return"Portal";case Gx:return"Profiler";case oA:return"StrictMode";case Kx:return"Suspense";case Yx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yL:return(t.displayName||"Context")+".Consumer";case vL:return(t._context.displayName||"Context")+".Provider";case sA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lA:return e=t.displayName||null,e!==null?e:Xx(t.type)||"Memo";case gu:e=t._payload,t=t._init;try{return Xx(t(e))}catch{}}return null}function pU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xx(e);case 8:return e===oA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mU(t){var e=wL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $0(t){t._valueTracker||(t._valueTracker=mU(t))}function xL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ay(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qx(t,e){var n=e.checked;return lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _L(t,e){e=e.checked,e!=null&&aA(t,"checked",e,!1)}function Jx(t,e){_L(t,e);var n=qu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zx(t,e.type,qu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zx(t,e,n){(e!=="number"||ay(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kp=Array.isArray;function Eh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function e_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(Kp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qu(n)}}function SL(t,e){var n=qu(e.value),r=qu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var B0,EL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(B0=B0||document.createElement("div"),B0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=B0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var im={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gU=["Webkit","ms","Moz","O"];Object.keys(im).forEach(function(t){gU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),im[e]=im[t]})});function PL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||im.hasOwnProperty(t)&&im[t]?(""+e).trim():e+"px"}function TL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vU=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(t,e){if(e){if(vU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function r_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function uA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a_=null,Ph=null,Th=null;function ZT(t){if(t=Ug(t)){if(typeof a_!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=o2(e),a_(t.stateNode,t.type,e))}}function NL(t){Ph?Th?Th.push(t):Th=[t]:Ph=t}function kL(){if(Ph){var t=Ph,e=Th;if(Th=Ph=null,ZT(t),e)for(t=0;t<e.length;t++)ZT(e[t])}}function IL(t,e){return t(e)}function OL(){}var tw=!1;function CL(t,e,n){if(tw)return t(e,n);tw=!0;try{return IL(t,e,n)}finally{tw=!1,(Ph!==null||Th!==null)&&(OL(),kL())}}function Nm(t,e){var n=t.stateNode;if(n===null)return null;var r=o2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var o_=!1;if(Pl)try{var bp={};Object.defineProperty(bp,"passive",{get:function(){o_=!0}}),window.addEventListener("test",bp,bp),window.removeEventListener("test",bp,bp)}catch{o_=!1}function yU(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var am=!1,oy=null,sy=!1,s_=null,bU={onError:function(t){am=!0,oy=t}};function wU(t,e,n,r,i,a,o,s,l){am=!1,oy=null,yU.apply(bU,arguments)}function xU(t,e,n,r,i,a,o,s,l){if(wU.apply(this,arguments),am){if(am){var u=oy;am=!1,oy=null}else throw Error(Ue(198));sy||(sy=!0,s_=u)}}function _f(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eN(t){if(_f(t)!==t)throw Error(Ue(188))}function _U(t){var e=t.alternate;if(!e){if(e=_f(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return eN(i),t;if(a===r)return eN(i),e;a=a.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function jL(t){return t=_U(t),t!==null?RL(t):null}function RL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RL(t);if(e!==null)return e;t=t.sibling}return null}var ML=za.unstable_scheduleCallback,tN=za.unstable_cancelCallback,SU=za.unstable_shouldYield,AU=za.unstable_requestPaint,Pr=za.unstable_now,EU=za.unstable_getCurrentPriorityLevel,cA=za.unstable_ImmediatePriority,DL=za.unstable_UserBlockingPriority,ly=za.unstable_NormalPriority,PU=za.unstable_LowPriority,FL=za.unstable_IdlePriority,n2=null,Ps=null;function TU(t){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(n2,t,void 0,(t.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:IU,NU=Math.log,kU=Math.LN2;function IU(t){return t>>>=0,t===0?32:31-(NU(t)/kU|0)|0}var U0=64,V0=4194304;function Yp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Yp(s):(a&=o,a!==0&&(r=Yp(a)))}else o=n&~i,o!==0?r=Yp(o):a!==0&&(r=Yp(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Uo(e),i=1<<n,r|=t[n],e&=~i;return r}function OU(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CU(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Uo(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=OU(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function l_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $L(){var t=U0;return U0<<=1,!(U0&4194240)&&(U0=64),t}function nw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $g(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Uo(e),t[e]=n}function LU(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Uo(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function fA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Uo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Sn=0;function BL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UL,hA,VL,zL,qL,u_=!1,z0=[],Cu=null,Lu=null,ju=null,km=new Map,Im=new Map,bu=[],jU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nN(t,e){switch(t){case"focusin":case"focusout":Cu=null;break;case"dragenter":case"dragleave":Lu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":km.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Im.delete(e.pointerId)}}function wp(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Ug(e),e!==null&&hA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RU(t,e,n,r,i){switch(e){case"focusin":return Cu=wp(Cu,t,e,n,r,i),!0;case"dragenter":return Lu=wp(Lu,t,e,n,r,i),!0;case"mouseover":return ju=wp(ju,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return km.set(a,wp(km.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Im.set(a,wp(Im.get(a)||null,t,e,n,r,i)),!0}return!1}function WL(t){var e=Dc(t.target);if(e!==null){var n=_f(e);if(n!==null){if(e=n.tag,e===13){if(e=LL(n),e!==null){t.blockedOn=e,qL(t.priority,function(){VL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=c_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);i_=r,n.target.dispatchEvent(r),i_=null}else return e=Ug(n),e!==null&&hA(e),t.blockedOn=n,!1;e.shift()}return!0}function rN(t,e,n){jv(t)&&n.delete(e)}function MU(){u_=!1,Cu!==null&&jv(Cu)&&(Cu=null),Lu!==null&&jv(Lu)&&(Lu=null),ju!==null&&jv(ju)&&(ju=null),km.forEach(rN),Im.forEach(rN)}function xp(t,e){t.blockedOn===e&&(t.blockedOn=null,u_||(u_=!0,za.unstable_scheduleCallback(za.unstable_NormalPriority,MU)))}function Om(t){function e(i){return xp(i,t)}if(0<z0.length){xp(z0[0],t);for(var n=1;n<z0.length;n++){var r=z0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cu!==null&&xp(Cu,t),Lu!==null&&xp(Lu,t),ju!==null&&xp(ju,t),km.forEach(e),Im.forEach(e),n=0;n<bu.length;n++)r=bu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bu.length&&(n=bu[0],n.blockedOn===null);)WL(n),n.blockedOn===null&&bu.shift()}var Nh=Fl.ReactCurrentBatchConfig,cy=!0;function DU(t,e,n,r){var i=Sn,a=Nh.transition;Nh.transition=null;try{Sn=1,dA(t,e,n,r)}finally{Sn=i,Nh.transition=a}}function FU(t,e,n,r){var i=Sn,a=Nh.transition;Nh.transition=null;try{Sn=4,dA(t,e,n,r)}finally{Sn=i,Nh.transition=a}}function dA(t,e,n,r){if(cy){var i=c_(t,e,n,r);if(i===null)hw(t,e,r,fy,n),nN(t,r);else if(RU(i,t,e,n,r))r.stopPropagation();else if(nN(t,r),e&4&&-1<jU.indexOf(t)){for(;i!==null;){var a=Ug(i);if(a!==null&&UL(a),a=c_(t,e,n,r),a===null&&hw(t,e,r,fy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hw(t,e,r,null,n)}}var fy=null;function c_(t,e,n,r){if(fy=null,t=uA(r),t=Dc(t),t!==null)if(e=_f(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fy=t,null}function HL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EU()){case cA:return 1;case DL:return 4;case ly:case PU:return 16;case FL:return 536870912;default:return 16}default:return 16}}var Pu=null,pA=null,Rv=null;function GL(){if(Rv)return Rv;var t,e=pA,n=e.length,r,i="value"in Pu?Pu.value:Pu.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Rv=i.slice(t,1<r?1-r:void 0)}function Mv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function q0(){return!0}function iN(){return!1}function Wa(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?q0:iN,this.isPropagationStopped=iN,this}return lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=q0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=q0)},persist:function(){},isPersistent:q0}),e}var Od={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mA=Wa(Od),Bg=lr({},Od,{view:0,detail:0}),$U=Wa(Bg),rw,iw,_p,r2=lr({},Bg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_p&&(_p&&t.type==="mousemove"?(rw=t.screenX-_p.screenX,iw=t.screenY-_p.screenY):iw=rw=0,_p=t),rw)},movementY:function(t){return"movementY"in t?t.movementY:iw}}),aN=Wa(r2),BU=lr({},r2,{dataTransfer:0}),UU=Wa(BU),VU=lr({},Bg,{relatedTarget:0}),aw=Wa(VU),zU=lr({},Od,{animationName:0,elapsedTime:0,pseudoElement:0}),qU=Wa(zU),WU=lr({},Od,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HU=Wa(WU),GU=lr({},Od,{data:0}),oN=Wa(GU),KU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XU[t])?!!e[t]:!1}function gA(){return QU}var JU=lr({},Bg,{key:function(t){if(t.key){var e=KU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gA,charCode:function(t){return t.type==="keypress"?Mv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZU=Wa(JU),eV=lr({},r2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sN=Wa(eV),tV=lr({},Bg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gA}),nV=Wa(tV),rV=lr({},Od,{propertyName:0,elapsedTime:0,pseudoElement:0}),iV=Wa(rV),aV=lr({},r2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oV=Wa(aV),sV=[9,13,27,32],vA=Pl&&"CompositionEvent"in window,om=null;Pl&&"documentMode"in document&&(om=document.documentMode);var lV=Pl&&"TextEvent"in window&&!om,KL=Pl&&(!vA||om&&8<om&&11>=om),lN=" ",uN=!1;function YL(t,e){switch(t){case"keyup":return sV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ch=!1;function uV(t,e){switch(t){case"compositionend":return XL(e);case"keypress":return e.which!==32?null:(uN=!0,lN);case"textInput":return t=e.data,t===lN&&uN?null:t;default:return null}}function cV(t,e){if(ch)return t==="compositionend"||!vA&&YL(t,e)?(t=GL(),Rv=pA=Pu=null,ch=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KL&&e.locale!=="ko"?null:e.data;default:return null}}var fV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fV[t.type]:e==="textarea"}function QL(t,e,n,r){NL(r),e=hy(e,"onChange"),0<e.length&&(n=new mA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sm=null,Cm=null;function hV(t){lj(t,0)}function i2(t){var e=dh(t);if(xL(e))return t}function dV(t,e){if(t==="change")return e}var JL=!1;if(Pl){var ow;if(Pl){var sw="oninput"in document;if(!sw){var fN=document.createElement("div");fN.setAttribute("oninput","return;"),sw=typeof fN.oninput=="function"}ow=sw}else ow=!1;JL=ow&&(!document.documentMode||9<document.documentMode)}function hN(){sm&&(sm.detachEvent("onpropertychange",ZL),Cm=sm=null)}function ZL(t){if(t.propertyName==="value"&&i2(Cm)){var e=[];QL(e,Cm,t,uA(t)),CL(hV,e)}}function pV(t,e,n){t==="focusin"?(hN(),sm=e,Cm=n,sm.attachEvent("onpropertychange",ZL)):t==="focusout"&&hN()}function mV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i2(Cm)}function gV(t,e){if(t==="click")return i2(e)}function vV(t,e){if(t==="input"||t==="change")return i2(e)}function yV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qo=typeof Object.is=="function"?Object.is:yV;function Lm(t,e){if(qo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hx.call(e,i)||!qo(t[i],e[i]))return!1}return!0}function dN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pN(t,e){var n=dN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dN(n)}}function ej(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ej(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tj(){for(var t=window,e=ay();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ay(t.document)}return e}function yA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bV(t){var e=tj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ej(n.ownerDocument.documentElement,n)){if(r!==null&&yA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=pN(n,a);var o=pN(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wV=Pl&&"documentMode"in document&&11>=document.documentMode,fh=null,f_=null,lm=null,h_=!1;function mN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h_||fh==null||fh!==ay(r)||(r=fh,"selectionStart"in r&&yA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lm&&Lm(lm,r)||(lm=r,r=hy(f_,"onSelect"),0<r.length&&(e=new mA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fh)))}function W0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hh={animationend:W0("Animation","AnimationEnd"),animationiteration:W0("Animation","AnimationIteration"),animationstart:W0("Animation","AnimationStart"),transitionend:W0("Transition","TransitionEnd")},lw={},nj={};Pl&&(nj=document.createElement("div").style,"AnimationEvent"in window||(delete hh.animationend.animation,delete hh.animationiteration.animation,delete hh.animationstart.animation),"TransitionEvent"in window||delete hh.transitionend.transition);function a2(t){if(lw[t])return lw[t];if(!hh[t])return t;var e=hh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nj)return lw[t]=e[n];return t}var rj=a2("animationend"),ij=a2("animationiteration"),aj=a2("animationstart"),oj=a2("transitionend"),sj=new Map,gN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ju(t,e){sj.set(t,e),xf(e,[t])}for(var uw=0;uw<gN.length;uw++){var cw=gN[uw],xV=cw.toLowerCase(),_V=cw[0].toUpperCase()+cw.slice(1);Ju(xV,"on"+_V)}Ju(rj,"onAnimationEnd");Ju(ij,"onAnimationIteration");Ju(aj,"onAnimationStart");Ju("dblclick","onDoubleClick");Ju("focusin","onFocus");Ju("focusout","onBlur");Ju(oj,"onTransitionEnd");Hh("onMouseEnter",["mouseout","mouseover"]);Hh("onMouseLeave",["mouseout","mouseover"]);Hh("onPointerEnter",["pointerout","pointerover"]);Hh("onPointerLeave",["pointerout","pointerover"]);xf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xf("onBeforeInput",["compositionend","keypress","textInput","paste"]);xf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xp));function vN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xU(r,e,void 0,t),t.currentTarget=null}function lj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;vN(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;vN(i,s,u),a=l}}}if(sy)throw t=s_,sy=!1,s_=null,t}function zn(t,e){var n=e[v_];n===void 0&&(n=e[v_]=new Set);var r=t+"__bubble";n.has(r)||(uj(e,t,2,!1),n.add(r))}function fw(t,e,n){var r=0;e&&(r|=4),uj(n,t,r,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[H0]){t[H0]=!0,gL.forEach(function(n){n!=="selectionchange"&&(SV.has(n)||fw(n,!1,t),fw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,fw("selectionchange",!1,e))}}function uj(t,e,n,r){switch(HL(e)){case 1:var i=DU;break;case 4:i=FU;break;default:i=dA}n=i.bind(null,e,n,t),i=void 0,!o_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hw(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Dc(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}CL(function(){var u=a,c=uA(n),f=[];e:{var d=sj.get(t);if(d!==void 0){var h=mA,v=t;switch(t){case"keypress":if(Mv(n)===0)break e;case"keydown":case"keyup":h=ZU;break;case"focusin":v="focus",h=aw;break;case"focusout":v="blur",h=aw;break;case"beforeblur":case"afterblur":h=aw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=aN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=UU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=nV;break;case rj:case ij:case aj:h=qU;break;case oj:h=iV;break;case"scroll":h=$U;break;case"wheel":h=oV;break;case"copy":case"cut":case"paste":h=HU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=sN}var b=(e&4)!==0,w=!b&&t==="scroll",y=b?d!==null?d+"Capture":null:d;b=[];for(var _=u,S;_!==null;){S=_;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,y!==null&&(N=Nm(_,y),N!=null&&b.push(Rm(_,N,S)))),w)break;_=_.return}0<b.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==i_&&(v=n.relatedTarget||n.fromElement)&&(Dc(v)||v[Tl]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Dc(v):null,v!==null&&(w=_f(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(b=aN,N="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=sN,N="onPointerLeave",y="onPointerEnter",_="pointer"),w=h==null?d:dh(h),S=v==null?d:dh(v),d=new b(N,_+"leave",h,n,c),d.target=w,d.relatedTarget=S,N=null,Dc(c)===u&&(b=new b(y,_+"enter",v,n,c),b.target=S,b.relatedTarget=w,N=b),w=N,h&&v)t:{for(b=h,y=v,_=0,S=b;S;S=Kf(S))_++;for(S=0,N=y;N;N=Kf(N))S++;for(;0<_-S;)b=Kf(b),_--;for(;0<S-_;)y=Kf(y),S--;for(;_--;){if(b===y||y!==null&&b===y.alternate)break t;b=Kf(b),y=Kf(y)}b=null}else b=null;h!==null&&yN(f,d,h,b,!1),v!==null&&w!==null&&yN(f,w,v,b,!0)}}e:{if(d=u?dh(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var O=dV;else if(cN(d))if(JL)O=vV;else{O=mV;var R=pV}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=gV);if(O&&(O=O(t,u))){QL(f,O,n,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Zx(d,"number",d.value)}switch(R=u?dh(u):window,t){case"focusin":(cN(R)||R.contentEditable==="true")&&(fh=R,f_=u,lm=null);break;case"focusout":lm=f_=fh=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,mN(f,n,c);break;case"selectionchange":if(wV)break;case"keydown":case"keyup":mN(f,n,c)}var k;if(vA)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ch?YL(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(KL&&n.locale!=="ko"&&(ch||P!=="onCompositionStart"?P==="onCompositionEnd"&&ch&&(k=GL()):(Pu=c,pA="value"in Pu?Pu.value:Pu.textContent,ch=!0)),R=hy(u,P),0<R.length&&(P=new oN(P,t,null,n,c),f.push({event:P,listeners:R}),k?P.data=k:(k=XL(n),k!==null&&(P.data=k)))),(k=lV?uV(t,n):cV(t,n))&&(u=hy(u,"onBeforeInput"),0<u.length&&(c=new oN("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=k))}lj(f,e)})}function Rm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Nm(t,n),a!=null&&r.unshift(Rm(t,a,i)),a=Nm(t,e),a!=null&&r.push(Rm(t,a,i))),t=t.return}return r}function Kf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yN(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Nm(n,a),l!=null&&o.unshift(Rm(n,l,s))):i||(l=Nm(n,a),l!=null&&o.push(Rm(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AV=/\r\n?/g,EV=/\u0000|\uFFFD/g;function bN(t){return(typeof t=="string"?t:""+t).replace(AV,`
`).replace(EV,"")}function G0(t,e,n){if(e=bN(e),bN(t)!==e&&n)throw Error(Ue(425))}function dy(){}var d_=null,p_=null;function m_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g_=typeof setTimeout=="function"?setTimeout:void 0,PV=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,TV=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(t){return wN.resolve(null).then(t).catch(NV)}:g_;function NV(t){setTimeout(function(){throw t})}function dw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Om(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Om(e)}function Ru(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cd=Math.random().toString(36).slice(2),_s="__reactFiber$"+Cd,Mm="__reactProps$"+Cd,Tl="__reactContainer$"+Cd,v_="__reactEvents$"+Cd,kV="__reactListeners$"+Cd,IV="__reactHandles$"+Cd;function Dc(t){var e=t[_s];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tl]||n[_s]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xN(t);t!==null;){if(n=t[_s])return n;t=xN(t)}return e}t=n,n=t.parentNode}return null}function Ug(t){return t=t[_s]||t[Tl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function o2(t){return t[Mm]||null}var y_=[],ph=-1;function Zu(t){return{current:t}}function Kn(t){0>ph||(t.current=y_[ph],y_[ph]=null,ph--)}function $n(t,e){ph++,y_[ph]=t.current,t.current=e}var Wu={},Bi=Zu(Wu),ma=Zu(!1),ef=Wu;function Gh(t,e){var n=t.type.contextTypes;if(!n)return Wu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ga(t){return t=t.childContextTypes,t!=null}function py(){Kn(ma),Kn(Bi)}function _N(t,e,n){if(Bi.current!==Wu)throw Error(Ue(168));$n(Bi,e),$n(ma,n)}function cj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,pU(t)||"Unknown",i));return lr({},n,r)}function my(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wu,ef=Bi.current,$n(Bi,t),$n(ma,ma.current),!0}function SN(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=cj(t,e,ef),r.__reactInternalMemoizedMergedChildContext=t,Kn(ma),Kn(Bi),$n(Bi,t)):Kn(ma),$n(ma,n)}var ll=null,s2=!1,pw=!1;function fj(t){ll===null?ll=[t]:ll.push(t)}function OV(t){s2=!0,fj(t)}function ec(){if(!pw&&ll!==null){pw=!0;var t=0,e=Sn;try{var n=ll;for(Sn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ll=null,s2=!1}catch(i){throw ll!==null&&(ll=ll.slice(t+1)),ML(cA,ec),i}finally{Sn=e,pw=!1}}return null}var mh=[],gh=0,gy=null,vy=0,uo=[],co=0,tf=null,hl=1,dl="";function Tc(t,e){mh[gh++]=vy,mh[gh++]=gy,gy=t,vy=e}function hj(t,e,n){uo[co++]=hl,uo[co++]=dl,uo[co++]=tf,tf=t;var r=hl;t=dl;var i=32-Uo(r)-1;r&=~(1<<i),n+=1;var a=32-Uo(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hl=1<<32-Uo(e)+i|n<<i|r,dl=a+t}else hl=1<<a|n<<i|r,dl=t}function bA(t){t.return!==null&&(Tc(t,1),hj(t,1,0))}function wA(t){for(;t===gy;)gy=mh[--gh],mh[gh]=null,vy=mh[--gh],mh[gh]=null;for(;t===tf;)tf=uo[--co],uo[co]=null,dl=uo[--co],uo[co]=null,hl=uo[--co],uo[co]=null}var Va=null,Fa=null,Zn=!1,Do=null;function dj(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Va=t,Fa=Ru(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Va=t,Fa=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tf!==null?{id:hl,overflow:dl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Va=t,Fa=null,!0):!1;default:return!1}}function b_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w_(t){if(Zn){var e=Fa;if(e){var n=e;if(!AN(t,e)){if(b_(t))throw Error(Ue(418));e=Ru(n.nextSibling);var r=Va;e&&AN(t,e)?dj(r,n):(t.flags=t.flags&-4097|2,Zn=!1,Va=t)}}else{if(b_(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,Zn=!1,Va=t}}}function EN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Va=t}function K0(t){if(t!==Va)return!1;if(!Zn)return EN(t),Zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m_(t.type,t.memoizedProps)),e&&(e=Fa)){if(b_(t))throw pj(),Error(Ue(418));for(;e;)dj(t,e),e=Ru(e.nextSibling)}if(EN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fa=Ru(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fa=null}}else Fa=Va?Ru(t.stateNode.nextSibling):null;return!0}function pj(){for(var t=Fa;t;)t=Ru(t.nextSibling)}function Kh(){Fa=Va=null,Zn=!1}function xA(t){Do===null?Do=[t]:Do.push(t)}var CV=Fl.ReactCurrentBatchConfig;function Sp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function Y0(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PN(t){var e=t._init;return e(t._payload)}function mj(t){function e(y,_){if(t){var S=y.deletions;S===null?(y.deletions=[_],y.flags|=16):S.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=$u(y,_),y.index=0,y.sibling=null,y}function a(y,_,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<_?(y.flags|=2,_):S):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,S,N){return _===null||_.tag!==6?(_=xw(S,y.mode,N),_.return=y,_):(_=i(_,S),_.return=y,_)}function l(y,_,S,N){var O=S.type;return O===uh?c(y,_,S.props.children,N,S.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gu&&PN(O)===_.type)?(N=i(_,S.props),N.ref=Sp(y,_,S),N.return=y,N):(N=zv(S.type,S.key,S.props,null,y.mode,N),N.ref=Sp(y,_,S),N.return=y,N)}function u(y,_,S,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=_w(S,y.mode,N),_.return=y,_):(_=i(_,S.children||[]),_.return=y,_)}function c(y,_,S,N,O){return _===null||_.tag!==7?(_=Hc(S,y.mode,N,O),_.return=y,_):(_=i(_,S),_.return=y,_)}function f(y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xw(""+_,y.mode,S),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case F0:return S=zv(_.type,_.key,_.props,null,y.mode,S),S.ref=Sp(y,null,_),S.return=y,S;case lh:return _=_w(_,y.mode,S),_.return=y,_;case gu:var N=_._init;return f(y,N(_._payload),S)}if(Kp(_)||yp(_))return _=Hc(_,y.mode,S,null),_.return=y,_;Y0(y,_)}return null}function d(y,_,S,N){var O=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:s(y,_,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case F0:return S.key===O?l(y,_,S,N):null;case lh:return S.key===O?u(y,_,S,N):null;case gu:return O=S._init,d(y,_,O(S._payload),N)}if(Kp(S)||yp(S))return O!==null?null:c(y,_,S,N,null);Y0(y,S)}return null}function h(y,_,S,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(S)||null,s(_,y,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F0:return y=y.get(N.key===null?S:N.key)||null,l(_,y,N,O);case lh:return y=y.get(N.key===null?S:N.key)||null,u(_,y,N,O);case gu:var R=N._init;return h(y,_,S,R(N._payload),O)}if(Kp(N)||yp(N))return y=y.get(S)||null,c(_,y,N,O,null);Y0(_,N)}return null}function v(y,_,S,N){for(var O=null,R=null,k=_,P=_=0,E=null;k!==null&&P<S.length;P++){k.index>P?(E=k,k=null):E=k.sibling;var F=d(y,k,S[P],N);if(F===null){k===null&&(k=E);break}t&&k&&F.alternate===null&&e(y,k),_=a(F,_,P),R===null?O=F:R.sibling=F,R=F,k=E}if(P===S.length)return n(y,k),Zn&&Tc(y,P),O;if(k===null){for(;P<S.length;P++)k=f(y,S[P],N),k!==null&&(_=a(k,_,P),R===null?O=k:R.sibling=k,R=k);return Zn&&Tc(y,P),O}for(k=r(y,k);P<S.length;P++)E=h(k,y,P,S[P],N),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?P:E.key),_=a(E,_,P),R===null?O=E:R.sibling=E,R=E);return t&&k.forEach(function(T){return e(y,T)}),Zn&&Tc(y,P),O}function b(y,_,S,N){var O=yp(S);if(typeof O!="function")throw Error(Ue(150));if(S=O.call(S),S==null)throw Error(Ue(151));for(var R=O=null,k=_,P=_=0,E=null,F=S.next();k!==null&&!F.done;P++,F=S.next()){k.index>P?(E=k,k=null):E=k.sibling;var T=d(y,k,F.value,N);if(T===null){k===null&&(k=E);break}t&&k&&T.alternate===null&&e(y,k),_=a(T,_,P),R===null?O=T:R.sibling=T,R=T,k=E}if(F.done)return n(y,k),Zn&&Tc(y,P),O;if(k===null){for(;!F.done;P++,F=S.next())F=f(y,F.value,N),F!==null&&(_=a(F,_,P),R===null?O=F:R.sibling=F,R=F);return Zn&&Tc(y,P),O}for(k=r(y,k);!F.done;P++,F=S.next())F=h(k,y,P,F.value,N),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?P:F.key),_=a(F,_,P),R===null?O=F:R.sibling=F,R=F);return t&&k.forEach(function(j){return e(y,j)}),Zn&&Tc(y,P),O}function w(y,_,S,N){if(typeof S=="object"&&S!==null&&S.type===uh&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case F0:e:{for(var O=S.key,R=_;R!==null;){if(R.key===O){if(O=S.type,O===uh){if(R.tag===7){n(y,R.sibling),_=i(R,S.props.children),_.return=y,y=_;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gu&&PN(O)===R.type){n(y,R.sibling),_=i(R,S.props),_.ref=Sp(y,R,S),_.return=y,y=_;break e}n(y,R);break}else e(y,R);R=R.sibling}S.type===uh?(_=Hc(S.props.children,y.mode,N,S.key),_.return=y,y=_):(N=zv(S.type,S.key,S.props,null,y.mode,N),N.ref=Sp(y,_,S),N.return=y,y=N)}return o(y);case lh:e:{for(R=S.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(y,_.sibling),_=i(_,S.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=_w(S,y.mode,N),_.return=y,y=_}return o(y);case gu:return R=S._init,w(y,_,R(S._payload),N)}if(Kp(S))return v(y,_,S,N);if(yp(S))return b(y,_,S,N);Y0(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,S),_.return=y,y=_):(n(y,_),_=xw(S,y.mode,N),_.return=y,y=_),o(y)):n(y,_)}return w}var Yh=mj(!0),gj=mj(!1),yy=Zu(null),by=null,vh=null,_A=null;function SA(){_A=vh=by=null}function AA(t){var e=yy.current;Kn(yy),t._currentValue=e}function x_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kh(t,e){by=t,_A=vh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(da=!0),t.firstContext=null)}function vo(t){var e=t._currentValue;if(_A!==t)if(t={context:t,memoizedValue:e,next:null},vh===null){if(by===null)throw Error(Ue(308));vh=t,by.dependencies={lanes:0,firstContext:t}}else vh=vh.next=t;return e}var Fc=null;function EA(t){Fc===null?Fc=[t]:Fc.push(t)}function vj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,EA(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nl(t,r)}function Nl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vu=!1;function PA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,tn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nl(t,n)}return i=r.interleaved,i===null?(e.next=e,EA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nl(t,n)}function Dv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fA(t,n)}}function TN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wy(t,e,n,r){var i=t.updateQueue;vu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,h=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,b=s;switch(d=e,h=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=lr({},f,d);break e;case 2:vu=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);rf|=o,t.lanes=o,t.memoizedState=f}}function NN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var Vg={},Ts=Zu(Vg),Dm=Zu(Vg),Fm=Zu(Vg);function $c(t){if(t===Vg)throw Error(Ue(174));return t}function TA(t,e){switch($n(Fm,e),$n(Dm,t),$n(Ts,Vg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t_(e,t)}Kn(Ts),$n(Ts,e)}function Xh(){Kn(Ts),Kn(Dm),Kn(Fm)}function bj(t){$c(Fm.current);var e=$c(Ts.current),n=t_(e,t.type);e!==n&&($n(Dm,t),$n(Ts,n))}function NA(t){Dm.current===t&&(Kn(Ts),Kn(Dm))}var or=Zu(0);function xy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mw=[];function kA(){for(var t=0;t<mw.length;t++)mw[t]._workInProgressVersionPrimary=null;mw.length=0}var Fv=Fl.ReactCurrentDispatcher,gw=Fl.ReactCurrentBatchConfig,nf=0,sr=null,Hr=null,ri=null,_y=!1,um=!1,$m=0,LV=0;function Ti(){throw Error(Ue(321))}function IA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qo(t[n],e[n]))return!1;return!0}function OA(t,e,n,r,i,a){if(nf=a,sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fv.current=t===null||t.memoizedState===null?DV:FV,t=n(r,i),um){a=0;do{if(um=!1,$m=0,25<=a)throw Error(Ue(301));a+=1,ri=Hr=null,e.updateQueue=null,Fv.current=$V,t=n(r,i)}while(um)}if(Fv.current=Sy,e=Hr!==null&&Hr.next!==null,nf=0,ri=Hr=sr=null,_y=!1,e)throw Error(Ue(300));return t}function CA(){var t=$m!==0;return $m=0,t}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?sr.memoizedState=ri=t:ri=ri.next=t,ri}function yo(){if(Hr===null){var t=sr.alternate;t=t!==null?t.memoizedState:null}else t=Hr.next;var e=ri===null?sr.memoizedState:ri.next;if(e!==null)ri=e,Hr=t;else{if(t===null)throw Error(Ue(310));Hr=t,t={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ri===null?sr.memoizedState=ri=t:ri=ri.next=t}return ri}function Bm(t,e){return typeof e=="function"?e(t):e}function vw(t){var e=yo(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=Hr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((nf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,sr.lanes|=c,rf|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,qo(r,e.memoizedState)||(da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,sr.lanes|=a,rf|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yw(t){var e=yo(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);qo(a,e.memoizedState)||(da=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function wj(){}function xj(t,e){var n=sr,r=yo(),i=e(),a=!qo(r.memoizedState,i);if(a&&(r.memoizedState=i,da=!0),r=r.queue,LA(Aj.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||ri!==null&&ri.memoizedState.tag&1){if(n.flags|=2048,Um(9,Sj.bind(null,n,r,i,e),void 0,null),oi===null)throw Error(Ue(349));nf&30||_j(n,e,i)}return i}function _j(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sj(t,e,n,r){e.value=n,e.getSnapshot=r,Ej(e)&&Pj(t)}function Aj(t,e,n){return n(function(){Ej(e)&&Pj(t)})}function Ej(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qo(t,n)}catch{return!0}}function Pj(t){var e=Nl(t,1);e!==null&&Vo(e,t,1,-1)}function kN(t){var e=bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:t},e.queue=t,t=t.dispatch=MV.bind(null,sr,t),[e.memoizedState,t]}function Um(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=sr.updateQueue,e===null?(e={lastEffect:null,stores:null},sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tj(){return yo().memoizedState}function $v(t,e,n,r){var i=bs();sr.flags|=t,i.memoizedState=Um(1|e,n,void 0,r===void 0?null:r)}function l2(t,e,n,r){var i=yo();r=r===void 0?null:r;var a=void 0;if(Hr!==null){var o=Hr.memoizedState;if(a=o.destroy,r!==null&&IA(r,o.deps)){i.memoizedState=Um(e,n,a,r);return}}sr.flags|=t,i.memoizedState=Um(1|e,n,a,r)}function IN(t,e){return $v(8390656,8,t,e)}function LA(t,e){return l2(2048,8,t,e)}function Nj(t,e){return l2(4,2,t,e)}function kj(t,e){return l2(4,4,t,e)}function Ij(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Oj(t,e,n){return n=n!=null?n.concat([t]):null,l2(4,4,Ij.bind(null,e,t),n)}function jA(){}function Cj(t,e){var n=yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lj(t,e){var n=yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&IA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jj(t,e,n){return nf&21?(qo(n,e)||(n=$L(),sr.lanes|=n,rf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,da=!0),t.memoizedState=n)}function jV(t,e){var n=Sn;Sn=n!==0&&4>n?n:4,t(!0);var r=gw.transition;gw.transition={};try{t(!1),e()}finally{Sn=n,gw.transition=r}}function Rj(){return yo().memoizedState}function RV(t,e,n){var r=Fu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mj(t))Dj(e,n);else if(n=vj(t,e,n,r),n!==null){var i=Zi();Vo(n,t,r,i),Fj(n,e,r)}}function MV(t,e,n){var r=Fu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mj(t))Dj(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,qo(s,o)){var l=e.interleaved;l===null?(i.next=i,EA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vj(t,e,i,r),n!==null&&(i=Zi(),Vo(n,t,r,i),Fj(n,e,r))}}function Mj(t){var e=t.alternate;return t===sr||e!==null&&e===sr}function Dj(t,e){um=_y=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fA(t,n)}}var Sy={readContext:vo,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},DV={readContext:vo,useCallback:function(t,e){return bs().memoizedState=[t,e===void 0?null:e],t},useContext:vo,useEffect:IN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$v(4194308,4,Ij.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $v(4194308,4,t,e)},useInsertionEffect:function(t,e){return $v(4,2,t,e)},useMemo:function(t,e){var n=bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RV.bind(null,sr,t),[r.memoizedState,t]},useRef:function(t){var e=bs();return t={current:t},e.memoizedState=t},useState:kN,useDebugValue:jA,useDeferredValue:function(t){return bs().memoizedState=t},useTransition:function(){var t=kN(!1),e=t[0];return t=jV.bind(null,t[1]),bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sr,i=bs();if(Zn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),oi===null)throw Error(Ue(349));nf&30||_j(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,IN(Aj.bind(null,r,a,t),[t]),r.flags|=2048,Um(9,Sj.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=bs(),e=oi.identifierPrefix;if(Zn){var n=dl,r=hl;n=(r&~(1<<32-Uo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$m++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FV={readContext:vo,useCallback:Cj,useContext:vo,useEffect:LA,useImperativeHandle:Oj,useInsertionEffect:Nj,useLayoutEffect:kj,useMemo:Lj,useReducer:vw,useRef:Tj,useState:function(){return vw(Bm)},useDebugValue:jA,useDeferredValue:function(t){var e=yo();return jj(e,Hr.memoizedState,t)},useTransition:function(){var t=vw(Bm)[0],e=yo().memoizedState;return[t,e]},useMutableSource:wj,useSyncExternalStore:xj,useId:Rj,unstable_isNewReconciler:!1},$V={readContext:vo,useCallback:Cj,useContext:vo,useEffect:LA,useImperativeHandle:Oj,useInsertionEffect:Nj,useLayoutEffect:kj,useMemo:Lj,useReducer:yw,useRef:Tj,useState:function(){return yw(Bm)},useDebugValue:jA,useDeferredValue:function(t){var e=yo();return Hr===null?e.memoizedState=t:jj(e,Hr.memoizedState,t)},useTransition:function(){var t=yw(Bm)[0],e=yo().memoizedState;return[t,e]},useMutableSource:wj,useSyncExternalStore:xj,useId:Rj,unstable_isNewReconciler:!1};function jo(t,e){if(t&&t.defaultProps){e=lr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function __(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var u2={isMounted:function(t){return(t=t._reactInternals)?_f(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zi(),i=Fu(t),a=xl(r,i);a.payload=e,n!=null&&(a.callback=n),e=Mu(t,a,i),e!==null&&(Vo(e,t,i,r),Dv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zi(),i=Fu(t),a=xl(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Mu(t,a,i),e!==null&&(Vo(e,t,i,r),Dv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zi(),r=Fu(t),i=xl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mu(t,i,r),e!==null&&(Vo(e,t,r,n),Dv(e,t,r))}};function ON(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Lm(n,r)||!Lm(i,a):!0}function $j(t,e,n){var r=!1,i=Wu,a=e.contextType;return typeof a=="object"&&a!==null?a=vo(a):(i=ga(e)?ef:Bi.current,r=e.contextTypes,a=(r=r!=null)?Gh(t,i):Wu),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function CN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&u2.enqueueReplaceState(e,e.state,null)}function S_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PA(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=vo(a):(a=ga(e)?ef:Bi.current,i.context=Gh(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(__(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&u2.enqueueReplaceState(i,i.state,null),wy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qh(t,e){try{var n="",r=e;do n+=dU(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function bw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function A_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BV=typeof WeakMap=="function"?WeakMap:Map;function Bj(t,e,n){n=xl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ey||(Ey=!0,j_=r),A_(t,e)},n}function Uj(t,e,n){n=xl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){A_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){A_(t,e),typeof r!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function LN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ez.bind(null,t,e,n),e.then(t,t))}function jN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function RN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xl(-1,1),e.tag=2,Mu(n,e,1))),n.lanes|=1),t)}var UV=Fl.ReactCurrentOwner,da=!1;function Qi(t,e,n,r){e.child=t===null?gj(e,null,n,r):Yh(e,t.child,n,r)}function MN(t,e,n,r,i){n=n.render;var a=e.ref;return kh(e,i),r=OA(t,e,n,r,a,i),n=CA(),t!==null&&!da?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(Zn&&n&&bA(e),e.flags|=1,Qi(t,e,r,i),e.child)}function DN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!VA(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Vj(t,e,a,r,i)):(t=zv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Lm,n(o,r)&&t.ref===e.ref)return kl(t,e,i)}return e.flags|=1,t=$u(a,r),t.ref=e.ref,t.return=e,e.child=t}function Vj(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Lm(a,r)&&t.ref===e.ref)if(da=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(da=!0);else return e.lanes=t.lanes,kl(t,e,i)}return E_(t,e,n,r,i)}function zj(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(bh,Ra),Ra|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$n(bh,Ra),Ra|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,$n(bh,Ra),Ra|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,$n(bh,Ra),Ra|=r;return Qi(t,e,i,n),e.child}function qj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function E_(t,e,n,r,i){var a=ga(n)?ef:Bi.current;return a=Gh(e,a),kh(e,i),n=OA(t,e,n,r,a,i),r=CA(),t!==null&&!da?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kl(t,e,i)):(Zn&&r&&bA(e),e.flags|=1,Qi(t,e,n,i),e.child)}function FN(t,e,n,r,i){if(ga(n)){var a=!0;my(e)}else a=!1;if(kh(e,i),e.stateNode===null)Bv(t,e),$j(e,n,r),S_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vo(u):(u=ga(n)?ef:Bi.current,u=Gh(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&CN(e,o,r,u),vu=!1;var d=e.memoizedState;o.state=d,wy(e,r,o,i),l=e.memoizedState,s!==r||d!==l||ma.current||vu?(typeof c=="function"&&(__(e,n,c,r),l=e.memoizedState),(s=vu||ON(e,n,s,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yj(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:jo(e.type,s),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=ga(n)?ef:Bi.current,l=Gh(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==l)&&CN(e,o,r,l),vu=!1,d=e.memoizedState,o.state=d,wy(e,r,o,i);var v=e.memoizedState;s!==f||d!==v||ma.current||vu?(typeof h=="function"&&(__(e,n,h,r),v=e.memoizedState),(u=vu||ON(e,n,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return P_(t,e,n,r,a,i)}function P_(t,e,n,r,i,a){qj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SN(e,n,!1),kl(t,e,a);r=e.stateNode,UV.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yh(e,t.child,null,a),e.child=Yh(e,null,s,a)):Qi(t,e,s,a),e.memoizedState=r.state,i&&SN(e,n,!0),e.child}function Wj(t){var e=t.stateNode;e.pendingContext?_N(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_N(t,e.context,!1),TA(t,e.containerInfo)}function $N(t,e,n,r,i){return Kh(),xA(i),e.flags|=256,Qi(t,e,n,r),e.child}var T_={dehydrated:null,treeContext:null,retryLane:0};function N_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hj(t,e,n){var r=e.pendingProps,i=or.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$n(or,i&1),t===null)return w_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=h2(o,r,0,null),t=Hc(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=N_(n),e.memoizedState=T_,t):RA(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return VV(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$u(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=$u(s,a):(a=Hc(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?N_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=T_,r}return a=t.child,t=a.sibling,r=$u(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function RA(t,e){return e=h2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function X0(t,e,n,r){return r!==null&&xA(r),Yh(e,t.child,null,n),t=RA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=bw(Error(Ue(422))),X0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=h2({mode:"visible",children:r.children},i,0,null),a=Hc(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Yh(e,t.child,null,o),e.child.memoizedState=N_(o),e.memoizedState=T_,a);if(!(e.mode&1))return X0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Ue(419)),r=bw(a,r,void 0),X0(t,e,o,r)}if(s=(o&t.childLanes)!==0,da||s){if(r=oi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Nl(t,i),Vo(r,t,i,-1))}return UA(),r=bw(Error(Ue(421))),X0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tz.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Fa=Ru(i.nextSibling),Va=e,Zn=!0,Do=null,t!==null&&(uo[co++]=hl,uo[co++]=dl,uo[co++]=tf,hl=t.id,dl=t.overflow,tf=e),e=RA(e,r.children),e.flags|=4096,e)}function BN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x_(t.return,e,n)}function ww(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Gj(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Qi(t,e,r.children,n),r=or.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&BN(t,n,e);else if(t.tag===19)BN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($n(or,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ww(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ww(e,!0,n,null,a);break;case"together":ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=$u(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$u(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zV(t,e,n){switch(e.tag){case 3:Wj(e),Kh();break;case 5:bj(e);break;case 1:ga(e.type)&&my(e);break;case 4:TA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$n(yy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($n(or,or.current&1),e.flags|=128,null):n&e.child.childLanes?Hj(t,e,n):($n(or,or.current&1),t=kl(t,e,n),t!==null?t.sibling:null);$n(or,or.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gj(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$n(or,or.current),r)break;return null;case 22:case 23:return e.lanes=0,zj(t,e,n)}return kl(t,e,n)}var Kj,k_,Yj,Xj;Kj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};k_=function(){};Yj=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$c(Ts.current);var a=null;switch(n){case"input":i=Qx(t,i),r=Qx(t,r),a=[];break;case"select":i=lr({},i,{value:void 0}),r=lr({},r,{value:void 0}),a=[];break;case"textarea":i=e_(t,i),r=e_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dy)}n_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&zn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};Xj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ap(t,e){if(!Zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ni(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qV(t,e,n){var r=e.pendingProps;switch(wA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ni(e),null;case 1:return ga(e.type)&&py(),Ni(e),null;case 3:return r=e.stateNode,Xh(),Kn(ma),Kn(Bi),kA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(K0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Do!==null&&(D_(Do),Do=null))),k_(t,e),Ni(e),null;case 5:NA(e);var i=$c(Fm.current);if(n=e.type,t!==null&&e.stateNode!=null)Yj(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Ni(e),null}if(t=$c(Ts.current),K0(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[_s]=e,r[Mm]=a,t=(e.mode&1)!==0,n){case"dialog":zn("cancel",r),zn("close",r);break;case"iframe":case"object":case"embed":zn("load",r);break;case"video":case"audio":for(i=0;i<Xp.length;i++)zn(Xp[i],r);break;case"source":zn("error",r);break;case"img":case"image":case"link":zn("error",r),zn("load",r);break;case"details":zn("toggle",r);break;case"input":YT(r,a),zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zn("invalid",r);break;case"textarea":QT(r,a),zn("invalid",r)}n_(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&G0(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&G0(r.textContent,s,t),i=["children",""+s]):Pm.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&zn("scroll",r)}switch(n){case"input":$0(r),XT(r,a,!0);break;case"textarea":$0(r),JT(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=dy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_s]=e,t[Mm]=r,Kj(t,e,!1,!1),e.stateNode=t;e:{switch(o=r_(n,r),n){case"dialog":zn("cancel",t),zn("close",t),i=r;break;case"iframe":case"object":case"embed":zn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xp.length;i++)zn(Xp[i],t);i=r;break;case"source":zn("error",t),i=r;break;case"img":case"image":case"link":zn("error",t),zn("load",t),i=r;break;case"details":zn("toggle",t),i=r;break;case"input":YT(t,r),i=Qx(t,r),zn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lr({},r,{value:void 0}),zn("invalid",t);break;case"textarea":QT(t,r),i=e_(t,r),zn("invalid",t);break;default:i=r}n_(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?TL(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&EL(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tm(t,l):typeof l=="number"&&Tm(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&zn("scroll",t):l!=null&&aA(t,a,l,o))}switch(n){case"input":$0(t),XT(t,r,!1);break;case"textarea":$0(t),JT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qu(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Eh(t,!!r.multiple,a,!1):r.defaultValue!=null&&Eh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ni(e),null;case 6:if(t&&e.stateNode!=null)Xj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=$c(Fm.current),$c(Ts.current),K0(e)){if(r=e.stateNode,n=e.memoizedProps,r[_s]=e,(a=r.nodeValue!==n)&&(t=Va,t!==null))switch(t.tag){case 3:G0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&G0(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_s]=e,e.stateNode=r}return Ni(e),null;case 13:if(Kn(or),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zn&&Fa!==null&&e.mode&1&&!(e.flags&128))pj(),Kh(),e.flags|=98560,a=!1;else if(a=K0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ue(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ue(317));a[_s]=e}else Kh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ni(e),a=!1}else Do!==null&&(D_(Do),Do=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||or.current&1?Gr===0&&(Gr=3):UA())),e.updateQueue!==null&&(e.flags|=4),Ni(e),null);case 4:return Xh(),k_(t,e),t===null&&jm(e.stateNode.containerInfo),Ni(e),null;case 10:return AA(e.type._context),Ni(e),null;case 17:return ga(e.type)&&py(),Ni(e),null;case 19:if(Kn(or),a=e.memoizedState,a===null)return Ni(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Ap(a,!1);else{if(Gr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xy(t),o!==null){for(e.flags|=128,Ap(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $n(or,or.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pr()>Jh&&(e.flags|=128,r=!0,Ap(a,!1),e.lanes=4194304)}else{if(!r)if(t=xy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ap(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zn)return Ni(e),null}else 2*Pr()-a.renderingStartTime>Jh&&n!==1073741824&&(e.flags|=128,r=!0,Ap(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pr(),e.sibling=null,n=or.current,$n(or,r?n&1|2:n&1),e):(Ni(e),null);case 22:case 23:return BA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ra&1073741824&&(Ni(e),e.subtreeFlags&6&&(e.flags|=8192)):Ni(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function WV(t,e){switch(wA(e),e.tag){case 1:return ga(e.type)&&py(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xh(),Kn(ma),Kn(Bi),kA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return NA(e),null;case 13:if(Kn(or),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Kh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kn(or),null;case 4:return Xh(),null;case 10:return AA(e.type._context),null;case 22:case 23:return BA(),null;case 24:return null;default:return null}}var Q0=!1,Mi=!1,HV=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function yh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mr(t,e,r)}else n.current=null}function I_(t,e,n){try{n()}catch(r){mr(t,e,r)}}var UN=!1;function GV(t,e){if(d_=cy,t=tj(),yA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=o),d===a&&++c===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(p_={focusedElem:t,selectionRange:n},cy=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,w=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:jo(e.type,b),w);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(N){mr(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return v=UN,UN=!1,v}function cm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&I_(e,n,a)}i=i.next}while(i!==r)}}function c2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function O_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qj(t){var e=t.alternate;e!==null&&(t.alternate=null,Qj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_s],delete e[Mm],delete e[v_],delete e[kV],delete e[IV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jj(t){return t.tag===5||t.tag===3||t.tag===4}function VN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function C_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dy));else if(r!==4&&(t=t.child,t!==null))for(C_(t,e,n),t=t.sibling;t!==null;)C_(t,e,n),t=t.sibling}function L_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(L_(t,e,n),t=t.sibling;t!==null;)L_(t,e,n),t=t.sibling}var pi=null,Ro=!1;function cu(t,e,n){for(n=n.child;n!==null;)Zj(t,e,n),n=n.sibling}function Zj(t,e,n){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(n2,n)}catch{}switch(n.tag){case 5:Mi||yh(n,e);case 6:var r=pi,i=Ro;pi=null,cu(t,e,n),pi=r,Ro=i,pi!==null&&(Ro?(t=pi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pi.removeChild(n.stateNode));break;case 18:pi!==null&&(Ro?(t=pi,n=n.stateNode,t.nodeType===8?dw(t.parentNode,n):t.nodeType===1&&dw(t,n),Om(t)):dw(pi,n.stateNode));break;case 4:r=pi,i=Ro,pi=n.stateNode.containerInfo,Ro=!0,cu(t,e,n),pi=r,Ro=i;break;case 0:case 11:case 14:case 15:if(!Mi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&I_(n,e,o),i=i.next}while(i!==r)}cu(t,e,n);break;case 1:if(!Mi&&(yh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){mr(n,e,s)}cu(t,e,n);break;case 21:cu(t,e,n);break;case 22:n.mode&1?(Mi=(r=Mi)||n.memoizedState!==null,cu(t,e,n),Mi=r):cu(t,e,n);break;default:cu(t,e,n)}}function zN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HV),e.forEach(function(r){var i=nz.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Oo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:pi=s.stateNode,Ro=!1;break e;case 3:pi=s.stateNode.containerInfo,Ro=!0;break e;case 4:pi=s.stateNode.containerInfo,Ro=!0;break e}s=s.return}if(pi===null)throw Error(Ue(160));Zj(a,o,i),pi=null,Ro=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){mr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eR(e,t),e=e.sibling}function eR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Oo(e,t),fs(t),r&4){try{cm(3,t,t.return),c2(3,t)}catch(b){mr(t,t.return,b)}try{cm(5,t,t.return)}catch(b){mr(t,t.return,b)}}break;case 1:Oo(e,t),fs(t),r&512&&n!==null&&yh(n,n.return);break;case 5:if(Oo(e,t),fs(t),r&512&&n!==null&&yh(n,n.return),t.flags&32){var i=t.stateNode;try{Tm(i,"")}catch(b){mr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&_L(i,a),r_(s,o);var u=r_(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?TL(i,f):c==="dangerouslySetInnerHTML"?EL(i,f):c==="children"?Tm(i,f):aA(i,c,f,u)}switch(s){case"input":Jx(i,a);break;case"textarea":SL(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Eh(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?Eh(i,!!a.multiple,a.defaultValue,!0):Eh(i,!!a.multiple,a.multiple?[]:"",!1))}i[Mm]=a}catch(b){mr(t,t.return,b)}}break;case 6:if(Oo(e,t),fs(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){mr(t,t.return,b)}}break;case 3:if(Oo(e,t),fs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Om(e.containerInfo)}catch(b){mr(t,t.return,b)}break;case 4:Oo(e,t),fs(t);break;case 13:Oo(e,t),fs(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(FA=Pr())),r&4&&zN(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Mi=(u=Mi)||c,Oo(e,t),Mi=u):Oo(e,t),fs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Qe=t,c=t.child;c!==null;){for(f=Qe=c;Qe!==null;){switch(d=Qe,h=d.child,d.tag){case 0:case 11:case 14:case 15:cm(4,d,d.return);break;case 1:yh(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){mr(r,n,b)}}break;case 5:yh(d,d.return);break;case 22:if(d.memoizedState!==null){WN(f);continue}}h!==null?(h.return=d,Qe=h):WN(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=PL("display",o))}catch(b){mr(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){mr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oo(e,t),fs(t),r&4&&zN(t);break;case 21:break;default:Oo(e,t),fs(t)}}function fs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jj(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tm(i,""),r.flags&=-33);var a=VN(t);L_(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=VN(t);C_(t,s,o);break;default:throw Error(Ue(161))}}catch(l){mr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KV(t,e,n){Qe=t,tR(t)}function tR(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Q0;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Mi;s=Q0;var u=Mi;if(Q0=o,(Mi=l)&&!u)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?HN(i):l!==null?(l.return=o,Qe=l):HN(i);for(;a!==null;)Qe=a,tR(a),a=a.sibling;Qe=i,Q0=s,Mi=u}qN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Qe=a):qN(t)}}function qN(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mi||c2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&NN(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}NN(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Om(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Mi||e.flags&512&&O_(e)}catch(d){mr(e,e.return,d)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function WN(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function HN(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{c2(4,e)}catch(l){mr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){mr(e,i,l)}}var a=e.return;try{O_(e)}catch(l){mr(e,a,l)}break;case 5:var o=e.return;try{O_(e)}catch(l){mr(e,o,l)}}}catch(l){mr(e,e.return,l)}if(e===t){Qe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Qe=s;break}Qe=e.return}}var YV=Math.ceil,Ay=Fl.ReactCurrentDispatcher,MA=Fl.ReactCurrentOwner,mo=Fl.ReactCurrentBatchConfig,tn=0,oi=null,Rr=null,yi=0,Ra=0,bh=Zu(0),Gr=0,Vm=null,rf=0,f2=0,DA=0,fm=null,fa=null,FA=0,Jh=1/0,sl=null,Ey=!1,j_=null,Du=null,J0=!1,Tu=null,Py=0,hm=0,R_=null,Uv=-1,Vv=0;function Zi(){return tn&6?Pr():Uv!==-1?Uv:Uv=Pr()}function Fu(t){return t.mode&1?tn&2&&yi!==0?yi&-yi:CV.transition!==null?(Vv===0&&(Vv=$L()),Vv):(t=Sn,t!==0||(t=window.event,t=t===void 0?16:HL(t.type)),t):1}function Vo(t,e,n,r){if(50<hm)throw hm=0,R_=null,Error(Ue(185));$g(t,n,r),(!(tn&2)||t!==oi)&&(t===oi&&(!(tn&2)&&(f2|=n),Gr===4&&wu(t,yi)),va(t,r),n===1&&tn===0&&!(e.mode&1)&&(Jh=Pr()+500,s2&&ec()))}function va(t,e){var n=t.callbackNode;CU(t,e);var r=uy(t,t===oi?yi:0);if(r===0)n!==null&&tN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tN(n),e===1)t.tag===0?OV(GN.bind(null,t)):fj(GN.bind(null,t)),TV(function(){!(tn&6)&&ec()}),n=null;else{switch(BL(r)){case 1:n=cA;break;case 4:n=DL;break;case 16:n=ly;break;case 536870912:n=FL;break;default:n=ly}n=uR(n,nR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nR(t,e){if(Uv=-1,Vv=0,tn&6)throw Error(Ue(327));var n=t.callbackNode;if(Ih()&&t.callbackNode!==n)return null;var r=uy(t,t===oi?yi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ty(t,r);else{e=r;var i=tn;tn|=2;var a=iR();(oi!==t||yi!==e)&&(sl=null,Jh=Pr()+500,Wc(t,e));do try{JV();break}catch(s){rR(t,s)}while(!0);SA(),Ay.current=a,tn=i,Rr!==null?e=0:(oi=null,yi=0,e=Gr)}if(e!==0){if(e===2&&(i=l_(t),i!==0&&(r=i,e=M_(t,i))),e===1)throw n=Vm,Wc(t,0),wu(t,r),va(t,Pr()),n;if(e===6)wu(t,r);else{if(i=t.current.alternate,!(r&30)&&!XV(i)&&(e=Ty(t,r),e===2&&(a=l_(t),a!==0&&(r=a,e=M_(t,a))),e===1))throw n=Vm,Wc(t,0),wu(t,r),va(t,Pr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:Nc(t,fa,sl);break;case 3:if(wu(t,r),(r&130023424)===r&&(e=FA+500-Pr(),10<e)){if(uy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g_(Nc.bind(null,t,fa,sl),e);break}Nc(t,fa,sl);break;case 4:if(wu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Uo(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YV(r/1960))-r,10<r){t.timeoutHandle=g_(Nc.bind(null,t,fa,sl),r);break}Nc(t,fa,sl);break;case 5:Nc(t,fa,sl);break;default:throw Error(Ue(329))}}}return va(t,Pr()),t.callbackNode===n?nR.bind(null,t):null}function M_(t,e){var n=fm;return t.current.memoizedState.isDehydrated&&(Wc(t,e).flags|=256),t=Ty(t,e),t!==2&&(e=fa,fa=n,e!==null&&D_(e)),t}function D_(t){fa===null?fa=t:fa.push.apply(fa,t)}function XV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!qo(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wu(t,e){for(e&=~DA,e&=~f2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Uo(e),r=1<<n;t[n]=-1,e&=~r}}function GN(t){if(tn&6)throw Error(Ue(327));Ih();var e=uy(t,0);if(!(e&1))return va(t,Pr()),null;var n=Ty(t,e);if(t.tag!==0&&n===2){var r=l_(t);r!==0&&(e=r,n=M_(t,r))}if(n===1)throw n=Vm,Wc(t,0),wu(t,e),va(t,Pr()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nc(t,fa,sl),va(t,Pr()),null}function $A(t,e){var n=tn;tn|=1;try{return t(e)}finally{tn=n,tn===0&&(Jh=Pr()+500,s2&&ec())}}function af(t){Tu!==null&&Tu.tag===0&&!(tn&6)&&Ih();var e=tn;tn|=1;var n=mo.transition,r=Sn;try{if(mo.transition=null,Sn=1,t)return t()}finally{Sn=r,mo.transition=n,tn=e,!(tn&6)&&ec()}}function BA(){Ra=bh.current,Kn(bh)}function Wc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PV(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(wA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&py();break;case 3:Xh(),Kn(ma),Kn(Bi),kA();break;case 5:NA(r);break;case 4:Xh();break;case 13:Kn(or);break;case 19:Kn(or);break;case 10:AA(r.type._context);break;case 22:case 23:BA()}n=n.return}if(oi=t,Rr=t=$u(t.current,null),yi=Ra=e,Gr=0,Vm=null,DA=f2=rf=0,fa=fm=null,Fc!==null){for(e=0;e<Fc.length;e++)if(n=Fc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Fc=null}return t}function rR(t,e){do{var n=Rr;try{if(SA(),Fv.current=Sy,_y){for(var r=sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_y=!1}if(nf=0,ri=Hr=sr=null,um=!1,$m=0,MA.current=null,n===null||n.return===null){Gr=1,Vm=e,Rr=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=yi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=jN(o);if(h!==null){h.flags&=-257,RN(h,o,s,a,e),h.mode&1&&LN(a,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){LN(a,u,e),UA();break e}l=Error(Ue(426))}}else if(Zn&&s.mode&1){var w=jN(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),RN(w,o,s,a,e),xA(Qh(l,s));break e}}a=l=Qh(l,s),Gr!==4&&(Gr=2),fm===null?fm=[a]:fm.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=Bj(a,l,e);TN(a,y);break e;case 1:s=l;var _=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Du===null||!Du.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var N=Uj(a,s,e);TN(a,N);break e}}a=a.return}while(a!==null)}oR(n)}catch(O){e=O,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function iR(){var t=Ay.current;return Ay.current=Sy,t===null?Sy:t}function UA(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),oi===null||!(rf&268435455)&&!(f2&268435455)||wu(oi,yi)}function Ty(t,e){var n=tn;tn|=2;var r=iR();(oi!==t||yi!==e)&&(sl=null,Wc(t,e));do try{QV();break}catch(i){rR(t,i)}while(!0);if(SA(),tn=n,Ay.current=r,Rr!==null)throw Error(Ue(261));return oi=null,yi=0,Gr}function QV(){for(;Rr!==null;)aR(Rr)}function JV(){for(;Rr!==null&&!SU();)aR(Rr)}function aR(t){var e=lR(t.alternate,t,Ra);t.memoizedProps=t.pendingProps,e===null?oR(t):Rr=e,MA.current=null}function oR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WV(n,e),n!==null){n.flags&=32767,Rr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gr=6,Rr=null;return}}else if(n=qV(n,e,Ra),n!==null){Rr=n;return}if(e=e.sibling,e!==null){Rr=e;return}Rr=e=t}while(e!==null);Gr===0&&(Gr=5)}function Nc(t,e,n){var r=Sn,i=mo.transition;try{mo.transition=null,Sn=1,ZV(t,e,n,r)}finally{mo.transition=i,Sn=r}return null}function ZV(t,e,n,r){do Ih();while(Tu!==null);if(tn&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(LU(t,a),t===oi&&(Rr=oi=null,yi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||J0||(J0=!0,uR(ly,function(){return Ih(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mo.transition,mo.transition=null;var o=Sn;Sn=1;var s=tn;tn|=4,MA.current=null,GV(t,n),eR(n,t),bV(p_),cy=!!d_,p_=d_=null,t.current=n,KV(n),AU(),tn=s,Sn=o,mo.transition=a}else t.current=n;if(J0&&(J0=!1,Tu=t,Py=i),a=t.pendingLanes,a===0&&(Du=null),TU(n.stateNode),va(t,Pr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ey)throw Ey=!1,t=j_,j_=null,t;return Py&1&&t.tag!==0&&Ih(),a=t.pendingLanes,a&1?t===R_?hm++:(hm=0,R_=t):hm=0,ec(),null}function Ih(){if(Tu!==null){var t=BL(Py),e=mo.transition,n=Sn;try{if(mo.transition=null,Sn=16>t?16:t,Tu===null)var r=!1;else{if(t=Tu,Tu=null,Py=0,tn&6)throw Error(Ue(331));var i=tn;for(tn|=4,Qe=t.current;Qe!==null;){var a=Qe,o=a.child;if(Qe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Qe=u;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:cm(8,c,a)}var f=c.child;if(f!==null)f.return=c,Qe=f;else for(;Qe!==null;){c=Qe;var d=c.sibling,h=c.return;if(Qj(c),c===u){Qe=null;break}if(d!==null){d.return=h,Qe=d;break}Qe=h}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}Qe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Qe=o;else e:for(;Qe!==null;){if(a=Qe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:cm(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Qe=y;break e}Qe=a.return}}var _=t.current;for(Qe=_;Qe!==null;){o=Qe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Qe=S;else e:for(o=_;Qe!==null;){if(s=Qe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:c2(9,s)}}catch(O){mr(s,s.return,O)}if(s===o){Qe=null;break e}var N=s.sibling;if(N!==null){N.return=s.return,Qe=N;break e}Qe=s.return}}if(tn=i,ec(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(n2,t)}catch{}r=!0}return r}finally{Sn=n,mo.transition=e}}return!1}function KN(t,e,n){e=Qh(n,e),e=Bj(t,e,1),t=Mu(t,e,1),e=Zi(),t!==null&&($g(t,1,e),va(t,e))}function mr(t,e,n){if(t.tag===3)KN(t,t,n);else for(;e!==null;){if(e.tag===3){KN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Du===null||!Du.has(r))){t=Qh(n,t),t=Uj(e,t,1),e=Mu(e,t,1),t=Zi(),e!==null&&($g(e,1,t),va(e,t));break}}e=e.return}}function ez(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zi(),t.pingedLanes|=t.suspendedLanes&n,oi===t&&(yi&n)===n&&(Gr===4||Gr===3&&(yi&130023424)===yi&&500>Pr()-FA?Wc(t,0):DA|=n),va(t,e)}function sR(t,e){e===0&&(t.mode&1?(e=V0,V0<<=1,!(V0&130023424)&&(V0=4194304)):e=1);var n=Zi();t=Nl(t,e),t!==null&&($g(t,e,n),va(t,n))}function tz(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sR(t,n)}function nz(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),sR(t,n)}var lR;lR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ma.current)da=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return da=!1,zV(t,e,n);da=!!(t.flags&131072)}else da=!1,Zn&&e.flags&1048576&&hj(e,vy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bv(t,e),t=e.pendingProps;var i=Gh(e,Bi.current);kh(e,n),i=OA(null,e,r,t,i,n);var a=CA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ga(r)?(a=!0,my(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PA(e),i.updater=u2,e.stateNode=i,i._reactInternals=e,S_(e,r,t,n),e=P_(null,e,r,!0,a,n)):(e.tag=0,Zn&&a&&bA(e),Qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iz(r),t=jo(r,t),i){case 0:e=E_(null,e,r,t,n);break e;case 1:e=FN(null,e,r,t,n);break e;case 11:e=MN(null,e,r,t,n);break e;case 14:e=DN(null,e,r,jo(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),E_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),FN(t,e,r,i,n);case 3:e:{if(Wj(e),t===null)throw Error(Ue(387));r=e.pendingProps,a=e.memoizedState,i=a.element,yj(t,e),wy(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Qh(Error(Ue(423)),e),e=$N(t,e,r,n,i);break e}else if(r!==i){i=Qh(Error(Ue(424)),e),e=$N(t,e,r,n,i);break e}else for(Fa=Ru(e.stateNode.containerInfo.firstChild),Va=e,Zn=!0,Do=null,n=gj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kh(),r===i){e=kl(t,e,n);break e}Qi(t,e,r,n)}e=e.child}return e;case 5:return bj(e),t===null&&w_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,m_(r,i)?o=null:a!==null&&m_(r,a)&&(e.flags|=32),qj(t,e),Qi(t,e,o,n),e.child;case 6:return t===null&&w_(e),null;case 13:return Hj(t,e,n);case 4:return TA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yh(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),MN(t,e,r,i,n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:return Qi(t,e,e.pendingProps.children,n),e.child;case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$n(yy,r._currentValue),r._currentValue=o,a!==null)if(qo(a.value,o)){if(a.children===i.children&&!ma.current){e=kl(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=xl(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),x_(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ue(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),x_(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kh(e,n),i=vo(i),r=r(i),e.flags|=1,Qi(t,e,r,n),e.child;case 14:return r=e.type,i=jo(r,e.pendingProps),i=jo(r.type,i),DN(t,e,r,i,n);case 15:return Vj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:jo(r,i),Bv(t,e),e.tag=1,ga(r)?(t=!0,my(e)):t=!1,kh(e,n),$j(e,r,i),S_(e,r,i,n),P_(null,e,r,!0,t,n);case 19:return Gj(t,e,n);case 22:return zj(t,e,n)}throw Error(Ue(156,e.tag))};function uR(t,e){return ML(t,e)}function rz(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new rz(t,e,n,r)}function VA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iz(t){if(typeof t=="function")return VA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sA)return 11;if(t===lA)return 14}return 2}function $u(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zv(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")VA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uh:return Hc(n.children,i,a,e);case oA:o=8,i|=8;break;case Gx:return t=ho(12,n,e,i|2),t.elementType=Gx,t.lanes=a,t;case Kx:return t=ho(13,n,e,i),t.elementType=Kx,t.lanes=a,t;case Yx:return t=ho(19,n,e,i),t.elementType=Yx,t.lanes=a,t;case bL:return h2(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vL:o=10;break e;case yL:o=9;break e;case sA:o=11;break e;case lA:o=14;break e;case gu:o=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=ho(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Hc(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function h2(t,e,n,r){return t=ho(22,t,r,e),t.elementType=bL,t.lanes=n,t.stateNode={isHidden:!1},t}function xw(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function _w(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function az(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nw(0),this.expirationTimes=nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zA(t,e,n,r,i,a,o,s,l){return t=new az(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ho(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PA(a),t}function oz(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cR(t){if(!t)return Wu;t=t._reactInternals;e:{if(_f(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ga(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(ga(n))return cj(t,n,e)}return e}function fR(t,e,n,r,i,a,o,s,l){return t=zA(n,r,!0,t,i,a,o,s,l),t.context=cR(null),n=t.current,r=Zi(),i=Fu(n),a=xl(r,i),a.callback=e??null,Mu(n,a,i),t.current.lanes=i,$g(t,i,r),va(t,r),t}function d2(t,e,n,r){var i=e.current,a=Zi(),o=Fu(i);return n=cR(n),e.context===null?e.context=n:e.pendingContext=n,e=xl(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mu(i,e,o),t!==null&&(Vo(t,i,o,a),Dv(t,i,o)),o}function Ny(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qA(t,e){YN(t,e),(t=t.alternate)&&YN(t,e)}function sz(){return null}var hR=typeof reportError=="function"?reportError:function(t){console.error(t)};function WA(t){this._internalRoot=t}p2.prototype.render=WA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));d2(t,e,null,null)};p2.prototype.unmount=WA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;af(function(){d2(null,t,null,null)}),e[Tl]=null}};function p2(t){this._internalRoot=t}p2.prototype.unstable_scheduleHydration=function(t){if(t){var e=zL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bu.length&&e!==0&&e<bu[n].priority;n++);bu.splice(n,0,t),n===0&&WL(t)}};function HA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XN(){}function lz(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Ny(o);a.call(u)}}var o=fR(e,r,t,0,null,!1,!1,"",XN);return t._reactRootContainer=o,t[Tl]=o.current,jm(t.nodeType===8?t.parentNode:t),af(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ny(l);s.call(u)}}var l=zA(t,0,!1,null,null,!1,!1,"",XN);return t._reactRootContainer=l,t[Tl]=l.current,jm(t.nodeType===8?t.parentNode:t),af(function(){d2(e,l,n,r)}),l}function g2(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ny(o);s.call(l)}}d2(e,o,t,i)}else o=lz(n,e,t,i,r);return Ny(o)}UL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yp(e.pendingLanes);n!==0&&(fA(e,n|1),va(e,Pr()),!(tn&6)&&(Jh=Pr()+500,ec()))}break;case 13:af(function(){var r=Nl(t,1);if(r!==null){var i=Zi();Vo(r,t,1,i)}}),qA(t,1)}};hA=function(t){if(t.tag===13){var e=Nl(t,134217728);if(e!==null){var n=Zi();Vo(e,t,134217728,n)}qA(t,134217728)}};VL=function(t){if(t.tag===13){var e=Fu(t),n=Nl(t,e);if(n!==null){var r=Zi();Vo(n,t,e,r)}qA(t,e)}};zL=function(){return Sn};qL=function(t,e){var n=Sn;try{return Sn=t,e()}finally{Sn=n}};a_=function(t,e,n){switch(e){case"input":if(Jx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=o2(r);if(!i)throw Error(Ue(90));xL(r),Jx(r,i)}}}break;case"textarea":SL(t,n);break;case"select":e=n.value,e!=null&&Eh(t,!!n.multiple,e,!1)}};IL=$A;OL=af;var uz={usingClientEntryPoint:!1,Events:[Ug,dh,o2,NL,kL,$A]},Ep={findFiberByHostInstance:Dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cz={bundleType:Ep.bundleType,version:Ep.version,rendererPackageName:Ep.rendererPackageName,rendererConfig:Ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jL(t),t===null?null:t.stateNode},findFiberByHostInstance:Ep.findFiberByHostInstance||sz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z0.isDisabled&&Z0.supportsFiber)try{n2=Z0.inject(cz),Ps=Z0}catch{}}qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uz;qa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HA(e))throw Error(Ue(200));return oz(t,e,null,n)};qa.createRoot=function(t,e){if(!HA(t))throw Error(Ue(299));var n=!1,r="",i=hR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zA(t,1,!1,null,null,n,!1,r,i),t[Tl]=e.current,jm(t.nodeType===8?t.parentNode:t),new WA(e)};qa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=jL(e),t=t===null?null:t.stateNode,t};qa.flushSync=function(t){return af(t)};qa.hydrate=function(t,e,n){if(!m2(e))throw Error(Ue(200));return g2(null,t,e,!0,n)};qa.hydrateRoot=function(t,e,n){if(!HA(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=hR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fR(e,null,t,1,n??null,i,!1,a,o),t[Tl]=e.current,jm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new p2(e)};qa.render=function(t,e,n){if(!m2(e))throw Error(Ue(200));return g2(null,t,e,!1,n)};qa.unmountComponentAtNode=function(t){if(!m2(t))throw Error(Ue(40));return t._reactRootContainer?(af(function(){g2(null,null,t,!1,function(){t._reactRootContainer=null,t[Tl]=null})}),!0):!1};qa.unstable_batchedUpdates=$A;qa.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!m2(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return g2(t,e,n,!1,r)};qa.version="18.3.1-next-f1338f8080-20240426";function dR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dR)}catch(t){console.error(t)}}dR(),dL.exports=qa;var fz=dL.exports,QN=fz;Wx.createRoot=QN.createRoot,Wx.hydrateRoot=QN.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}var Nu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nu||(Nu={}));const JN="popstate";function hz(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:s="",hash:l=""}=Sf(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),F_("",{pathname:o,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),s="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof a=="string"?a:pR(a))}function r(i,a){v2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return pz(e,n,r,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dz(){return Math.random().toString(36).substr(2,8)}function ZN(t,e){return{usr:t.state,key:t.key,idx:e}}function F_(t,e,n,r){return n===void 0&&(n=null),zm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sf(e):e,{state:n,key:e&&e.key||r||dz()})}function pR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pz(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Nu.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(zm({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=Nu.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:s,location:b.location,delta:y})}function d(w,y){s=Nu.Push;let _=F_(b.location,w,y);n&&n(_,w),u=c()+1;let S=ZN(_,u),N=b.createHref(_);try{o.pushState(S,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}a&&l&&l({action:s,location:b.location,delta:1})}function h(w,y){s=Nu.Replace;let _=F_(b.location,w,y);n&&n(_,w),u=c();let S=ZN(_,u),N=b.createHref(_);o.replaceState(S,"",N),a&&l&&l({action:s,location:b.location,delta:0})}function v(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:pR(w);return _=_.replace(/ $/,"%20"),Dr(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let b={get action(){return s},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JN,f),l=w,()=>{i.removeEventListener(JN,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(w){return o.go(w)}};return b}var e4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(e4||(e4={}));function mz(t,e,n){return n===void 0&&(n="/"),gz(t,e,n)}function gz(t,e,n,r){let i=typeof e=="string"?Sf(e):e,a=vR(i.pathname||"/",n);if(a==null)return null;let o=mR(t);vz(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=kz(a);s=Pz(o[l],u)}return s}function mR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Dr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Gc([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(Dr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mR(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Az(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of gR(a.path))i(a,o,l)}),e}function gR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=gR(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function vz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ez(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yz=/^:[\w-]+$/,bz=3,wz=2,xz=1,_z=10,Sz=-2,t4=t=>t==="*";function Az(t,e){let n=t.split("/"),r=n.length;return n.some(t4)&&(r+=Sz),e&&(r+=wz),n.filter(i=>!t4(i)).reduce((i,a)=>i+(yz.test(a)?bz:a===""?xz:_z),r)}function Ez(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Pz(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=Tz({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Gc([a,f.pathname]),pathnameBase:jz(Gc([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=Gc([a,f.pathnameBase]))}return o}function Tz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nz(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let b=s[f]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Nz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),v2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return v2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oz=t=>Iz.test(t);function Cz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Sf(t):t,a;if(n)if(Oz(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),v2(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=n4(n.substring(1),"/"):a=n4(n,e)}else a=e;return{pathname:a,search:Rz(r),hash:Mz(i)}}function n4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lz(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yR(t,e){let n=Lz(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Sf(t):(i=zm({},t),Dr(!i.pathname||!i.pathname.includes("?"),Sw("?","pathname","search",i)),Dr(!i.pathname||!i.pathname.includes("#"),Sw("#","pathname","hash",i)),Dr(!i.search||!i.search.includes("#"),Sw("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=Cz(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Gc=t=>t.join("/").replace(/\/\/+/g,"/"),jz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Mz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wR=["post","put","patch","delete"];new Set(wR);const Fz=["get",...wR];new Set(Fz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}const GA=se.createContext(null),$z=se.createContext(null),zg=se.createContext(null),y2=se.createContext(null),Af=se.createContext({outlet:null,matches:[],isDataRoute:!1}),xR=se.createContext(null);function qg(){return se.useContext(y2)!=null}function Wg(){return qg()||Dr(!1),se.useContext(y2).location}function _R(t){se.useContext(zg).static||se.useLayoutEffect(t)}function KA(){let{isDataRoute:t}=se.useContext(Af);return t?Jz():Bz()}function Bz(){qg()||Dr(!1);let t=se.useContext(GA),{basename:e,future:n,navigator:r}=se.useContext(zg),{matches:i}=se.useContext(Af),{pathname:a}=Wg(),o=JSON.stringify(yR(i,n.v7_relativeSplatPath)),s=se.useRef(!1);return _R(()=>{s.current=!0}),se.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=bR(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Gc([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function Uz(t,e){return Vz(t,e)}function Vz(t,e,n,r){qg()||Dr(!1);let{navigator:i}=se.useContext(zg),{matches:a}=se.useContext(Af),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Wg(),c;if(e){var f;let w=typeof e=="string"?Sf(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Dr(!1),c=w}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=mz(t,{pathname:h}),b=Gz(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:Gc([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Gc([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return e&&b?se.createElement(y2.Provider,{value:{location:qm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Nu.Pop}},b):b}function zz(){let t=Qz(),e=Dz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,null)}const qz=se.createElement(zz,null);class Wz extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?se.createElement(Af.Provider,{value:this.props.routeContext},se.createElement(xR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hz(t){let{routeContext:e,match:n,children:r}=t,i=se.useContext(GA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(Af.Provider,{value:e},r)}function Gz(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Dr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,d)=>{let h,v=!1,b=null,w=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||qz,l&&(u<0&&d===0?(Zz("route-fallback"),v=!0,w=null):u===d&&(v=!0,w=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),_=()=>{let S;return h?S=b:v?S=w:f.route.Component?S=se.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=c,se.createElement(Hz,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?se.createElement(Wz,{location:n.location,revalidation:n.revalidation,component:b,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var SR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SR||{}),AR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AR||{});function Kz(t){let e=se.useContext(GA);return e||Dr(!1),e}function Yz(t){let e=se.useContext($z);return e||Dr(!1),e}function Xz(t){let e=se.useContext(Af);return e||Dr(!1),e}function ER(t){let e=Xz(),n=e.matches[e.matches.length-1];return n.route.id||Dr(!1),n.route.id}function Qz(){var t;let e=se.useContext(xR),n=Yz(),r=ER();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Jz(){let{router:t}=Kz(SR.UseNavigateStable),e=ER(AR.UseNavigateStable),n=se.useRef(!1);return _R(()=>{n.current=!0}),se.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qm({fromRouteId:e},a)))},[t,e])}const r4={};function Zz(t,e,n){r4[t]||(r4[t]=!0)}function eq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $_(t){let{to:e,replace:n,state:r,relative:i}=t;qg()||Dr(!1);let{future:a,static:o}=se.useContext(zg),{matches:s}=se.useContext(Af),{pathname:l}=Wg(),u=KA(),c=bR(e,yR(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return se.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function gs(t){Dr(!1)}function tq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Nu.Pop,navigator:a,static:o=!1,future:s}=t;qg()&&Dr(!1);let l=e.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:a,static:o,future:qm({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Sf(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:v="default"}=r,b=se.useMemo(()=>{let w=vR(c,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:h,key:v},navigationType:i}},[l,c,f,d,h,v,i]);return b==null?null:se.createElement(zg.Provider,{value:u},se.createElement(y2.Provider,{children:n,value:b}))}function nq(t){let{children:e,location:n}=t;return Uz(B_(e),n)}new Promise(()=>{});function B_(t,e){e===void 0&&(e=[]);let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let a=[...e,i];if(r.type===se.Fragment){n.push.apply(n,B_(r.props.children,a));return}r.type!==gs&&Dr(!1),!r.props.index||!r.props.children||Dr(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=B_(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rq="6";try{window.__reactRouterVersion=rq}catch{}const iq="startTransition",i4=eU[iq];function aq(t){let{basename:e,children:n,future:r,window:i}=t,a=se.useRef();a.current==null&&(a.current=hz({window:i,v5Compat:!0}));let o=a.current,[s,l]=se.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=se.useCallback(f=>{u&&i4?i4(()=>l(f)):l(f)},[l,u]);return se.useLayoutEffect(()=>o.listen(c),[o,c]),se.useEffect(()=>eq(r),[r]),se.createElement(tq,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var a4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(a4||(a4={}));var o4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o4||(o4={}));var rn=(t=>(t.ADMIN="ADMIN",t.EMPLOYEE="EMPLOYEE",t))(rn||{}),s4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},TR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let d=(s&15)<<2|u>>6,h=u&63;l||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new sq;const d=a<<2|s>>4;if(r.push(d),u!==64){const h=s<<4&240|u>>2;if(r.push(h),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lq=function(t){const e=PR(t);return TR.encodeByteArray(e,!0)},ky=function(t){return lq(t).replace(/\./g,"")},NR=function(t){try{return TR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=()=>uq().__FIREBASE_DEFAULTS__,fq=()=>{if(typeof process>"u"||typeof s4>"u")return;const t=s4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NR(t[1]);return e&&JSON.parse(e)},b2=()=>{try{return cq()||fq()||hq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kR=t=>{var e,n;return(n=(e=b2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IR=t=>{const e=kR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OR=()=>{var t;return(t=b2())===null||t===void 0?void 0:t.config},CR=t=>{var e;return(e=b2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ky(JSON.stringify(n)),ky(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ui())}function mq(){var t;const e=(t=b2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bq(){const t=Ui();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wq(){return!mq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xq(){try{return typeof indexedDB=="object"}catch{return!1}}function _q(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="FirebaseError";class Bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Sq,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hg.prototype.create)}}class Hg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Aq(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Bs(i,s,r)}}function Aq(t,e){return t.replace(Eq,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Eq=/\{\$([^}]+)}/g;function Pq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(l4(a)&&l4(o)){if(!Wm(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Jp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Tq(t,e){const n=new Nq(t,e);return n.subscribe.bind(n)}class Nq{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");kq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Aw),i.error===void 0&&(i.error=Aw),i.complete===void 0&&(i.complete=Aw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kq(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Aw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Hu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cq(e))try{this.getOrInitializeService({instanceIdentifier:kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=kc){return this.instances.has(e)}getOptions(e=kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Oq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kc){return this.component?this.component.multipleInstances?e:kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Oq(t){return t===kc?void 0:t}function Cq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Iq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qt||(Qt={}));const jq={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},Rq=Qt.INFO,Mq={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},Dq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Mq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class YA{constructor(e){this.name=e,this._logLevel=Rq,this._logHandler=Dq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}const Fq=(t,e)=>e.some(n=>t instanceof n);let u4,c4;function $q(){return u4||(u4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bq(){return c4||(c4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jR=new WeakMap,U_=new WeakMap,RR=new WeakMap,Ew=new WeakMap,XA=new WeakMap;function Uq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Bu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),XA.set(e,t),e}function Vq(t){if(U_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});U_.set(t,e)}let V_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zq(t){V_=t(V_)}function qq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pw(this),e,...n);return RR.set(r,e.sort?e.sort():[e]),Bu(r)}:Bq().includes(t)?function(...e){return t.apply(Pw(this),e),Bu(jR.get(this))}:function(...e){return Bu(t.apply(Pw(this),e))}}function Wq(t){return typeof t=="function"?qq(t):(t instanceof IDBTransaction&&Vq(t),Fq(t,$q())?new Proxy(t,V_):t)}function Bu(t){if(t instanceof IDBRequest)return Uq(t);if(Ew.has(t))return Ew.get(t);const e=Wq(t);return e!==t&&(Ew.set(t,e),XA.set(e,t)),e}const Pw=t=>XA.get(t);function Hq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Bu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bu(o.result),l.oldVersion,l.newVersion,Bu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const Gq=["get","getKey","getAll","getAllKeys","count"],Kq=["put","add","delete","clear"],Tw=new Map;function f4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tw.get(e))return Tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Kq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gq.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Tw.set(e,a),a}zq(t=>({...t,get:(e,n,r)=>f4(e,n)||t.get(e,n,r),has:(e,n)=>!!f4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z_="@firebase/app",h4="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new YA("@firebase/app"),Qq="@firebase/app-compat",Jq="@firebase/analytics-compat",Zq="@firebase/analytics",eW="@firebase/app-check-compat",tW="@firebase/app-check",nW="@firebase/auth",rW="@firebase/auth-compat",iW="@firebase/database",aW="@firebase/data-connect",oW="@firebase/database-compat",sW="@firebase/functions",lW="@firebase/functions-compat",uW="@firebase/installations",cW="@firebase/installations-compat",fW="@firebase/messaging",hW="@firebase/messaging-compat",dW="@firebase/performance",pW="@firebase/performance-compat",mW="@firebase/remote-config",gW="@firebase/remote-config-compat",vW="@firebase/storage",yW="@firebase/storage-compat",bW="@firebase/firestore",wW="@firebase/vertexai-preview",xW="@firebase/firestore-compat",_W="firebase",SW="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="[DEFAULT]",AW={[z_]:"fire-core",[Qq]:"fire-core-compat",[Zq]:"fire-analytics",[Jq]:"fire-analytics-compat",[tW]:"fire-app-check",[eW]:"fire-app-check-compat",[nW]:"fire-auth",[rW]:"fire-auth-compat",[iW]:"fire-rtdb",[aW]:"fire-data-connect",[oW]:"fire-rtdb-compat",[sW]:"fire-fn",[lW]:"fire-fn-compat",[uW]:"fire-iid",[cW]:"fire-iid-compat",[fW]:"fire-fcm",[hW]:"fire-fcm-compat",[dW]:"fire-perf",[pW]:"fire-perf-compat",[mW]:"fire-rc",[gW]:"fire-rc-compat",[vW]:"fire-gcs",[yW]:"fire-gcs-compat",[bW]:"fire-fst",[xW]:"fire-fst-compat",[wW]:"fire-vertex","fire-js":"fire-js",[_W]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Map,EW=new Map,W_=new Map;function d4(t,e){try{t.container.addComponent(e)}catch(n){Il.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function of(t){const e=t.name;if(W_.has(e))return Il.debug(`There were multiple attempts to register component ${e}.`),!1;W_.set(e,t);for(const n of Iy.values())d4(n,t);for(const n of EW.values())d4(n,t);return!0}function w2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $o(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uu=new Hg("app","Firebase",PW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=SW;function MR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:q_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Uu.create("bad-app-name",{appName:String(i)});if(n||(n=OR()),!n)throw Uu.create("no-options");const a=Iy.get(i);if(a){if(Wm(n,a.options)&&Wm(r,a.config))return a;throw Uu.create("duplicate-app",{appName:i})}const o=new Lq(i);for(const l of W_.values())o.addComponent(l);const s=new TW(n,r,o);return Iy.set(i,s),s}function QA(t=q_){const e=Iy.get(t);if(!e&&t===q_&&OR())return MR();if(!e)throw Uu.create("no-app",{appName:t});return e}function Ns(t,e,n){var r;let i=(r=AW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Il.warn(s.join(" "));return}of(new Hu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW="firebase-heartbeat-database",kW=1,Hm="firebase-heartbeat-store";let Nw=null;function DR(){return Nw||(Nw=Hq(NW,kW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uu.create("idb-open",{originalErrorMessage:t.message})})),Nw}async function IW(t){try{const n=(await DR()).transaction(Hm),r=await n.objectStore(Hm).get(FR(t));return await n.done,r}catch(e){if(e instanceof Bs)Il.warn(e.message);else{const n=Uu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Il.warn(n.message)}}}async function p4(t,e){try{const r=(await DR()).transaction(Hm,"readwrite");await r.objectStore(Hm).put(e,FR(t)),await r.done}catch(n){if(n instanceof Bs)Il.warn(n.message);else{const r=Uu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Il.warn(r.message)}}}function FR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=1024,CW=30*24*60*60*1e3;class LW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m4();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=CW}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Il.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m4(),{heartbeatsToSend:r,unsentEntries:i}=jW(this._heartbeatsCache.heartbeats),a=ky(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Il.warn(n),""}}}function m4(){return new Date().toISOString().substring(0,10)}function jW(t,e=OW){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),g4(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xq()?_q().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g4(t){return ky(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){of(new Hu("platform-logger",e=>new Yq(e),"PRIVATE")),of(new Hu("heartbeat",e=>new LW(e),"PRIVATE")),Ns(z_,h4,t),Ns(z_,h4,"esm2017"),Ns("fire-js","")}MW("");var v4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kc,$R;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function E(){}E.prototype=P.prototype,k.D=P.prototype,k.prototype=new E,k.prototype.constructor=k,k.C=function(F,T,j){for(var M=Array(arguments.length-2),z=2;z<arguments.length;z++)M[z-2]=arguments[z];return P.prototype[T].apply(F,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,P,E){E||(E=0);var F=Array(16);if(typeof P=="string")for(var T=0;16>T;++T)F[T]=P.charCodeAt(E++)|P.charCodeAt(E++)<<8|P.charCodeAt(E++)<<16|P.charCodeAt(E++)<<24;else for(T=0;16>T;++T)F[T]=P[E++]|P[E++]<<8|P[E++]<<16|P[E++]<<24;P=k.g[0],E=k.g[1],T=k.g[2];var j=k.g[3],M=P+(j^E&(T^j))+F[0]+3614090360&4294967295;P=E+(M<<7&4294967295|M>>>25),M=j+(T^P&(E^T))+F[1]+3905402710&4294967295,j=P+(M<<12&4294967295|M>>>20),M=T+(E^j&(P^E))+F[2]+606105819&4294967295,T=j+(M<<17&4294967295|M>>>15),M=E+(P^T&(j^P))+F[3]+3250441966&4294967295,E=T+(M<<22&4294967295|M>>>10),M=P+(j^E&(T^j))+F[4]+4118548399&4294967295,P=E+(M<<7&4294967295|M>>>25),M=j+(T^P&(E^T))+F[5]+1200080426&4294967295,j=P+(M<<12&4294967295|M>>>20),M=T+(E^j&(P^E))+F[6]+2821735955&4294967295,T=j+(M<<17&4294967295|M>>>15),M=E+(P^T&(j^P))+F[7]+4249261313&4294967295,E=T+(M<<22&4294967295|M>>>10),M=P+(j^E&(T^j))+F[8]+1770035416&4294967295,P=E+(M<<7&4294967295|M>>>25),M=j+(T^P&(E^T))+F[9]+2336552879&4294967295,j=P+(M<<12&4294967295|M>>>20),M=T+(E^j&(P^E))+F[10]+4294925233&4294967295,T=j+(M<<17&4294967295|M>>>15),M=E+(P^T&(j^P))+F[11]+2304563134&4294967295,E=T+(M<<22&4294967295|M>>>10),M=P+(j^E&(T^j))+F[12]+1804603682&4294967295,P=E+(M<<7&4294967295|M>>>25),M=j+(T^P&(E^T))+F[13]+4254626195&4294967295,j=P+(M<<12&4294967295|M>>>20),M=T+(E^j&(P^E))+F[14]+2792965006&4294967295,T=j+(M<<17&4294967295|M>>>15),M=E+(P^T&(j^P))+F[15]+1236535329&4294967295,E=T+(M<<22&4294967295|M>>>10),M=P+(T^j&(E^T))+F[1]+4129170786&4294967295,P=E+(M<<5&4294967295|M>>>27),M=j+(E^T&(P^E))+F[6]+3225465664&4294967295,j=P+(M<<9&4294967295|M>>>23),M=T+(P^E&(j^P))+F[11]+643717713&4294967295,T=j+(M<<14&4294967295|M>>>18),M=E+(j^P&(T^j))+F[0]+3921069994&4294967295,E=T+(M<<20&4294967295|M>>>12),M=P+(T^j&(E^T))+F[5]+3593408605&4294967295,P=E+(M<<5&4294967295|M>>>27),M=j+(E^T&(P^E))+F[10]+38016083&4294967295,j=P+(M<<9&4294967295|M>>>23),M=T+(P^E&(j^P))+F[15]+3634488961&4294967295,T=j+(M<<14&4294967295|M>>>18),M=E+(j^P&(T^j))+F[4]+3889429448&4294967295,E=T+(M<<20&4294967295|M>>>12),M=P+(T^j&(E^T))+F[9]+568446438&4294967295,P=E+(M<<5&4294967295|M>>>27),M=j+(E^T&(P^E))+F[14]+3275163606&4294967295,j=P+(M<<9&4294967295|M>>>23),M=T+(P^E&(j^P))+F[3]+4107603335&4294967295,T=j+(M<<14&4294967295|M>>>18),M=E+(j^P&(T^j))+F[8]+1163531501&4294967295,E=T+(M<<20&4294967295|M>>>12),M=P+(T^j&(E^T))+F[13]+2850285829&4294967295,P=E+(M<<5&4294967295|M>>>27),M=j+(E^T&(P^E))+F[2]+4243563512&4294967295,j=P+(M<<9&4294967295|M>>>23),M=T+(P^E&(j^P))+F[7]+1735328473&4294967295,T=j+(M<<14&4294967295|M>>>18),M=E+(j^P&(T^j))+F[12]+2368359562&4294967295,E=T+(M<<20&4294967295|M>>>12),M=P+(E^T^j)+F[5]+4294588738&4294967295,P=E+(M<<4&4294967295|M>>>28),M=j+(P^E^T)+F[8]+2272392833&4294967295,j=P+(M<<11&4294967295|M>>>21),M=T+(j^P^E)+F[11]+1839030562&4294967295,T=j+(M<<16&4294967295|M>>>16),M=E+(T^j^P)+F[14]+4259657740&4294967295,E=T+(M<<23&4294967295|M>>>9),M=P+(E^T^j)+F[1]+2763975236&4294967295,P=E+(M<<4&4294967295|M>>>28),M=j+(P^E^T)+F[4]+1272893353&4294967295,j=P+(M<<11&4294967295|M>>>21),M=T+(j^P^E)+F[7]+4139469664&4294967295,T=j+(M<<16&4294967295|M>>>16),M=E+(T^j^P)+F[10]+3200236656&4294967295,E=T+(M<<23&4294967295|M>>>9),M=P+(E^T^j)+F[13]+681279174&4294967295,P=E+(M<<4&4294967295|M>>>28),M=j+(P^E^T)+F[0]+3936430074&4294967295,j=P+(M<<11&4294967295|M>>>21),M=T+(j^P^E)+F[3]+3572445317&4294967295,T=j+(M<<16&4294967295|M>>>16),M=E+(T^j^P)+F[6]+76029189&4294967295,E=T+(M<<23&4294967295|M>>>9),M=P+(E^T^j)+F[9]+3654602809&4294967295,P=E+(M<<4&4294967295|M>>>28),M=j+(P^E^T)+F[12]+3873151461&4294967295,j=P+(M<<11&4294967295|M>>>21),M=T+(j^P^E)+F[15]+530742520&4294967295,T=j+(M<<16&4294967295|M>>>16),M=E+(T^j^P)+F[2]+3299628645&4294967295,E=T+(M<<23&4294967295|M>>>9),M=P+(T^(E|~j))+F[0]+4096336452&4294967295,P=E+(M<<6&4294967295|M>>>26),M=j+(E^(P|~T))+F[7]+1126891415&4294967295,j=P+(M<<10&4294967295|M>>>22),M=T+(P^(j|~E))+F[14]+2878612391&4294967295,T=j+(M<<15&4294967295|M>>>17),M=E+(j^(T|~P))+F[5]+4237533241&4294967295,E=T+(M<<21&4294967295|M>>>11),M=P+(T^(E|~j))+F[12]+1700485571&4294967295,P=E+(M<<6&4294967295|M>>>26),M=j+(E^(P|~T))+F[3]+2399980690&4294967295,j=P+(M<<10&4294967295|M>>>22),M=T+(P^(j|~E))+F[10]+4293915773&4294967295,T=j+(M<<15&4294967295|M>>>17),M=E+(j^(T|~P))+F[1]+2240044497&4294967295,E=T+(M<<21&4294967295|M>>>11),M=P+(T^(E|~j))+F[8]+1873313359&4294967295,P=E+(M<<6&4294967295|M>>>26),M=j+(E^(P|~T))+F[15]+4264355552&4294967295,j=P+(M<<10&4294967295|M>>>22),M=T+(P^(j|~E))+F[6]+2734768916&4294967295,T=j+(M<<15&4294967295|M>>>17),M=E+(j^(T|~P))+F[13]+1309151649&4294967295,E=T+(M<<21&4294967295|M>>>11),M=P+(T^(E|~j))+F[4]+4149444226&4294967295,P=E+(M<<6&4294967295|M>>>26),M=j+(E^(P|~T))+F[11]+3174756917&4294967295,j=P+(M<<10&4294967295|M>>>22),M=T+(P^(j|~E))+F[2]+718787259&4294967295,T=j+(M<<15&4294967295|M>>>17),M=E+(j^(T|~P))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(T+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+T&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var E=P-this.blockSize,F=this.B,T=this.h,j=0;j<P;){if(T==0)for(;j<=E;)i(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<P;)if(F[T++]=k.charCodeAt(j++),T==this.blockSize){i(this,F),T=0;break}}else for(;j<P;)if(F[T++]=k[j++],T==this.blockSize){i(this,F),T=0;break}}this.h=T,this.o+=P},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var E=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=E&255,E/=256;for(this.u(k),k=Array(16),P=E=0;4>P;++P)for(var F=0;32>F;F+=8)k[E++]=this.g[P]>>>F&255;return k};function a(k,P){var E=s;return Object.prototype.hasOwnProperty.call(E,k)?E[k]:E[k]=P(k)}function o(k,P){this.h=P;for(var E=[],F=!0,T=k.length-1;0<=T;T--){var j=k[T]|0;F&&j==P||(E[T]=j,F=!1)}this.g=E}var s={};function l(k){return-128<=k&&128>k?a(k,function(P){return new o([P|0],0>P?-1:0)}):new o([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return w(u(-k));for(var P=[],E=1,F=0;k>=E;F++)P[F]=k/E|0,E*=4294967296;return new o(P,0)}function c(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return w(c(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(P,8)),F=f,T=0;T<k.length;T+=8){var j=Math.min(8,k.length-T),M=parseInt(k.substring(T,T+j),P);8>j?(j=u(Math.pow(P,j)),F=F.j(j).add(u(M))):(F=F.j(E),F=F.add(u(M)))}return F}var f=l(0),d=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-w(this).m();for(var k=0,P=1,E=0;E<this.g.length;E++){var F=this.i(E);k+=(0<=F?F:4294967296+F)*P,P*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(b(this))return"-"+w(this).toString(k);for(var P=u(Math.pow(k,6)),E=this,F="";;){var T=N(E,P).g;E=y(E,T.j(P));var j=((0<E.g.length?E.g[0]:E.h)>>>0).toString(k);if(E=T,v(E))return j+F;for(;6>j.length;)j="0"+j;F=j+F}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=y(this,k),b(k)?-1:v(k)?0:1};function w(k){for(var P=k.g.length,E=[],F=0;F<P;F++)E[F]=~k.g[F];return new o(E,~k.h).add(d)}t.abs=function(){return b(this)?w(this):this},t.add=function(k){for(var P=Math.max(this.g.length,k.g.length),E=[],F=0,T=0;T<=P;T++){var j=F+(this.i(T)&65535)+(k.i(T)&65535),M=(j>>>16)+(this.i(T)>>>16)+(k.i(T)>>>16);F=M>>>16,j&=65535,M&=65535,E[T]=M<<16|j}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(k,P){return k.add(w(P))}t.j=function(k){if(v(this)||v(k))return f;if(b(this))return b(k)?w(this).j(w(k)):w(w(this).j(k));if(b(k))return w(this.j(w(k)));if(0>this.l(h)&&0>k.l(h))return u(this.m()*k.m());for(var P=this.g.length+k.g.length,E=[],F=0;F<2*P;F++)E[F]=0;for(F=0;F<this.g.length;F++)for(var T=0;T<k.g.length;T++){var j=this.i(F)>>>16,M=this.i(F)&65535,z=k.i(T)>>>16,Q=k.i(T)&65535;E[2*F+2*T]+=M*Q,_(E,2*F+2*T),E[2*F+2*T+1]+=j*Q,_(E,2*F+2*T+1),E[2*F+2*T+1]+=M*z,_(E,2*F+2*T+1),E[2*F+2*T+2]+=j*z,_(E,2*F+2*T+2)}for(F=0;F<P;F++)E[F]=E[2*F+1]<<16|E[2*F];for(F=P;F<2*P;F++)E[F]=0;return new o(E,0)};function _(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function S(k,P){this.g=k,this.h=P}function N(k,P){if(v(P))throw Error("division by zero");if(v(k))return new S(f,f);if(b(k))return P=N(w(k),P),new S(w(P.g),w(P.h));if(b(P))return P=N(k,w(P)),new S(w(P.g),P.h);if(30<k.g.length){if(b(k)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var E=d,F=P;0>=F.l(k);)E=O(E),F=O(F);var T=R(E,1),j=R(F,1);for(F=R(F,2),E=R(E,2);!v(F);){var M=j.add(F);0>=M.l(k)&&(T=T.add(E),j=M),F=R(F,1),E=R(E,1)}return P=y(k,T.j(P)),new S(T,P)}for(T=f;0<=k.l(P);){for(E=Math.max(1,Math.floor(k.m()/P.m())),F=Math.ceil(Math.log(E)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),j=u(E),M=j.j(P);b(M)||0<M.l(k);)E-=F,j=u(E),M=j.j(P);v(j)&&(j=d),T=T.add(j),k=y(k,M)}return new S(T,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var P=Math.max(this.g.length,k.g.length),E=[],F=0;F<P;F++)E[F]=this.i(F)&k.i(F);return new o(E,this.h&k.h)},t.or=function(k){for(var P=Math.max(this.g.length,k.g.length),E=[],F=0;F<P;F++)E[F]=this.i(F)|k.i(F);return new o(E,this.h|k.h)},t.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),E=[],F=0;F<P;F++)E[F]=this.i(F)^k.i(F);return new o(E,this.h^k.h)};function O(k){for(var P=k.g.length+1,E=[],F=0;F<P;F++)E[F]=k.i(F)<<1|k.i(F-1)>>>31;return new o(E,k.h)}function R(k,P){var E=P>>5;P%=32;for(var F=k.g.length-E,T=[],j=0;j<F;j++)T[j]=0<P?k.i(j+E)>>>P|k.i(j+E+1)<<32-P:k.i(j+E);return new o(T,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$R=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Kc=o}).apply(typeof v4<"u"?v4:typeof self<"u"?self:typeof window<"u"?window:{});var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BR,Zp,UR,qv,H_,VR,zR,qR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,B){return m==Array.prototype||m==Object.prototype||(m[C]=B.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ev=="object"&&ev];for(var C=0;C<m.length;++C){var B=m[C];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function i(m,C){if(C)e:{var B=r;m=m.split(".");for(var Y=0;Y<m.length-1;Y++){var ye=m[Y];if(!(ye in B))break e;B=B[ye]}m=m[m.length-1],Y=B[m],C=C(Y),C!=Y&&C!=null&&e(B,m,{configurable:!0,writable:!0,value:C})}}function a(m,C){m instanceof String&&(m+="");var B=0,Y=!1,ye={next:function(){if(!Y&&B<m.length){var Pe=B++;return{value:C(Pe,m[Pe]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}i("Array.prototype.values",function(m){return m||function(){return a(this,function(C,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function u(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function c(m,C,B){return m.call.apply(m.bind,arguments)}function f(m,C,B){if(!m)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,Y),m.apply(C,ye)}}return function(){return m.apply(C,arguments)}}function d(m,C,B){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(m,C){var B=Array.prototype.slice.call(arguments,1);return function(){var Y=B.slice();return Y.push.apply(Y,arguments),m.apply(this,Y)}}function v(m,C){function B(){}B.prototype=C.prototype,m.aa=C.prototype,m.prototype=new B,m.prototype.constructor=m,m.Qb=function(Y,ye,Pe){for(var Ve=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Ve[Yt-2]=arguments[Yt];return C.prototype[ye].apply(Y,Ve)}}function b(m){const C=m.length;if(0<C){const B=Array(C);for(let Y=0;Y<C;Y++)B[Y]=m[Y];return B}return[]}function w(m,C){for(let B=1;B<arguments.length;B++){const Y=arguments[B];if(l(Y)){const ye=m.length||0,Pe=Y.length||0;m.length=ye+Pe;for(let Ve=0;Ve<Pe;Ve++)m[ye+Ve]=Y[Ve]}else m.push(Y)}}class y{constructor(C,B){this.i=C,this.j=B,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function _(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=s.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(m,C,B){for(const Y in m)C.call(B,m[Y],Y,m)}function k(m,C){for(const B in m)C.call(void 0,m[B],B,m)}function P(m){const C={};for(const B in m)C[B]=m[B];return C}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,C){let B,Y;for(let ye=1;ye<arguments.length;ye++){Y=arguments[ye];for(B in Y)m[B]=Y[B];for(let Pe=0;Pe<E.length;Pe++)B=E[Pe],Object.prototype.hasOwnProperty.call(Y,B)&&(m[B]=Y[B])}}function T(m){var C=1;m=m.split(":");const B=[];for(;0<C&&m.length;)B.push(m.shift()),C--;return m.length&&B.push(m.join(":")),B}function j(m){s.setTimeout(()=>{throw m},0)}function M(){var m=ae;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class z{constructor(){this.h=this.g=null}add(C,B){const Y=Q.get();Y.set(C,B),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Q=new y(()=>new oe,m=>m.reset());class oe{constructor(){this.next=this.g=this.h=null}set(C,B){this.h=C,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,X=!1,ae=new z,pe=()=>{const m=s.Promise.resolve(void 0);ue=()=>{m.then(he)}};var he=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(B){j(B)}var C=Q;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}X=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const B=()=>{};s.addEventListener("test",B,C),s.removeEventListener("test",B,C)}catch{}return m}();function le(m,C){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var B=this.type=m.type,Y=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(O){e:{try{N(C.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(C=null)}}else B=="mouseover"?C=m.fromElement:B=="mouseout"&&(C=m.toElement);this.relatedTarget=C,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&le.aa.h.call(this)}}v(le,W);var ee={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Se=0;function de(m,C,B,Y,ye){this.listener=m,this.proxy=null,this.src=C,this.type=B,this.capture=!!Y,this.ha=ye,this.key=++Se,this.da=this.fa=!1}function _e(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Te(m){this.src=m,this.g={},this.h=0}Te.prototype.add=function(m,C,B,Y,ye){var Pe=m.toString();m=this.g[Pe],m||(m=this.g[Pe]=[],this.h++);var Ve=xe(m,C,Y,ye);return-1<Ve?(C=m[Ve],B||(C.fa=!1)):(C=new de(C,this.src,Pe,!!Y,ye),C.fa=B,m.push(C)),C};function Z(m,C){var B=C.type;if(B in m.g){var Y=m.g[B],ye=Array.prototype.indexOf.call(Y,C,void 0),Pe;(Pe=0<=ye)&&Array.prototype.splice.call(Y,ye,1),Pe&&(_e(C),m.g[B].length==0&&(delete m.g[B],m.h--))}}function xe(m,C,B,Y){for(var ye=0;ye<m.length;++ye){var Pe=m[ye];if(!Pe.da&&Pe.listener==C&&Pe.capture==!!B&&Pe.ha==Y)return ye}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),G={};function ke(m,C,B,Y,ye){if(Array.isArray(C)){for(var Pe=0;Pe<C.length;Pe++)ke(m,C[Pe],B,Y,ye);return null}return B=Lt(B),m&&m[ce]?m.K(C,B,u(Y)?!!Y.capture:!1,ye):He(m,C,B,!1,Y,ye)}function He(m,C,B,Y,ye,Pe){if(!C)throw Error("Invalid event type");var Ve=u(ye)?!!ye.capture:!!ye,Yt=nt(m);if(Yt||(m[Ne]=Yt=new Te(m)),B=Yt.add(C,B,Y,Ve,Pe),B.proxy)return B;if(Y=Ge(),B.proxy=Y,Y.src=m,Y.listener=B,m.addEventListener)te||(ye=Ve),ye===void 0&&(ye=!1),m.addEventListener(C.toString(),Y,ye);else if(m.attachEvent)m.attachEvent(ze(C.toString()),Y);else if(m.addListener&&m.removeListener)m.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return B}function Ge(){function m(B){return C.call(m.src,m.listener,B)}const C=et;return m}function Re(m,C,B,Y,ye){if(Array.isArray(C))for(var Pe=0;Pe<C.length;Pe++)Re(m,C[Pe],B,Y,ye);else Y=u(Y)?!!Y.capture:!!Y,B=Lt(B),m&&m[ce]?(m=m.i,C=String(C).toString(),C in m.g&&(Pe=m.g[C],B=xe(Pe,B,Y,ye),-1<B&&(_e(Pe[B]),Array.prototype.splice.call(Pe,B,1),Pe.length==0&&(delete m.g[C],m.h--)))):m&&(m=nt(m))&&(C=m.g[C.toString()],m=-1,C&&(m=xe(C,B,Y,ye)),(B=-1<m?C[m]:null)&&Xe(B))}function Xe(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[ce])Z(C.i,m);else{var B=m.type,Y=m.proxy;C.removeEventListener?C.removeEventListener(B,Y,m.capture):C.detachEvent?C.detachEvent(ze(B),Y):C.addListener&&C.removeListener&&C.removeListener(Y),(B=nt(C))?(Z(B,m),B.h==0&&(B.src=null,C[Ne]=null)):_e(m)}}}function ze(m){return m in G?G[m]:G[m]="on"+m}function et(m,C){if(m.da)m=!0;else{C=new le(C,this);var B=m.listener,Y=m.ha||m.src;m.fa&&Xe(m),m=B.call(Y,C)}return m}function nt(m){return m=m[Ne],m instanceof Te?m:null}var zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(m){return typeof m=="function"?m:(m[zt]||(m[zt]=function(C){return m.handleEvent(C)}),m[zt])}function ut(){$.call(this),this.i=new Te(this),this.M=this,this.F=null}v(ut,$),ut.prototype[ce]=!0,ut.prototype.removeEventListener=function(m,C,B,Y){Re(this,m,C,B,Y)};function bt(m,C){var B,Y=m.F;if(Y)for(B=[];Y;Y=Y.F)B.push(Y);if(m=m.M,Y=C.type||C,typeof C=="string")C=new W(C,m);else if(C instanceof W)C.target=C.target||m;else{var ye=C;C=new W(Y,m),F(C,ye)}if(ye=!0,B)for(var Pe=B.length-1;0<=Pe;Pe--){var Ve=C.g=B[Pe];ye=Mt(Ve,Y,!0,C)&&ye}if(Ve=C.g=m,ye=Mt(Ve,Y,!0,C)&&ye,ye=Mt(Ve,Y,!1,C)&&ye,B)for(Pe=0;Pe<B.length;Pe++)Ve=C.g=B[Pe],ye=Mt(Ve,Y,!1,C)&&ye}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var B=m.g[C],Y=0;Y<B.length;Y++)_e(B[Y]);delete m.g[C],m.h--}}this.F=null},ut.prototype.K=function(m,C,B,Y){return this.i.add(String(m),C,!1,B,Y)},ut.prototype.L=function(m,C,B,Y){return this.i.add(String(m),C,!0,B,Y)};function Mt(m,C,B,Y){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var ye=!0,Pe=0;Pe<C.length;++Pe){var Ve=C[Pe];if(Ve&&!Ve.da&&Ve.capture==B){var Yt=Ve.listener,ar=Ve.ha||Ve.src;Ve.fa&&Z(m.i,Ve),ye=Yt.call(ar,Y)!==!1&&ye}}return ye&&!Y.defaultPrevented}function rt(m,C,B){if(typeof m=="function")B&&(m=d(m,B));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:s.setTimeout(m,C||0)}function Pt(m){m.g=rt(()=>{m.g=null,m.i&&(m.i=!1,Pt(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class ct extends ${constructor(C,B){super(),this.m=C,this.l=B,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(m){$.call(this),this.h=m,this.g={}}v(Nn,$);var Wt=[];function jt(m){R(m.g,function(C,B){this.g.hasOwnProperty(B)&&Xe(C)},m),m.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),jt(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=s.JSON.stringify,Rn=s.JSON.parse,dt=class{stringify(m){return s.JSON.stringify(m,void 0)}parse(m){return s.JSON.parse(m,void 0)}};function hn(){}hn.prototype.h=null;function vt(m){return m.h||(m.h=m.i())}function At(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rt(){W.call(this,"d")}v(Rt,W);function pt(){W.call(this,"c")}v(pt,W);var $t={},Jo=null;function br(){return Jo=Jo||new ut}$t.La="serverreachability";function Ha(m){W.call(this,$t.La,m)}v(Ha,W);function _i(m){const C=br();bt(C,new Ha(C))}$t.STAT_EVENT="statevent";function gt(m,C){W.call(this,$t.STAT_EVENT,m),this.stat=C}v(gt,W);function Un(m){const C=br();bt(C,new gt(C,m))}$t.Ma="timingevent";function Ga(m,C){W.call(this,$t.Ma,m),this.size=C}v(Ga,W);function Qr(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){m()},C)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Xn(m,C,B,Y,ye,Pe){m.info(function(){if(m.g)if(Pe)for(var Ve="",Yt=Pe.split("&"),ar=0;ar<Yt.length;ar++){var Bt=Yt[ar].split("=");if(1<Bt.length){var nn=Bt[0];Bt=Bt[1];var Mn=nn.split("_");Ve=2<=Mn.length&&Mn[1]=="type"?Ve+(nn+"="+Bt+"&"):Ve+(nn+"=redacted&")}}else Ve=null;else Ve=Pe;return"XMLHTTP REQ ("+Y+") [attempt "+ye+"]: "+C+`
`+B+`
`+Ve})}function Cr(m,C,B,Y,ye,Pe,Ve){m.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+ye+"]: "+C+`
`+B+`
`+Pe+" "+Ve})}function Qn(m,C,B,Y){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+Zo(m,B)+(Y?" "+Y:"")})}function qs(m,C){m.info(function(){return"TIMEOUT: "+C})}Jr.prototype.info=function(){};function Zo(m,C){if(!m.g)return C;if(!C)return null;try{var B=JSON.parse(C);if(B){for(m=0;m<B.length;m++)if(Array.isArray(B[m])){var Y=B[m];if(!(2>Y.length)){var ye=Y[1];if(Array.isArray(ye)&&!(1>ye.length)){var Pe=ye[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var Ve=1;Ve<ye.length;Ve++)ye[Ve]=""}}}}return Ot(B)}catch{return C}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vi;function Ai(){}v(Ai,hn),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Vi=new Ai;function wr(m,C,B,Y){this.j=m,this.i=C,this.l=B,this.R=Y||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new es}function es(){this.i=null,this.g="",this.h=!1}var xa={},Ao={};function ts(m,C,B){m.L=1,m.v=Ys($r(C)),m.m=B,m.P=!0,Ws(m,null)}function Ws(m,C){m.F=Date.now(),ns(m),m.A=$r(m.v);var B=m.A,Y=m.R;Array.isArray(Y)||(Y=[String(Y)]),Vf(B.i,"t",Y),m.C=0,B=m.j.J,m.h=new es,m.g=cr(m.j,B?C:null,!m.m),0<m.O&&(m.M=new ct(d(m.Y,m,m.g),m.O)),C=m.U,B=m.g,Y=m.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(Wt[0]=ye.toString()),ye=Wt);for(var Pe=0;Pe<ye.length;Pe++){var Ve=ke(B,ye[Pe],Y||C.handleEvent,!1,C.h||C);if(!Ve)break;C.g[Ve.key]=Ve}C=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),_i(),Xn(m.i,m.u,m.A,m.l,m.R,m.m)}wr.prototype.ca=function(m){m=m.target;const C=this.M;C&&zi(m)==3?C.j():this.Y(m)},wr.prototype.Y=function(m){try{if(m==this.g)e:{const Mn=zi(this.g);var C=this.g.Ba();const Aa=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||yc(this.g)))){this.J||Mn!=4||C==7||(C==8||0>=Aa?_i(3):_i(2)),zl(this);var B=this.g.Z();this.X=B;t:if(Hs(this)){var Y=yc(this.g);m="";var ye=Y.length,Pe=zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_a(this),Zr(this);var Ve="";break t}this.h.i=new s.TextDecoder}for(C=0;C<ye;C++)this.h.h=!0,m+=this.h.i.decode(Y[C],{stream:!(Pe&&C==ye-1)});Y.length=0,this.h.g+=m,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=B==200,Cr(this.i,this.u,this.A,this.l,this.R,Mn,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,ar=this.g;if((Yt=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Yt)){var Bt=Yt;break t}}Bt=null}if(B=Bt)Qn(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ql(this,B);else{this.o=!1,this.s=3,Un(12),_a(this),Zr(this);break e}}if(this.P){B=!0;let Ei;for(;!this.J&&this.C<Ve.length;)if(Ei=Qd(this,Ve),Ei==Ao){Mn==4&&(this.s=4,Un(14),B=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ei==xa){this.s=4,Un(15),Qn(this.i,this.l,Ve,"[Invalid Chunk]"),B=!1;break}else Qn(this.i,this.l,Ei,null),ql(this,Ei);if(Hs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Ve.length!=0||this.h.h||(this.s=1,Un(16),B=!1),this.o=this.o&&B,!B)Qn(this.i,this.l,Ve,"[Invalid Chunked Response]"),_a(this),Zr(this);else if(0<Ve.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Ye(nn),nn.M=!0,Un(11))}}else Qn(this.i,this.l,Ve,null),ql(this,Ve);Mn==4&&_a(this),this.o&&!this.J&&(Mn==4?Tt(this.j,this):(this.o=!1,ns(this)))}else qf(this.g),B==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),_a(this),Zr(this)}}}catch{}finally{}};function Hs(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Qd(m,C){var B=m.C,Y=C.indexOf(`
`,B);return Y==-1?Ao:(B=Number(C.substring(B,Y)),isNaN(B)?xa:(Y+=1,Y+B>C.length?Ao:(C=C.slice(Y,Y+B),m.C=Y+B,C)))}wr.prototype.cancel=function(){this.J=!0,_a(this)};function ns(m){m.S=Date.now()+m.I,uc(m,m.I)}function uc(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Qr(d(m.ba,m),C)}function zl(m){m.B&&(s.clearTimeout(m.B),m.B=null)}wr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(qs(this.i,this.A),this.L!=2&&(_i(),Un(17)),_a(this),this.s=2,Zr(this)):uc(this,this.S-m)};function Zr(m){m.j.G==0||m.J||Tt(m.j,m)}function _a(m){zl(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,jt(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function ql(m,C){try{var B=m.j;if(B.G!=0&&(B.g==m||ia(B.h,m))){if(!m.K&&ia(B.h,m)&&B.G==3){try{var Y=B.Da.g.parse(C)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var ye=Y;if(ye[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<m.F)wt(B),eo(B);else break e;De(B),Un(18)}}else B.za=ye[1],0<B.za-B.T&&37500>ye[2]&&B.F&&B.v==0&&!B.C&&(B.C=Qr(d(B.Za,B),6e3));if(1>=dc(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else sn(B,11)}else if((m.K||B.g==m)&&wt(B),!_(C))for(ye=B.Da.g.parse(C),C=0;C<ye.length;C++){let Bt=ye[C];if(B.T=Bt[0],Bt=Bt[1],B.G==2)if(Bt[0]=="c"){B.K=Bt[1],B.ia=Bt[2];const nn=Bt[3];nn!=null&&(B.la=nn,B.j.info("VER="+B.la));const Mn=Bt[4];Mn!=null&&(B.Aa=Mn,B.j.info("SVER="+B.Aa));const Aa=Bt[5];Aa!=null&&typeof Aa=="number"&&0<Aa&&(Y=1.5*Aa,B.L=Y,B.j.info("backChannelRequestTimeoutMs_="+Y)),Y=B;const Ei=m.g;if(Ei){const ui=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Pe=Y.h;Pe.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(rs(Pe,Pe.h),Pe.h=null))}if(Y.D){const To=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(Y.ya=To,Ht(Y.I,Y.D,To))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-m.F,B.j.info("Handshake RTT: "+B.R+"ms")),Y=B;var Ve=m;if(Y.qa=gn(Y,Y.J?Y.ia:null,Y.W),Ve.K){Df(Y.h,Ve);var Yt=Ve,ar=Y.L;ar&&(Yt.I=ar),Yt.B&&(zl(Yt),ns(Yt)),Y.g=Ve}else Ce(Y);0<B.i.length&&A(B)}else Bt[0]!="stop"&&Bt[0]!="close"||sn(B,7);else B.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?sn(B,7):Xl(B):Bt[0]!="noop"&&B.l&&B.l.ta(Bt),B.v=0)}}_i(4)}catch{}}var cc=class{constructor(m,C){this.g=m,this.map=C}};function fc(m){this.l=m||10,s.PerformanceNavigationTiming?(m=s.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function dc(m){return m.h?1:m.g?m.g.size:0}function ia(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function rs(m,C){m.g?m.g.add(C):m.h=C}function Df(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}fc.prototype.cancel=function(){if(this.i=tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function tr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const B of m.g.values())C=C.concat(B.D);return C}return b(m.i)}function Ff(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var C=[],B=m.length,Y=0;Y<B;Y++)C.push(m[Y]);return C}C=[],B=0;for(Y in m)C[B++]=m[Y];return C}function Ka(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var C=[];m=m.length;for(var B=0;B<m;B++)C.push(B);return C}C=[],B=0;for(const Y in m)C[B++]=Y;return C}}}function Gs(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var B=Ka(m),Y=Ff(m),ye=Y.length,Pe=0;Pe<ye;Pe++)C.call(void 0,Y[Pe],B&&B[Pe],m)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(m,C){if(m){m=m.split("&");for(var B=0;B<m.length;B++){var Y=m[B].indexOf("="),ye=null;if(0<=Y){var Pe=m[B].substring(0,Y);ye=m[B].substring(Y+1)}else Pe=m[B];C(Pe,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function kn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof kn){this.h=m.h,Ks(this,m.j),this.o=m.o,this.g=m.g,Wl(this,m.s),this.l=m.l;var C=m.i,B=new li;B.i=C.i,C.g&&(B.g=new Map(C.g),B.h=C.h),$f(this,B),this.m=m.m}else m&&(C=String(m).match(pc))?(this.h=!1,Ks(this,C[1]||"",!0),this.o=is(C[2]||""),this.g=is(C[3]||"",!0),Wl(this,C[4]),this.l=is(C[5]||"",!0),$f(this,C[6]||"",!0),this.m=is(C[7]||"")):(this.h=!1,this.i=new li(null,this.h))}kn.prototype.toString=function(){var m=[],C=this.j;C&&m.push(Ya(C,Bf,!0),":");var B=this.g;return(B||C=="file")&&(m.push("//"),(C=this.o)&&m.push(Ya(C,Bf,!0),"@"),m.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&m.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&m.push("/"),m.push(Ya(B,B.charAt(0)=="/"?Zd:Jd,!0))),(B=this.i.toString())&&m.push("?",B),(B=this.m)&&m.push("#",Ya(B,Uf)),m.join("")};function $r(m){return new kn(m)}function Ks(m,C,B){m.j=B?is(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function Wl(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function $f(m,C,B){C instanceof li?(m.i=C,ep(m.i,m.h)):(B||(C=Ya(C,mc)),m.i=new li(C,m.h))}function Ht(m,C,B){m.i.set(C,B)}function Ys(m){return Ht(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function is(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ya(m,C,B){return typeof m=="string"?(m=encodeURI(m).replace(C,Xs),B&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Xs(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bf=/[#\/\?@]/g,Jd=/[#\?:]/g,Zd=/[#\?]/g,mc=/[#\?@]/g,Uf=/#/g;function li(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function Xa(m){m.g||(m.g=new Map,m.h=0,m.i&&aa(m.i,function(C,B){m.add(decodeURIComponent(C.replace(/\+/g," ")),B)}))}t=li.prototype,t.add=function(m,C){Xa(this),this.i=null,m=yt(this,m);var B=this.g.get(m);return B||this.g.set(m,B=[]),B.push(C),this.h+=1,this};function as(m,C){Xa(m),C=yt(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function Hl(m,C){return Xa(m),C=yt(m,C),m.g.has(C)}t.forEach=function(m,C){Xa(this),this.g.forEach(function(B,Y){B.forEach(function(ye){m.call(C,ye,Y,this)},this)},this)},t.na=function(){Xa(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),B=[];for(let Y=0;Y<C.length;Y++){const ye=m[Y];for(let Pe=0;Pe<ye.length;Pe++)B.push(C[Y])}return B},t.V=function(m){Xa(this);let C=[];if(typeof m=="string")Hl(this,m)&&(C=C.concat(this.g.get(yt(this,m))));else{m=Array.from(this.g.values());for(let B=0;B<m.length;B++)C=C.concat(m[B])}return C},t.set=function(m,C){return Xa(this),this.i=null,m=yt(this,m),Hl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function Vf(m,C,B){as(m,C),0<B.length&&(m.i=null,m.g.set(yt(m,C),b(B)),m.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var B=0;B<C.length;B++){var Y=C[B];const Pe=encodeURIComponent(String(Y)),Ve=this.V(Y);for(Y=0;Y<Ve.length;Y++){var ye=Pe;Ve[Y]!==""&&(ye+="="+encodeURIComponent(String(Ve[Y]))),m.push(ye)}}return this.i=m.join("&")};function yt(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function ep(m,C){C&&!m.j&&(Xa(m),m.i=null,m.g.forEach(function(B,Y){var ye=Y.toLowerCase();Y!=ye&&(as(this,Y),Vf(this,ye,B))},m)),m.j=C}function tp(m,C){const B=new Jr;if(s.Image){const Y=new Image;Y.onload=h(ei,B,"TestLoadImage: loaded",!0,C,Y),Y.onerror=h(ei,B,"TestLoadImage: error",!1,C,Y),Y.onabort=h(ei,B,"TestLoadImage: abort",!1,C,Y),Y.ontimeout=h(ei,B,"TestLoadImage: timeout",!1,C,Y),s.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=m}else C(!1)}function np(m,C){const B=new Jr,Y=new AbortController,ye=setTimeout(()=>{Y.abort(),ei(B,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:Y.signal}).then(Pe=>{clearTimeout(ye),Pe.ok?ei(B,"TestPingServer: ok",!0,C):ei(B,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ye),ei(B,"TestPingServer: error",!1,C)})}function ei(m,C,B,Y,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),Y(B)}catch{}}function Eo(){this.g=new dt}function rp(m,C,B){const Y=B||"";try{Gs(m,function(ye,Pe){let Ve=ye;u(ye)&&(Ve=Ot(ye)),C.push(Y+Pe+"="+encodeURIComponent(Ve))})}catch(ye){throw C.push(Y+"type="+encodeURIComponent("_badmap")),ye}}function Gl(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Gl,hn),Gl.prototype.g=function(){return new Po(this.l,this.j)},Gl.prototype.i=function(m){return function(){return m}}({});function Po(m,C){ut.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Po,ut),t=Po.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,Qs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||s).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Qs(this)),this.g&&(this.readyState=3,Qs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?Sa(this):Qs(this),this.readyState==3&&Kl(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Sa(this))},t.Qa=function(m){this.g&&(this.response=m,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Qs(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var B=C.next();!B.done;)B=B.value,m.push(B[0]+": "+B[1]),B=C.next();return m.join(`\r
`)};function Qs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Qa(m){let C="";return R(m,function(B,Y){C+=Y,C+=":",C+=B,C+=`\r
`}),C}function gc(m,C,B){e:{for(Y in B){var Y=!1;break e}Y=!0}Y||(B=Qa(B),typeof m=="string"?B!=null&&encodeURIComponent(String(B)):Ht(m,C,B))}function Pn(m){ut.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Pn,ut);var vc=/^https?$/i,zf=["POST","PUT"];t=Pn.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,B,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vi.g(),this.v=this.o?vt(this.o):vt(Vi),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(Pe){Ja(this,Pe);return}if(m=B||"",B=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var ye in Y)B.set(ye,Y[ye]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Pe of Y.keys())B.set(Pe,Y.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(B.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),ye=s.FormData&&m instanceof s.FormData,!(0<=Array.prototype.indexOf.call(zf,C,void 0))||Y||ye||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Ve]of B)this.g.setRequestHeader(Pe,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(m),this.u=!1}catch(Pe){Ja(this,Pe)}};function Ja(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,Yl(m),os(m)}function Yl(m){m.A||(m.A=!0,bt(m,"complete"),bt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,bt(this,"complete"),bt(this,"abort"),os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Pn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},t.bb=function(){Js(this)};function Js(m){if(m.h&&typeof o<"u"&&(!m.v[1]||zi(m)!=4||m.Z()!=2)){if(m.u&&zi(m)==4)rt(m.Ea,0,m);else if(bt(m,"readystatechange"),zi(m)==4){m.h=!1;try{const Ve=m.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var B;if(!(B=C)){var Y;if(Y=Ve===0){var ye=String(m.D).match(pc)[1]||null;!ye&&s.self&&s.self.location&&(ye=s.self.location.protocol.slice(0,-1)),Y=!vc.test(ye?ye.toLowerCase():"")}B=Y}if(B)bt(m,"complete"),bt(m,"success");else{m.m=6;try{var Pe=2<zi(m)?m.g.statusText:""}catch{Pe=""}m.l=Pe+" ["+m.Z()+"]",Yl(m)}}finally{os(m)}}}}function os(m,C){if(m.g){ss(m);const B=m.g,Y=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||bt(m,"ready");try{B.onreadystatechange=Y}catch{}}}function ss(m){m.I&&(s.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function zi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),Rn(C)}};function yc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qf(m){const C={};m=(m.g&&2<=zi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<m.length;Y++){if(_(m[Y]))continue;var B=T(m[Y]);const ye=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Pe=C[ye]||[];C[ye]=Pe,Pe.push(B)}k(C,function(Y){return Y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(m,C,B){return B&&B.internalChannelParams&&B.internalChannelParams[m]||C}function Za(m){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,m),this.cb=qi("retryDelaySeedMs",1e4,m),this.Wa=qi("forwardChannelMaxRetries",2,m),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new fc(m&&m.concurrentRequestLimit),this.Da=new Eo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Za.prototype,t.la=8,t.G=1,t.connect=function(m,C,B,Y){Un(0),this.W=m,this.H=C||{},B&&Y!==void 0&&(this.H.OSID=B,this.H.OAID=Y),this.F=this.X,this.I=gn(this,null,this.W),A(this)};function Xl(m){if(bc(m),m.G==3){var C=m.U++,B=$r(m.I);if(Ht(B,"SID",m.K),Ht(B,"RID",C),Ht(B,"TYPE","terminate"),fe(m,B),C=new wr(m,m.j,C),C.L=2,C.v=Ys($r(B)),B=!1,s.navigator&&s.navigator.sendBeacon)try{B=s.navigator.sendBeacon(C.v.toString(),"")}catch{}!B&&s.Image&&(new Image().src=C.v,B=!0),B||(C.g=cr(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ns(C)}nr(m)}function eo(m){m.g&&(Ye(m),m.g.cancel(),m.g=null)}function bc(m){eo(m),m.u&&(s.clearTimeout(m.u),m.u=null),wt(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&s.clearTimeout(m.s),m.s=null)}function A(m){if(!hc(m.h)&&!m.s){m.s=!0;var C=m.Ga;ue||pe(),X||(ue(),X=!0),ae.add(C,m),m.B=0}}function U(m,C){return dc(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Qr(d(m.Ga,m,C),Gt(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ye=new wr(this,this.j,m);let Pe=this.o;if(this.S&&(Pe?(Pe=P(Pe),F(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(ye.H=Pe,Pe=null),this.P)e:{for(var C=0,B=0;B<this.i.length;B++){t:{var Y=this.i[B];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(C+=Y,4096<C){C=B;break e}if(C===4096||B===this.i.length-1){C=B+1;break e}}C=1e3}else C=1e3;C=ve(this,ye,C),B=$r(this.I),Ht(B,"RID",m),Ht(B,"CVER",22),this.D&&Ht(B,"X-HTTP-Session-Id",this.D),fe(this,B),Pe&&(this.O?C="headers="+encodeURIComponent(String(Qa(Pe)))+"&"+C:this.m&&gc(B,this.m,Pe)),rs(this.h,ye),this.Ua&&Ht(B,"TYPE","init"),this.P?(Ht(B,"$req",C),Ht(B,"SID","null"),ye.T=!0,ts(ye,B,null)):ts(ye,B,C),this.G=2}}else this.G==3&&(m?ne(this,m):this.i.length==0||hc(this.h)||ne(this))};function ne(m,C){var B;C?B=C.l:B=m.U++;const Y=$r(m.I);Ht(Y,"SID",m.K),Ht(Y,"RID",B),Ht(Y,"AID",m.T),fe(m,Y),m.m&&m.o&&gc(Y,m.m,m.o),B=new wr(m,m.j,B,m.B+1),m.m===null&&(B.H=m.o),C&&(m.i=C.D.concat(m.i)),C=ve(m,B,1e3),B.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),rs(m.h,B),ts(B,Y,C)}function fe(m,C){m.H&&R(m.H,function(B,Y){Ht(C,Y,B)}),m.l&&Gs({},function(B,Y){Ht(C,Y,B)})}function ve(m,C,B){B=Math.min(m.i.length,B);var Y=m.l?d(m.l.Na,m.l,m):null;e:{var ye=m.i;let Pe=-1;for(;;){const Ve=["count="+B];Pe==-1?0<B?(Pe=ye[0].g,Ve.push("ofs="+Pe)):Pe=0:Ve.push("ofs="+Pe);let Yt=!0;for(let ar=0;ar<B;ar++){let Bt=ye[ar].g;const nn=ye[ar].map;if(Bt-=Pe,0>Bt)Pe=Math.max(0,ye[ar].g-100),Yt=!1;else try{rp(nn,Ve,"req"+Bt+"_")}catch{Y&&Y(nn)}}if(Yt){Y=Ve.join("&");break e}}}return m=m.i.splice(0,B),C.D=m,Y}function Ce(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;ue||pe(),X||(ue(),X=!0),ae.add(C,m),m.v=0}}function De(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Qr(d(m.Fa,m),Gt(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,it(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Qr(d(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Un(10),eo(this),it(this))};function Ye(m){m.A!=null&&(s.clearTimeout(m.A),m.A=null)}function it(m){m.g=new wr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=$r(m.qa);Ht(C,"RID","rpc"),Ht(C,"SID",m.K),Ht(C,"AID",m.T),Ht(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ht(C,"TO",m.ja),Ht(C,"TYPE","xmlhttp"),fe(m,C),m.m&&m.o&&gc(C,m.m,m.o),m.L&&(m.g.I=m.L);var B=m.g;m=m.ia,B.L=1,B.v=Ys($r(C)),B.m=null,B.P=!0,Ws(B,m)}t.Za=function(){this.C!=null&&(this.C=null,eo(this),De(this),Un(19))};function wt(m){m.C!=null&&(s.clearTimeout(m.C),m.C=null)}function Tt(m,C){var B=null;if(m.g==C){wt(m),Ye(m),m.g=null;var Y=2}else if(ia(m.h,C))B=C.D,Df(m.h,C),Y=1;else return;if(m.G!=0){if(C.o)if(Y==1){B=C.m?C.m.length:0,C=Date.now()-C.F;var ye=m.B;Y=br(),bt(Y,new Ga(Y,B)),A(m)}else Ce(m);else if(ye=C.s,ye==3||ye==0&&0<C.X||!(Y==1&&U(m,C)||Y==2&&De(m)))switch(B&&0<B.length&&(C=m.h,C.i=C.i.concat(B)),ye){case 1:sn(m,5);break;case 4:sn(m,10);break;case 3:sn(m,6);break;default:sn(m,2)}}}function Gt(m,C){let B=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(B*=2),B*C}function sn(m,C){if(m.j.info("Error code "+C),C==2){var B=d(m.fb,m),Y=m.Xa;const ye=!Y;Y=new kn(Y||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ks(Y,"https"),Ys(Y),ye?tp(Y.toString(),B):np(Y.toString(),B)}else Un(2);m.G=0,m.l&&m.l.sa(C),nr(m),bc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))};function nr(m){if(m.G=0,m.ka=[],m.l){const C=tr(m.h);(C.length!=0||m.i.length!=0)&&(w(m.ka,C),w(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function gn(m,C,B){var Y=B instanceof kn?$r(B):new kn(B);if(Y.g!="")C&&(Y.g=C+"."+Y.g),Wl(Y,Y.s);else{var ye=s.location;Y=ye.protocol,C=C?C+"."+ye.hostname:ye.hostname,ye=+ye.port;var Pe=new kn(null);Y&&Ks(Pe,Y),C&&(Pe.g=C),ye&&Wl(Pe,ye),B&&(Pe.l=B),Y=Pe}return B=m.D,C=m.ya,B&&C&&Ht(Y,B,C),Ht(Y,"VER",m.la),fe(m,Y),Y}function cr(m,C,B){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new Pn(new Gl({eb:B})):new Pn(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rr(){}t=rr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fr(){}fr.prototype.g=function(m,C){return new ir(m,C)};function ir(m,C){ut.call(this),this.g=new Za(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!_(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!_(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new no(this)}v(ir,ut),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Xl(this.g)},ir.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var B={};B.__data__=m,m=B}else this.u&&(B={},B.__data__=Ot(m),m=B);C.i.push(new cc(C.Ya++,m)),C.G==3&&A(C)},ir.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,ir.aa.N.call(this)};function oa(m){Rt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const B in C){m=B;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}v(oa,Rt);function to(){pt.call(this),this.status=1}v(to,pt);function no(m){this.g=m}v(no,rr),no.prototype.ua=function(){bt(this.g,"a")},no.prototype.ta=function(m){bt(this.g,new oa(m))},no.prototype.sa=function(m){bt(this.g,new to)},no.prototype.ra=function(){bt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,qR=function(){return new fr},zR=function(){return br()},VR=$t,H_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,qv=Si,wa.COMPLETE="complete",UR=wa,At.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Zp=At,Pn.prototype.listenOnce=Pn.prototype.L,Pn.prototype.getLastError=Pn.prototype.Ka,Pn.prototype.getLastErrorCode=Pn.prototype.Ba,Pn.prototype.getStatus=Pn.prototype.Z,Pn.prototype.getResponseJson=Pn.prototype.Oa,Pn.prototype.getResponseText=Pn.prototype.oa,Pn.prototype.send=Pn.prototype.ea,Pn.prototype.setWithCredentials=Pn.prototype.Ha,BR=Pn}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});const y4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new YA("@firebase/firestore");function Pp(){return sf.logLevel}function at(t,...e){if(sf.logLevel<=Qt.DEBUG){const n=e.map(JA);sf.debug(`Firestore (${Ld}): ${t}`,...n)}}function Ol(t,...e){if(sf.logLevel<=Qt.ERROR){const n=e.map(JA);sf.error(`Firestore (${Ld}): ${t}`,...n)}}function Zh(t,...e){if(sf.logLevel<=Qt.WARN){const n=e.map(JA);sf.warn(`Firestore (${Ld}): ${t}`,...n)}}function JA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t="Unexpected state"){const e=`FIRESTORE (${Ld}) INTERNAL ASSERTION FAILED: `+t;throw Ol(e),new Error(e)}function An(t,e){t||Et()}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ri.UNAUTHENTICATED))}shutdown(){}}class FW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $W{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){An(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new _l;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _l,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _l)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string"),new WR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string"),new Ri(e)}}class BW{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UW{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BW(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zW{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){An(this.o===void 0);const r=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(An(typeof n.token=="string"),this.R=n.token,new VW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qW(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function an(t,e){return t<e?-1:t>e?1:0}function ed(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Yr(0,0))}static max(){return new kt(new Yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r){n===void 0?n=0:n>e.length&&Et(),r===void 0?r=e.length-n:r>e.length-n&&Et(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Hn extends Gm{construct(e,n,r){return new Hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Hn(n)}static emptyPath(){return new Hn([])}}const WW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Gm{construct(e,n,r){return new gi(e,n,r)}static isValidIdentifier(e){return WW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ke(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new Ke(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ke(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(n)}static emptyPath(){return new gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Hn.fromString(e))}static fromName(e){return new mt(Hn.fromString(e).popFirst(5))}static empty(){return new mt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Hn(e.slice()))}}function HW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(r===1e9?new Yr(n+1,0):new Yr(n,r));return new Gu(i,mt.empty(),e)}function GW(t){return new Gu(t.readTime,t.key,-1)}class Gu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gu(kt.min(),mt.empty(),-1)}static max(){return new Gu(kt.max(),mt.empty(),-1)}}function KW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mt.comparator(t.documentKey,e.documentKey),n!==0?n:an(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(t){if(t.code!==Me.FAILED_PRECONDITION||t.message!==YW)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$e.reject(n)}static resolve(e){return new $e((n,r)=>{n(e)})}static reject(e){return new $e((n,r)=>{r(e)})}static waitFor(e){return new $e((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=$e.resolve(!1);for(const r of e)n=n.next(i=>i?$e.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new $e((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $e((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function QW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ZA.oe=-1;function x2(t){return t==null}function Oy(t){return t===0&&1/t==-1/0}function JW(t){return typeof t=="number"&&Number.isInteger(t)&&!Oy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.comparator=e,this.root=n||mi.EMPTY}insert(e,n){return new ur(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tv(this.root,e,this.comparator,!0)}}class tv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??mi.RED,this.left=i??mi.EMPTY,this.right=a??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new mi(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const e=this.left.check();if(e!==this.right.check())throw Et();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1;mi.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(e,n,r,i,a){return this}insert(e,n,r){return new mi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.comparator=e,this.data=new ur(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w4(this.data.getIterator())}getIteratorFrom(e){return new w4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bi(this.comparator);return n.data=e,n}}class w4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new $a([])}unionWith(e){let n=new bi(gi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $a(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KR("Invalid base64 string: "+a):a}}(e);return new xi(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new xi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const ZW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ku(t){if(An(!!t),typeof t=="string"){let e=0;const n=ZW.exec(t);if(An(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Er(t.seconds),nanos:Er(t.nanos)}}function Er(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lf(t){return typeof t=="string"?xi.fromBase64String(t):xi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tE(t){const e=t.mapValue.fields.__previous_value__;return eE(e)?tE(e):e}function Km(t){const e=Ku(t.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Ym{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ym("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ym&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={mapValue:{}};function uf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eE(t)?4:nH(t)?9007199254740991:tH(t)?10:11:Et()}function Ms(t,e){if(t===e)return!0;const n=uf(t);if(n!==uf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Km(t).isEqual(Km(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ku(i.timestampValue),s=Ku(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return lf(i.bytesValue).isEqual(lf(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Er(i.geoPointValue.latitude)===Er(a.geoPointValue.latitude)&&Er(i.geoPointValue.longitude)===Er(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Er(i.integerValue)===Er(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Er(i.doubleValue),s=Er(a.doubleValue);return o===s?Oy(o)===Oy(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(b4(o)!==b4(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Ms(o[l],s[l])))return!1;return!0}(t,e);default:return Et()}}function Xm(t,e){return(t.values||[]).find(n=>Ms(n,e))!==void 0}function td(t,e){if(t===e)return 0;const n=uf(t),r=uf(e);if(n!==r)return an(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return an(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Er(a.integerValue||a.doubleValue),l=Er(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return x4(t.timestampValue,e.timestampValue);case 4:return x4(Km(t),Km(e));case 5:return an(t.stringValue,e.stringValue);case 6:return function(a,o){const s=lf(a),l=lf(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=an(s[u],l[u]);if(c!==0)return c}return an(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=an(Er(a.latitude),Er(o.latitude));return s!==0?s:an(Er(a.longitude),Er(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _4(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const f=a.fields||{},d=o.fields||{},h=(s=f.value)===null||s===void 0?void 0:s.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,b=an(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:_4(h,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===nv.mapValue&&o===nv.mapValue)return 0;if(a===nv.mapValue)return 1;if(o===nv.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=an(l[f],c[f]);if(d!==0)return d;const h=td(s[l[f]],u[c[f]]);if(h!==0)return h}return an(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Et()}}function x4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return an(t,e);const n=Ku(t),r=Ku(e),i=an(n.seconds,r.seconds);return i!==0?i:an(n.nanos,r.nanos)}function _4(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=td(n[i],r[i]);if(a)return a}return an(n.length,r.length)}function nd(t){return G_(t)}function G_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ku(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lf(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return mt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=G_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${G_(n.fields[o])}`;return i+"}"}(t.mapValue):Et()}function S4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K_(t){return!!t&&"integerValue"in t}function nE(t){return!!t&&"arrayValue"in t}function A4(t){return!!t&&"nullValue"in t}function E4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wv(t){return!!t&&"mapValue"in t}function tH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.value=e}static empty(){return new ha({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dm(n)}setAll(e){let n=gi.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=dm(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Wv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pf(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ha(dm(this.value))}}function YR(t){const e=[];return Pf(t.fields,(n,r)=>{const i=new gi([n]);if(Wv(r)){const a=YR(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new $a(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Di(e,0,kt.min(),kt.min(),kt.min(),ha.empty(),0)}static newFoundDocument(e,n,r,i){return new Di(e,1,n,kt.min(),r,i,0)}static newNoDocument(e,n){return new Di(e,2,n,kt.min(),kt.min(),ha.empty(),0)}static newUnknownDocument(e,n){return new Di(e,3,n,kt.min(),kt.min(),ha.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ha.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ha.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.position=e,this.inclusive=n}}function P4(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=mt.comparator(mt.fromName(o.referenceValue),n.key):r=td(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n="asc"){this.field=e,this.dir=n}}function rH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XR=class{};class Mr extends XR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aH(e,n,r):n==="array-contains"?new lH(e,r):n==="in"?new uH(e,r):n==="not-in"?new cH(e,r):n==="array-contains-any"?new fH(e,r):new Mr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oH(e,r):new sH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(td(n,this.value)):n!==null&&uf(this.value)===uf(n)&&this.matchesComparison(td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wo extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wo(e,n)}matches(e){return QR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QR(t){return t.op==="and"}function JR(t){return iH(t)&&QR(t)}function iH(t){for(const e of t.filters)if(e instanceof Wo)return!1;return!0}function Y_(t){if(t instanceof Mr)return t.field.canonicalString()+t.op.toString()+nd(t.value);if(JR(t))return t.filters.map(e=>Y_(e)).join(",");{const e=t.filters.map(n=>Y_(n)).join(",");return`${t.op}(${e})`}}function ZR(t,e){return t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.field.isEqual(i.field)&&Ms(r.value,i.value)}(t,e):t instanceof Wo?function(r,i){return i instanceof Wo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&ZR(o,i.filters[s]),!0):!1}(t,e):void Et()}function eM(t){return t instanceof Mr?function(n){return`${n.field.canonicalString()} ${n.op} ${nd(n.value)}`}(t):t instanceof Wo?function(n){return n.op.toString()+" {"+n.getFilters().map(eM).join(" ,")+"}"}(t):"Filter"}class aH extends Mr{constructor(e,n,r){super(e,n,r),this.key=mt.fromName(r.referenceValue)}matches(e){const n=mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class oH extends Mr{constructor(e,n){super(e,"in",n),this.keys=tM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sH extends Mr{constructor(e,n){super(e,"not-in",n),this.keys=tM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>mt.fromName(r.referenceValue))}class lH extends Mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nE(n)&&Xm(n.arrayValue,this.value)}}class uH extends Mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xm(this.value.arrayValue,n)}}class cH extends Mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xm(this.value.arrayValue,n)}}class fH extends Mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function N4(t,e=null,n=[],r=[],i=null,a=null,o=null){return new hH(t,e,n,r,i,a,o)}function rE(t){const e=It(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),x2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nd(r)).join(",")),e.ue=n}return e.ue}function iE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T4(t.startAt,e.startAt)&&T4(t.endAt,e.endAt)}function X_(t){return mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dH(t,e,n,r,i,a,o,s){return new Xg(t,e,n,r,i,a,o,s)}function aE(t){return new Xg(t)}function k4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nM(t){return t.collectionGroup!==null}function pm(t){const e=It(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new bi(gi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ly(a,r))}),n.has(gi.keyField().canonicalString())||e.ce.push(new Ly(gi.keyField(),r))}return e.ce}function ks(t){const e=It(t);return e.le||(e.le=pH(e,pm(t))),e.le}function pH(t,e){if(t.limitType==="F")return N4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ly(i.field,a)});const n=t.endAt?new Cy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cy(t.startAt.position,t.startAt.inclusive):null;return N4(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q_(t,e){const n=t.filters.concat([e]);return new Xg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jy(t,e,n){return new Xg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _2(t,e){return iE(ks(t),ks(e))&&t.limitType===e.limitType}function rM(t){return`${rE(ks(t))}|lt:${t.limitType}`}function rh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eM(i)).join(", ")}]`),x2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(ks(t))}; limitType=${t.limitType})`}function S2(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):mt.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of pm(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=P4(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,pm(r),i)||r.endAt&&!function(o,s,l){const u=P4(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,pm(r),i))}(t,e)}function mH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iM(t){return(e,n)=>{let r=!1;for(const i of pm(t)){const a=gH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function gH(t,e,n){const r=t.field.isKeyField()?mt.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?td(l,u):Et()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pf(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return GR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=new ur(mt.comparator);function Cl(){return vH}const aM=new ur(mt.comparator);function em(...t){let e=aM;for(const n of t)e=e.insert(n.key,n);return e}function oM(t){let e=aM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bc(){return mm()}function sM(){return mm()}function mm(){return new jd(t=>t.toString(),(t,e)=>t.isEqual(e))}const yH=new ur(mt.comparator),bH=new bi(mt.comparator);function Kt(...t){let e=bH;for(const n of t)e=e.add(n);return e}const wH=new bi(an);function xH(){return wH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oy(e)?"-0":e}}function lM(t){return{integerValue:""+t}}function _H(t,e){return JW(e)?lM(e):oE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._=void 0}}function SH(t,e,n){return t instanceof Ry?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&eE(a)&&(a=tE(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof rd?cM(t,e):t instanceof Qm?fM(t,e):function(i,a){const o=uM(i,a),s=I4(o)+I4(i.Pe);return K_(o)&&K_(i.Pe)?lM(s):oE(i.serializer,s)}(t,e)}function AH(t,e,n){return t instanceof rd?cM(t,e):t instanceof Qm?fM(t,e):n}function uM(t,e){return t instanceof My?function(r){return K_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ry extends A2{}class rd extends A2{constructor(e){super(),this.elements=e}}function cM(t,e){const n=hM(e);for(const r of t.elements)n.some(i=>Ms(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qm extends A2{constructor(e){super(),this.elements=e}}function fM(t,e){let n=hM(e);for(const r of t.elements)n=n.filter(i=>!Ms(i,r));return{arrayValue:{values:n}}}class My extends A2{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I4(t){return Er(t.integerValue||t.doubleValue)}function hM(t){return nE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,n){this.field=e,this.transform=n}}function PH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rd&&i instanceof rd||r instanceof Qm&&i instanceof Qm?ed(r.elements,i.elements,Ms):r instanceof My&&i instanceof My?Ms(r.Pe,i.Pe):r instanceof Ry&&i instanceof Ry}(t.transform,e.transform)}class TH{constructor(e,n){this.version=e,this.transformResults=n}}class ea{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ea}static exists(e){return new ea(void 0,e)}static updateTime(e){return new ea(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class E2{}function dM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P2(t.key,ea.none()):new Qg(t.key,t.data,ea.none());{const n=t.data,r=ha.empty();let i=new bi(gi.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new tc(t.key,r,new $a(i.toArray()),ea.none())}}function NH(t,e,n){t instanceof Qg?function(i,a,o){const s=i.value.clone(),l=C4(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof tc?function(i,a,o){if(!Hv(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=C4(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(pM(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gm(t,e,n,r){return t instanceof Qg?function(a,o,s,l){if(!Hv(a.precondition,o))return s;const u=a.value.clone(),c=L4(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof tc?function(a,o,s,l){if(!Hv(a.precondition,o))return s;const u=L4(a.fieldTransforms,l,o),c=o.data;return c.setAll(pM(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return Hv(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function kH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=uM(r.transform,i||null);a!=null&&(n===null&&(n=ha.empty()),n.set(r.field,a))}return n||null}function O4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(a,o)=>PH(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qg extends E2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tc extends E2{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C4(t,e,n){const r=new Map;An(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,AH(o,s,n[i]))}return r}function L4(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,SH(a,o,e))}return r}class P2 extends E2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IH extends E2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&NH(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=dM(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(n,r)=>O4(n,r))&&ed(this.baseMutations,e.baseMutations,(n,r)=>O4(n,r))}}class sE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){An(e.mutations.length===r.length);let i=function(){return yH}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new sE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr,Zt;function jH(t){switch(t){default:return Et();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function mM(t){if(t===void 0)return Ol("GRPC error has no .code"),Me.UNKNOWN;switch(t){case Lr.OK:return Me.OK;case Lr.CANCELLED:return Me.CANCELLED;case Lr.UNKNOWN:return Me.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return Me.INTERNAL;case Lr.UNAVAILABLE:return Me.UNAVAILABLE;case Lr.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case Lr.NOT_FOUND:return Me.NOT_FOUND;case Lr.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case Lr.ABORTED:return Me.ABORTED;case Lr.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case Lr.DATA_LOSS:return Me.DATA_LOSS;default:return Et()}}(Zt=Lr||(Lr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=new Kc([4294967295,4294967295],0);function j4(t){const e=RH().encode(t),n=new $R;return n.update(e),new Uint8Array(n.digest())}function R4(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Kc([n,r],0),new Kc([i,a],0)]}class lE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tm(`Invalid padding: ${n}`);if(r<0)throw new tm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Kc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Kc.fromNumber(r)));return i.compare(MH)===1&&(i=new Kc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=j4(e),[r,i]=R4(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new lE(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=j4(e),[r,i]=R4(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new T2(kt.min(),i,new ur(an),Cl(),Kt())}}class Jg{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jg(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class gM{constructor(e,n){this.targetId=e,this.me=n}}class vM{constructor(e,n,r=xi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class M4{constructor(){this.fe=0,this.ge=F4(),this.pe=xi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Kt(),n=Kt(),r=Kt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Et()}}),new Jg(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=F4()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,An(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class DH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Cl(),this.qe=D4(),this.Qe=new ur(an)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Et()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(X_(a))if(r===0){const o=new mt(a.path);this.Ue(n,o,Di.newNoDocument(o,kt.min()))}else An(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=lf(r).toUint8Array()}catch(l){if(l instanceof KR)return Zh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new lE(o,i,a)}catch(l){return Zh(l instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&X_(s.target)){const l=new mt(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Di.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=Kt();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new T2(e,n,this.Qe,this.ke,r);return this.ke=Cl(),this.qe=D4(),this.Qe=new ur(an),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M4,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new bi(an),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M4),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D4(){return new ur(mt.comparator)}function F4(){return new ur(mt.comparator)}const FH={asc:"ASCENDING",desc:"DESCENDING"},$H={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BH={and:"AND",or:"OR"};class UH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function J_(t,e){return t.useProto3Json||x2(e)?e:{value:e}}function Dy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VH(t,e){return Dy(t,e.toTimestamp())}function Is(t){return An(!!t),kt.fromTimestamp(function(n){const r=Ku(n);return new Yr(r.seconds,r.nanos)}(t))}function uE(t,e){return Z_(t,e).canonicalString()}function Z_(t,e){const n=function(i){return new Hn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bM(t){const e=Hn.fromString(t);return An(AM(e)),e}function e5(t,e){return uE(t.databaseId,e.path)}function kw(t,e){const n=bM(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mt(xM(n))}function wM(t,e){return uE(t.databaseId,e)}function zH(t){const e=bM(t);return e.length===4?Hn.emptyPath():xM(e)}function t5(t){return new Hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xM(t){return An(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $4(t,e,n){return{name:e5(t,e),fields:n.value.mapValue.fields}}function qH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(An(c===void 0||typeof c=="string"),xi.fromBase64String(c||"")):(An(c===void 0||c instanceof Buffer||c instanceof Uint8Array),xi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?Me.UNKNOWN:mM(u.code);return new Ke(c,u.message||"")}(o);n=new vM(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kw(t,r.document.name),a=Is(r.document.updateTime),o=r.document.createTime?Is(r.document.createTime):kt.min(),s=new ha({mapValue:{fields:r.document.fields}}),l=Di.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Gv(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kw(t,r.document),a=r.readTime?Is(r.readTime):kt.min(),o=Di.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Gv([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kw(t,r.document),a=r.removedTargetIds||[];n=new Gv([],a,i,null)}else{if(!("filter"in e))return Et();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new LH(i,a),s=r.targetId;n=new gM(s,o)}}return n}function WH(t,e){let n;if(e instanceof Qg)n={update:$4(t,e.key,e.value)};else if(e instanceof P2)n={delete:e5(t,e.key)};else if(e instanceof tc)n={update:$4(t,e.key,e.data),updateMask:eG(e.fieldMask)};else{if(!(e instanceof IH))return Et();n={verify:e5(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Ry)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof rd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Qm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof My)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw Et()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:VH(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Et()}(t,e.precondition)),n}function HH(t,e){return t&&t.length>0?(An(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Is(i.updateTime):Is(a);return o.isEqual(kt.min())&&(o=Is(a)),new TH(o,i.transformResults||[])}(n,e))):[]}function GH(t,e){return{documents:[wM(t,e.path)]}}function KH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wM(t,i);const a=function(u){if(u.length!==0)return SM(Wo.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ih(d.field),direction:QH(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=J_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YH(t){let e=zH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){An(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const d=_M(f);return d instanceof Wo&&JR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(v){return new Ly(ah(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,x2(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new Cy(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new Cy(h,d)}(n.endAt)),dH(e,i,o,a,s,"F",l,u)}function XH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _M(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ah(n.unaryFilter.field);return Mr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ah(n.unaryFilter.field);return Mr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ah(n.unaryFilter.field);return Mr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ah(n.unaryFilter.field);return Mr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(t):t.fieldFilter!==void 0?function(n){return Mr.create(ah(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wo.create(n.compositeFilter.filters.map(r=>_M(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Et()}}(n.compositeFilter.op))}(t):Et()}function QH(t){return FH[t]}function JH(t){return $H[t]}function ZH(t){return BH[t]}function ih(t){return{fieldPath:t.canonicalString()}}function ah(t){return gi.fromServerFormat(t.fieldPath)}function SM(t){return t instanceof Mr?function(n){if(n.op==="=="){if(E4(n.value))return{unaryFilter:{field:ih(n.field),op:"IS_NAN"}};if(A4(n.value))return{unaryFilter:{field:ih(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E4(n.value))return{unaryFilter:{field:ih(n.field),op:"IS_NOT_NAN"}};if(A4(n.value))return{unaryFilter:{field:ih(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ih(n.field),op:JH(n.op),value:n.value}}}(t):t instanceof Wo?function(n){const r=n.getFilters().map(i=>SM(i));return r.length===1?r[0]:{compositeFilter:{op:ZH(n.op),filters:r}}}(t):Et()}function eG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n,r,i,a=kt.min(),o=kt.min(),s=xi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.ct=e}}function nG(t){const e=YH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.un=new iG}addToCollectionParentIndex(e,n){return this.un.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(Gu.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(Gu.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class iG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bi(Hn.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bi(Hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new id(0)}static kn(){return new id(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.changes=new jd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gm(r.mutation,i,$a.empty(),Yr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Kt()){const i=Bc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=em();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Kt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Cl();const o=mm(),s=function(){return mm()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof tc)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),gm(c.mutation,u,c.mutation.getFieldMask(),Yr.now())):o.set(u.key,$a.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new oG(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=mm();let i=new ur((o,s)=>o-s),a=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||$a.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Kt()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=sM();c.forEach(d=>{if(!a.has(d)){const h=dM(n.get(d),r.get(d));h!==null&&f.set(d,h),a=a.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $e.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return mt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):$e.resolve(Bc());let s=-1,l=a;return o.next(u=>$e.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?$e.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,Kt())).next(c=>({batchId:s,changes:oM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mt(n)).next(r=>{let i=em();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=em();return this.indexManager.getCollectionParents(e,a).next(s=>$e.forEach(s,l=>{const u=function(f,d){return new Xg(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Di.newInvalidDocument(c)))});let s=em();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&gm(c.mutation,u,$a.empty(),Yr.now()),S2(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $e.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Is(i.createTime)}}(n)),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nG(i.bundledQuery),readTime:Is(i.readTime)}}(n)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(){this.overlays=new ur(mt.comparator),this.Ir=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bc();return $e.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),$e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const i=Bc(),a=n.length+1,o=new mt(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new ur((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Bc(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Bc(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return $e.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CH(n,r));let a=this.Ir.get(n);a===void 0&&(a=Kt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Tr=new bi(ti.Er),this.dr=new bi(ti.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ti(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ti(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new mt(new Hn([])),r=new ti(n,e),i=new ti(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new mt(new Hn([])),r=new ti(n,e),i=new ti(n,e+1);let a=Kt();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new ti(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ti{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return mt.comparator(e.key,n.key)||an(e.wr,n.wr)}static Ar(e,n){return an(e.wr,n.wr)||mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new bi(ti.Er)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OH(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new ti(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return $e.resolve(o)}lookupMutationBatch(e,n){return $e.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ti(n,0),i=new ti(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bi(an);return n.forEach(i=>{const a=new ti(i,0),o=new ti(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),$e.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;mt.isDocumentKey(a)||(a=a.child(""));const o=new ti(new mt(a),0);let s=new bi(an);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),$e.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){An(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $e.forEach(n.mutations,i=>{const a=new ti(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ti(n,0),i=this.br.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e){this.Mr=e,this.docs=function(){return new ur(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():Di.newInvalidDocument(n))}getEntries(e,n){let r=Cl();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Di.newInvalidDocument(i))}),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Cl();const o=n.path,s=new mt(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KW(GW(c),r)<=0||(i.has(c.key)||S2(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Et()}Or(e,n){return $e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dG(this)}getSize(e){return $e.resolve(this.size)}}class dG extends aG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),$e.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.persistence=e,this.Nr=new jd(n=>rE(n),iE),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cE,this.targetCount=0,this.kr=id.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$e.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new id(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Kn(n),$e.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),$e.waitFor(a).next(()=>i)}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),$e.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ZA(0),this.Kr=!1,this.Kr=!0,this.$r=new cG,this.referenceDelegate=e(this),this.Ur=new pG(this),this.indexManager=new rG,this.remoteDocumentCache=function(i){return new hG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tG(n),this.Gr=new lG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new fG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new gG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return $e.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gG extends XW{constructor(e){super(),this.currentSequenceNumber=e}}class fE{constructor(e){this.persistence=e,this.Jr=new cE,this.Yr=null}static Zr(e){return new fE(e)}get Xr(){if(this.Yr)return this.Yr;throw Et()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.Xr,r=>{const i=mt.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,kt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $e.or([()=>$e.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Kt(),i=Kt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wq()?8:QW(Ui())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new vG;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pp()<=Qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",rh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$e.resolve()):(Pp()<=Qt.DEBUG&&at("QueryEngine","Query:",rh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pp()<=Qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",rh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):$e.resolve())}Yi(e,n){if(k4(n))return $e.resolve(null);let r=ks(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jy(n,null,"F"),r=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=Kt(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,jy(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return k4(n)||i.isEqual(kt.min())?$e.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?$e.resolve(null):(Pp()<=Qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),rh(n)),this.rs(e,o,n,HW(i,-1)).next(s=>s))})}ts(e,n){let r=new bi(iM(e));return n.forEach((i,a)=>{S2(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Pp()<=Qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",rh(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gu.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ur(an),this._s=new jd(a=>rE(a),iE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wG(t,e,n,r){return new bG(t,e,n,r)}async function EM(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=Kt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function xG(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let h=$e.resolve();return d.forEach(v=>{h=h.next(()=>c.getEntry(l,v)).next(b=>{const w=u.docVersions.get(v);An(w!==null),b.version.compareTo(w)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Kt();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PM(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function _G(t,e){const n=It(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,f)));let h=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(xi.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(b,w,y){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,c)&&s.push(n.Ur.updateTargetData(a,h))});let l=Cl(),u=Kt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(SG(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(kt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return $e.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function SG(t,e,n){let r=Kt(),i=Kt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Cl();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(kt.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):at("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function AG(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EG(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,$e.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ku(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function n5(t,e,n){const r=It(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yg(o))throw o;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function B4(t,e,n){const r=It(t);let i=kt.min(),a=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=It(l),d=f._s.get(c);return d!==void 0?$e.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(r,o,ks(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:kt.min(),n?a:Kt())).next(s=>(PG(r,mH(e),s),{documents:s,Ts:a})))}function PG(t,e,n){let r=t.us.get(e)||kt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class U4{constructor(){this.activeTargetIds=xH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TG{constructor(){this.so=new U4,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U4,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv=null;function Iw(){return rv===null?rv=function(){return 268435456+Math.round(2147483648*Math.random())}():rv++,"0x"+rv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="WebChannelConnection";class OG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=Iw(),l=this.xo(n,r.toUriEncodedString());at("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(at("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Zh("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ld}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=kG[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=Iw();return new Promise((o,s)=>{const l=new BR;l.setWithCredentials(!0),l.listenOnce(UR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qv.NO_ERROR:const c=l.getResponseJson();at(ki,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case qv.TIMEOUT:at(ki,`RPC '${e}' ${a} timed out`),s(new Ke(Me.DEADLINE_EXCEEDED,"Request time out"));break;case qv.HTTP_ERROR:const f=l.getStatus();if(at(ki,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(y)>=0?y:Me.UNKNOWN}(h.status);s(new Ke(v,h.message))}else s(new Ke(Me.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new Ke(Me.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{at(ki,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);at(ki,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Iw(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qR(),s=zR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");at(ki,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let d=!1,h=!1;const v=new IG({Io:w=>{h?at(ki,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(at(ki,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),at(ki,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),b=(w,y,_)=>{w.listen(y,S=>{try{_(S)}catch(N){setTimeout(()=>{throw N},0)}})};return b(f,Zp.EventType.OPEN,()=>{h||(at(ki,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,Zp.EventType.CLOSE,()=>{h||(h=!0,at(ki,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,Zp.EventType.ERROR,w=>{h||(h=!0,Zh(ki,`RPC '${e}' stream ${i} transport errored:`,w),v.So(new Ke(Me.UNAVAILABLE,"The operation could not be completed")))}),b(f,Zp.EventType.MESSAGE,w=>{var y;if(!h){const _=w.data[0];An(!!_);const S=_,N=S.error||((y=S[0])===null||y===void 0?void 0:y.error);if(N){at(ki,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let R=function(E){const F=Lr[E];if(F!==void 0)return mM(F)}(O),k=N.message;R===void 0&&(R=Me.INTERNAL,k="Unknown error status: "+O+" with message "+N.message),h=!0,v.So(new Ke(R,k)),f.close()}else at(ki,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),b(s,VR.STAT_EVENT,w=>{w.stat===H_.PROXY?at(ki,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===H_.NOPROXY&&at(ki,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Ow(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){return new UH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(Ol(n.toString()),Ol("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CG extends NM{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qH(this.serializer,e),r=function(a){if(!("targetChange"in a))return kt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?Is(o.readTime):kt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=t5(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=X_(l)?{documents:GH(a,l)}:{query:KH(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=yM(a,o.resumeToken);const u=J_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(kt.min())>0){s.readTime=Dy(a,o.snapshotVersion.toTimestamp());const u=J_(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=XH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=t5(this.serializer),n.removeTarget=e,this.a_(n)}}class LG extends NM{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return An(!!e.streamToken),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){An(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HH(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=t5(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WH(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Z_(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ke(Me.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Z_(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Me.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class RG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ol(n),this.D_=!1):at("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Tf(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=It(l);u.L_.add(4),await Zg(u),u.q_.set("Unknown"),u.L_.delete(4),await k2(u)}(this))})}),this.q_=new RG(r,i)}}async function k2(t){if(Tf(t))for(const e of t.B_)await e(!0)}async function Zg(t){for(const e of t.B_)await e(!1)}function kM(t,e){const n=It(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gE(n)?mE(n):Rd(n).r_()&&pE(n,e))}function dE(t,e){const n=It(t),r=Rd(n);n.N_.delete(e),r.r_()&&IM(n,e),n.N_.size===0&&(r.r_()?r.o_():Tf(n)&&n.q_.set("Unknown"))}function pE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rd(t).A_(e)}function IM(t,e){t.Q_.xe(e),Rd(t).R_(e)}function mE(t){t.Q_=new DH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rd(t).start(),t.q_.v_()}function gE(t){return Tf(t)&&!Rd(t).n_()&&t.N_.size>0}function Tf(t){return It(t).L_.size===0}function OM(t){t.Q_=void 0}async function DG(t){t.q_.set("Online")}async function FG(t){t.N_.forEach((e,n)=>{pE(t,e)})}async function $G(t,e){OM(t),gE(t)?(t.q_.M_(e),mE(t)):t.q_.set("Unknown")}async function BG(t,e,n){if(t.q_.set("Online"),e instanceof vM&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fy(t,r)}else if(e instanceof Gv?t.Q_.Ke(e):e instanceof gM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(kt.min()))try{const r=await PM(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(xi.EMPTY_BYTE_STRING,c.snapshotVersion)),IM(a,l);const f=new ku(c.target,l,u,c.sequenceNumber);pE(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){at("RemoteStore","Failed to raise snapshot:",r),await Fy(t,r)}}async function Fy(t,e,n){if(!Yg(e))throw e;t.L_.add(1),await Zg(t),t.q_.set("Offline"),n||(n=()=>PM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await k2(t)})}function CM(t,e){return e().catch(n=>Fy(t,n,e))}async function I2(t){const e=It(t),n=Yu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;UG(e);)try{const i=await AG(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,VG(e,i)}catch(i){await Fy(e,i)}LM(e)&&jM(e)}function UG(t){return Tf(t)&&t.O_.length<10}function VG(t,e){t.O_.push(e);const n=Yu(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LM(t){return Tf(t)&&!Yu(t).n_()&&t.O_.length>0}function jM(t){Yu(t).start()}async function zG(t){Yu(t).p_()}async function qG(t){const e=Yu(t);for(const n of t.O_)e.m_(n.mutations)}async function WG(t,e,n){const r=t.O_.shift(),i=sE.from(r,e,n);await CM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await I2(t)}async function HG(t,e){e&&Yu(t).V_&&await async function(r,i){if(function(o){return jH(o)&&o!==Me.ABORTED}(i.code)){const a=r.O_.shift();Yu(r).s_(),await CM(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await I2(r)}}(t,e),LM(t)&&jM(t)}async function z4(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const r=Tf(n);n.L_.add(3),await Zg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await k2(n)}async function GG(t,e){const n=It(t);e?(n.L_.delete(2),await k2(n)):e||(n.L_.add(2),await Zg(n),n.q_.set("Unknown"))}function Rd(t){return t.K_||(t.K_=function(n,r,i){const a=It(n);return a.w_(),new CG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:DG.bind(null,t),Ro:FG.bind(null,t),mo:$G.bind(null,t),d_:BG.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),gE(t)?mE(t):t.q_.set("Unknown")):(await t.K_.stop(),OM(t))})),t.K_}function Yu(t){return t.U_||(t.U_=function(n,r,i){const a=It(n);return a.w_(),new LG(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zG.bind(null,t),mo:HG.bind(null,t),f_:qG.bind(null,t),g_:WG.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await I2(t)):(await t.U_.stop(),t.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _l,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new vE(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(t,e){if(Ol("AsyncQueue",`${e}: ${t}`),Yg(t))return new Ke(Me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=em(),this.sortedSet=new ur(this.comparator)}static emptySet(e){return new Oh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.W_=new ur(mt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Et():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ad{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new ad(e,n,Oh.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class YG{constructor(){this.queries=W4(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=It(n),a=i.queries;i.queries=W4(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new Ke(Me.ABORTED,"Firestore shutting down"))}}function W4(){return new jd(t=>rM(t),_2)}async function RM(t,e){const n=It(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new KG,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=yE(o,`Initialization of query '${rh(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&bE(n)}async function MM(t,e){const n=It(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XG(t,e){const n=It(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&bE(n)}function QG(t,e,n){const r=It(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function bE(t){t.Y_.forEach(e=>{e.next()})}var r5,H4;(H4=r5||(r5={})).ea="default",H4.Cache="cache";class DM{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==r5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.key=e}}class $M{constructor(e){this.key=e}}class JG{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Kt(),this.mutatedKeys=Kt(),this.Aa=iM(e),this.Ra=new Oh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new q4,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=S2(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),b=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;d&&h?d.data.isEqual(h.data)?v!==b&&(r.track({type:3,doc:h}),w=!0):this.ga(d,h)||(r.track({type:2,doc:h}),w=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(s=!0)):!d&&h?(r.track({type:0,doc:h}),w=!0):d&&!h&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(s=!0)),w&&(h?(o=o.add(h),a=b?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(h,v){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return b(h)-b(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ad(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new q4,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Kt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new $M(r))}),this.da.forEach(r=>{e.has(r)||n.push(new FM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Kt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ad.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ZG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eK{constructor(e){this.key=e,this.va=!1}}class tK{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jd(s=>rM(s),_2),this.Ma=new Map,this.xa=new Set,this.Oa=new ur(mt.comparator),this.Na=new Map,this.La=new cE,this.Ba={},this.ka=new Map,this.qa=id.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nK(t,e,n=!0){const r=WM(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await BM(r,e,n,!0),i}async function rK(t,e){const n=WM(t);await BM(n,e,!0,!1)}async function BM(t,e,n,r){const i=await EG(t.localStore,ks(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await iK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&kM(t.remoteStore,i),s}async function iK(t,e,n,r,i){t.Ka=(f,d,h)=>async function(b,w,y,_){let S=w.view.ma(y);S.ns&&(S=await B4(b.localStore,w.query,!1).then(({documents:k})=>w.view.ma(k,S)));const N=_&&_.targetChanges.get(w.targetId),O=_&&_.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(S,b.isPrimaryClient,N,O);return K4(b,w.targetId,R.wa),R.snapshot}(t,f,d,h);const a=await B4(t.localStore,e,!0),o=new JG(e,a.Ts),s=o.ma(a.documents),l=Jg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);K4(t,n,u.wa);const c=new ZG(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function aK(t,e,n){const r=It(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!_2(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n5(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dE(r.remoteStore,i.targetId),i5(r,i.targetId)}).catch(Kg)):(i5(r,i.targetId),await n5(r.localStore,i.targetId,!0))}async function oK(t,e){const n=It(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dE(n.remoteStore,r.targetId))}async function sK(t,e,n){const r=pK(t);try{const i=await function(o,s){const l=It(o),u=Yr.now(),c=s.reduce((h,v)=>h.add(v.key),Kt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let v=Cl(),b=Kt();return l.cs.getEntries(h,c).next(w=>{v=w,v.forEach((y,_)=>{_.isValidDocument()||(b=b.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,v)).next(w=>{f=w;const y=[];for(const _ of s){const S=kH(_,f.get(_.key).overlayedDocument);S!=null&&y.push(new tc(_.key,S,YR(S.value.mapValue),ea.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,y,s)}).next(w=>{d=w;const y=w.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(h,w.batchId,y)})}).then(()=>({batchId:d.batchId,changes:oM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ur(an)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await e0(r,i.changes),await I2(r.remoteStore)}catch(i){const a=yE(i,"Failed to persist write");n.reject(a)}}async function UM(t,e){const n=It(t);try{const r=await _G(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(An(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?An(o.va):i.removedDocuments.size>0&&(An(o.va),o.va=!1))}),await e0(n,r,e)}catch(r){await Kg(r)}}function G4(t,e,n){const r=It(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=It(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(s)&&(u=!0)}),u&&bE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lK(t,e,n){const r=It(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new ur(mt.comparator);o=o.insert(a,Di.newNoDocument(a,kt.min()));const s=Kt().add(a),l=new T2(kt.min(),new Map,new ur(an),o,s);await UM(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),wE(r)}else await n5(r.localStore,e,!1).then(()=>i5(r,e,n)).catch(Kg)}async function uK(t,e){const n=It(t),r=e.batch.batchId;try{const i=await xG(n.localStore,e);zM(n,r,null),VM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await e0(n,i)}catch(i){await Kg(i)}}async function cK(t,e,n){const r=It(t);try{const i=await function(o,s){const l=It(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(An(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);zM(r,e,n),VM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await e0(r,i)}catch(i){await Kg(i)}}function VM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zM(t,e,n){const r=It(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||qM(t,r)})}function qM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(dE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wE(t))}function K4(t,e,n){for(const r of n)r instanceof FM?(t.La.addReference(r.key,e),fK(t,r)):r instanceof $M?(at("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||qM(t,r.key)):Et()}function fK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(at("SyncEngine","New document in limbo: "+n),t.xa.add(r),wE(t))}function wE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new mt(Hn.fromString(e)),r=t.qa.next();t.Na.set(r,new eK(n)),t.Oa=t.Oa.insert(n,r),kM(t.remoteStore,new ku(ks(aE(n.path)),r,"TargetPurposeLimboResolution",ZA.oe))}}async function e0(t,e,n){const r=It(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=hE.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=It(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$e.forEach(u,d=>$e.forEach(d.$i,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>$e.forEach(d.Ui,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Yg(f))throw f;at("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.os.get(d),v=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(d,b)}}}(r.localStore,a))}async function hK(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const r=await EM(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new Ke(Me.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await e0(n,r.hs)}}function dK(t,e){const n=It(t),r=n.Na.get(e);if(r&&r.va)return Kt().add(r.key);{let i=Kt();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function WM(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lK.bind(null,e),e.Ca.d_=XG.bind(null,e.eventManager),e.Ca.$a=QG.bind(null,e.eventManager),e}function pK(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cK.bind(null,e),e}class $y{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wG(this.persistence,new yG,e.initialUser,this.serializer)}Ga(e){return new mG(fE.Zr,this.serializer)}Wa(e){return new TG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$y.provider={build:()=>new $y};class a5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hK.bind(null,this.syncEngine),await GG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YG}()}createDatastore(e){const n=N2(e.databaseInfo.databaseId),r=function(a){return new OG(a)}(e.databaseInfo);return function(a,o,s,l){return new jG(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new MG(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>G4(this.syncEngine,n,0),function(){return V4.D()?new V4:new NG}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new tK(i,a,o,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=It(i);at("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Zg(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}a5.provider={build:()=>new a5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ol("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ri.UNAUTHENTICATED,this.clientId=HR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{at("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(at("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _l;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gK(t);at("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>z4(e.remoteStore,i)),t._onlineComponents=e}async function gK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Me.FAILED_PRECONDITION||i.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zh("Error using user provided cache. Falling back to memory cache: "+n),await Cw(t,new $y)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await Cw(t,new $y);return t._offlineComponents}async function GM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await Y4(t,t._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await Y4(t,new a5))),t._onlineComponents}function vK(t){return GM(t).then(e=>e.syncEngine)}async function KM(t){const e=await GM(t),n=e.eventManager;return n.onListen=nK.bind(null,e.syncEngine),n.onUnlisten=aK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oK.bind(null,e.syncEngine),n}function yK(t,e,n={}){const r=new _l;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new HM({next:d=>{c.Za(),o.enqueueAndForget(()=>MM(a,f));const h=d.docs.has(s);!h&&d.fromCache?u.reject(new Ke(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new Ke(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new DM(aE(s.path),c,{includeMetadataChanges:!0,_a:!0});return RM(a,f)}(await KM(t),t.asyncQueue,e,n,r)),r.promise}function bK(t,e,n={}){const r=new _l;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new HM({next:d=>{c.Za(),o.enqueueAndForget(()=>MM(a,f)),d.fromCache&&l.source==="server"?u.reject(new Ke(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new DM(s,c,{includeMetadataChanges:!0,_a:!0});return RM(a,f)}(await KM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e,n){if(!n)throw new Ke(Me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wK(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q4(t){if(!mt.isDocumentKey(t))throw new Ke(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function J4(t){if(mt.isDocumentKey(t))throw new Ke(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Et()}function bo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O2(t);throw new Ke(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ke(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ke(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ke(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class C2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z4(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DW;switch(r.type){case"firstParty":return new UW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X4.get(n);r&&(at("ComponentProvider","Removing Datastore"),X4.delete(n),r.terminate())}(this),Promise.resolve()}}function xK(t,e,n,r={}){var i;const a=(t=bo(t,C2))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Zh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Ri.MOCK_USER;else{s=LR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ke(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ri(u)}t._authCredentials=new FW(new WR(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class ta{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ta(this.firestore,e,this._key)}}class Vu extends Nf{constructor(e,n,r){super(e,n,aE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ta(this.firestore,null,new mt(e))}withConverter(e){return new Vu(this.firestore,e,this._path)}}function Ki(t,e,...n){if(t=Bn(t),XM("collection","path",e),t instanceof C2){const r=Hn.fromString(e,...n);return J4(r),new Vu(t,null,r)}{if(!(t instanceof ta||t instanceof Vu))throw new Ke(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Hn.fromString(e,...n));return J4(r),new Vu(t.firestore,null,r)}}function ua(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=HR.newId()),XM("doc","path",e),t instanceof C2){const r=Hn.fromString(e,...n);return Q4(r),new ta(t,null,new mt(r))}{if(!(t instanceof ta||t instanceof Vu))throw new Ke(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Hn.fromString(e,...n));return Q4(r),new ta(t.firestore,t instanceof Vu?t.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TM(this,"async_queue_retry"),this.Vu=()=>{const r=Ow();r&&at("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ow();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ow();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new _l;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yg(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Ol("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=vE.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class nc extends C2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ek,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ek(e),this._firestoreClient=void 0,await e}}}function _K(t,e){const n=typeof t=="object"?t:QA(),r=typeof t=="string"?t:"(default)",i=w2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=IR("firestore");a&&xK(i,...a)}return i}function L2(t){if(t._terminated)throw new Ke(Me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SK(t),t._firestoreClient}function SK(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new eH(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YM(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(xi.fromBase64String(e))}catch(n){throw new Ke(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new od(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=/^__.*__$/;class EK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new tc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qg(e,this.data,n,this.fieldTransforms)}}class QM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new tc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class R2{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new R2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return By(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JM(this.Cu)&&AK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class PK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||N2(e)}Qu(e,n,r,i=!1){return new R2({Cu:e,methodName:n,qu:r,path:gi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(t){const e=t._freezeSettings(),n=N2(t._databaseId);return new PK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SE(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);EE("Data must be an object, but it was:",o,r);const s=tD(r,o);let l,u;if(a.merge)l=new $a(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const d=o5(e,f,n);if(!o.contains(d))throw new Ke(Me.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);rD(c,d)||c.push(d)}l=new $a(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new EK(new ha(s),l,u)}class M2 extends j2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M2}}function TK(t,e,n){return new R2({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class AE extends j2{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=TK(this,e,!0),r=this.Ku.map(a=>Md(a,n)),i=new rd(r);return new EH(e.path,i)}isEqual(e){return e instanceof AE&&Wm(this.Ku,e.Ku)}}function ZM(t,e,n,r){const i=t.Qu(1,e,n);EE("Data must be an object, but it was:",i,r);const a=[],o=ha.empty();Pf(r,(l,u)=>{const c=PE(e,l,n);u=Bn(u);const f=i.Nu(c);if(u instanceof M2)a.push(c);else{const d=Md(u,f);d!=null&&(a.push(c),o.set(c,d))}});const s=new $a(a);return new QM(o,s,i.fieldTransforms)}function eD(t,e,n,r,i,a){const o=t.Qu(1,e,n),s=[o5(e,r,n)],l=[i];if(a.length%2!=0)throw new Ke(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)s.push(o5(e,a[d])),l.push(a[d+1]);const u=[],c=ha.empty();for(let d=s.length-1;d>=0;--d)if(!rD(u,s[d])){const h=s[d];let v=l[d];v=Bn(v);const b=o.Nu(h);if(v instanceof M2)u.push(h);else{const w=Md(v,b);w!=null&&(u.push(h),c.set(h,w))}}const f=new $a(u);return new QM(c,f,o.fieldTransforms)}function NK(t,e,n,r=!1){return Md(n,t.Qu(r?4:3,e))}function Md(t,e){if(nD(t=Bn(t)))return EE("Unsupported field value:",e,t),tD(t,e);if(t instanceof j2)return function(r,i){if(!JM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=Md(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _H(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Yr.fromDate(r);return{timestampValue:Dy(i.serializer,a)}}if(r instanceof Yr){const a=new Yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dy(i.serializer,a)}}if(r instanceof xE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof od)return{bytesValue:yM(i.serializer,r._byteString)};if(r instanceof ta){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _E)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return oE(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${O2(r)}`)}(t,e)}function tD(t,e){const n={};return GR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pf(t,(r,i)=>{const a=Md(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function nD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yr||t instanceof xE||t instanceof od||t instanceof ta||t instanceof j2||t instanceof _E)}function EE(t,e,n){if(!nD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=O2(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function o5(t,e,n){if((e=Bn(e))instanceof t0)return e._internalPath;if(typeof e=="string")return PE(t,e);throw By("Field path arguments must be of type string or ",t,!1,void 0,n)}const kK=new RegExp("[~\\*/\\[\\]]");function PE(t,e,n){if(e.search(kK)>=0)throw By(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t0(...e.split("."))._internalPath}catch{throw By(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function By(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ke(Me.INVALID_ARGUMENT,s+t+l)}function rD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(TE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IK extends iD{data(){return super.data()}}function TE(t,e){return typeof e=="string"?PE(t,e):e instanceof t0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NE{}class aD extends NE{}function hs(t,e,...n){let r=[];e instanceof NE&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof kE).length,s=a.filter(l=>l instanceof D2).length;if(o>1||o>0&&s>0)throw new Ke(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class D2 extends aD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new D2(e,n,r)}_apply(e){const n=this._parse(e);return oD(e._query,n),new Nf(e.firestore,e.converter,Q_(e._query,n))}_parse(e){const n=n0(e.firestore);return function(a,o,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ke(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){rk(f,c);const h=[];for(const v of f)h.push(nk(l,a,v));d={arrayValue:{values:h}}}else d=nk(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||rk(f,c),d=NK(s,o,f,c==="in"||c==="not-in");return Mr.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fu(t,e,n){const r=e,i=TE("where",t);return D2._create(i,r,n)}class kE extends NE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)oD(o,l),o=Q_(o,l)}(e._query,n),new Nf(e.firestore,e.converter,Q_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IE extends aD{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new IE(e,n,r)}_apply(e){return new Nf(e.firestore,e.converter,jy(e._query,this._limit,this._limitType))}}function tk(t){return IE._create("limit",t,"F")}function nk(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new Ke(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nM(e)&&n.indexOf("/")!==-1)throw new Ke(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Hn.fromString(n));if(!mt.isDocumentKey(r))throw new Ke(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S4(t,new mt(r))}if(n instanceof ta)return S4(t,n._key);throw new Ke(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O2(n)}.`)}function rk(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oD(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CK{convertValue(e,n="none"){switch(uf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Et()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pf(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Er(o.doubleValue));return new _E(a)}convertGeoPoint(e){return new xE(Er(e.latitude),Er(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Km(e));default:return null}}convertTimestamp(e){const n=Ku(e);return new Yr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Hn.fromString(e);An(AM(r));const i=new Ym(r.get(1),r.get(3)),a=new mt(r.popFirst(5));return i.isEqual(n)||Ol(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sD extends iD{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(TE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kv extends sD{data(e={}){return super.data(e)}}class LK{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kv(this._firestore,this._userDataWriter,r.key,r,new nm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Kv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new nm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Kv(i._firestore,i._userDataWriter,s.doc.key,s.doc,new nm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:jK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){t=bo(t,ta);const e=bo(t.firestore,nc);return yK(L2(e),t._key).then(n=>MK(e,t,n))}class lD extends CK{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,n)}}function ds(t){t=bo(t,Nf);const e=bo(t.firestore,nc),n=L2(e),r=new lD(e);return OK(t._query),bK(n,t._query).then(i=>new LK(e,r,t,i))}function RK(t,e,n){t=bo(t,ta);const r=bo(t.firestore,nc),i=OE(t.converter,e,n);return r0(r,[SE(n0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ea.none())])}function Ac(t,e,n,...r){t=bo(t,ta);const i=bo(t.firestore,nc),a=n0(i);let o;return o=typeof(e=Bn(e))=="string"||e instanceof t0?eD(a,"updateDoc",t._key,e,n,r):ZM(a,"updateDoc",t._key,e),r0(i,[o.toMutation(t._key,ea.exists(!0))])}function iv(t){return r0(bo(t.firestore,nc),[new P2(t._key,ea.none())])}function Tp(t,e){const n=bo(t.firestore,nc),r=ua(t),i=OE(t.converter,e);return r0(n,[SE(n0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ea.exists(!1))]).then(()=>r)}function r0(t,e){return function(r,i){const a=new _l;return r.asyncQueue.enqueueAndForget(async()=>sK(await vK(r),i,a)),a.promise}(L2(t),e)}function MK(t,e,n){const r=n.docs.get(e._key),i=new lD(t);return new sD(t,i,e._key,r,new nm(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=n0(e)}set(e,n,r){this._verifyNotCommitted();const i=Lw(e,this._firestore),a=OE(i.converter,n,r),o=SE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,ea.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Lw(e,this._firestore);let o;return o=typeof(n=Bn(n))=="string"||n instanceof t0?eD(this._dataReader,"WriteBatch.update",a._key,n,r,i):ZM(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,ea.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Lw(e,this._firestore);return this._mutations=this._mutations.concat(new P2(n._key,ea.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ke(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lw(t,e){if((t=Bn(t)).firestore!==e)throw new Ke(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function FK(...t){return new AE("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(t){return L2(t=bo(t,nc)),new DK(t,e=>r0(t,e))}(function(e,n=!0){(function(i){Ld=i})(Ef),of(new Hu("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new nc(new $W(r.getProvider("auth-internal")),new zW(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ym(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Ns(y4,"4.7.3",e),Ns(y4,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firebasestorage.googleapis.com",cD="storageBucket",BK=2*60*1e3,UK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Bs{constructor(e,n,r=0){super(jw(e),`Firebase Storage: ${n} (${jw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function jw(t){return"storage/"+t}function CE(){const t="An unknown error occurred, please check the error payload for server response.";return new yr(vr.UNKNOWN,t)}function VK(t){return new yr(vr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zK(t){return new yr(vr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yr(vr.UNAUTHENTICATED,t)}function WK(){return new yr(vr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HK(t){return new yr(vr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GK(){return new yr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KK(){return new yr(vr.CANCELED,"User canceled the upload/download.")}function YK(t){return new yr(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function XK(t){return new yr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QK(){return new yr(vr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cD+"' property when initializing the app?")}function JK(){return new yr(vr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZK(){return new yr(vr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eY(t){return new yr(vr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function s5(t){return new yr(vr.INVALID_ARGUMENT,t)}function fD(){return new yr(vr.APP_DELETED,"The Firebase app was deleted.")}function tY(t){return new yr(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vm(t,e){return new yr(vr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Np(t){throw new yr(vr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ba.makeFromUrl(e,n)}catch{return new Ba(e,"")}if(r.path==="")return r;throw XK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},b=n===uD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${b}/${i}/${w}`,"i"),S=[{regex:s,indices:l,postModify:a},{regex:h,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<S.length;N++){const O=S[N],R=O.regex.exec(e);if(R){const k=R[O.indices.bucket];let P=R[O.indices.path];P||(P=""),r=new Ba(k,P),O.postModify(r);break}}if(r==null)throw YK(e);return r}}class nY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(h,l())},w)}function d(){a&&clearTimeout(a)}function h(w,...y){if(u){d();return}if(w){d(),c.call(null,w,...y);return}if(l()||o){d(),c.call(null,w,...y);return}r<64&&(r*=2);let S;s===1?(s=2,S=0):S=(r+Math.random())*1e3,f(S)}let v=!1;function b(w){v||(v=!0,d(),!u&&(i!==null?(w||(s=2),clearTimeout(i),f(0)):w||(s=1)))}return f(0),a=setTimeout(()=>{o=!0,b(!0)},n),b}function iY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){return t!==void 0}function oY(t){return typeof t=="object"&&!Array.isArray(t)}function LE(t){return typeof t=="string"||t instanceof String}function ak(t){return jE()&&t instanceof Blob}function jE(){return typeof Blob<"u"}function ok(t,e,n,r){if(r<e)throw s5(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw s5(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Yc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yc||(Yc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n,r,i,a,o,s,l,u,c,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,v)=>{this.resolve_=h,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new av(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===Yc.NO_ERROR,l=a.getStatus();if(!s||sY(l,this.additionalRetryCodes_)&&this.retry){const c=a.getErrorCode()===Yc.ABORT;r(!1,new av(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new av(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());aY(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=CE();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?fD():KK();o(l)}else{const l=GK();o(l)}};this.canceled_?n(!1,new av(!1,null,!0)):this.backoffId_=rY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class av{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dY(t,e,n,r,i,a,o=!0){const s=hD(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return fY(u,e),uY(u,n),cY(u,a),hY(u,r),new lY(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mY(...t){const e=pY();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jE())return new Blob(t);throw new yr(vr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gY(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t){if(typeof atob>"u")throw eY("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rw{constructor(e,n){this.data=e,this.contentType=n||null}}function yY(t,e){switch(t){case Ss.RAW:return new Rw(dD(e));case Ss.BASE64:case Ss.BASE64URL:return new Rw(pD(t,e));case Ss.DATA_URL:return new Rw(wY(e),xY(e))}throw CE()}function dD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bY(t){let e;try{e=decodeURIComponent(t)}catch{throw vm(Ss.DATA_URL,"Malformed data URL.")}return dD(e)}function pD(t,e){switch(t){case Ss.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw vm(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ss.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw vm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vY(e)}catch(i){throw i.message.includes("polyfill")?i:vm(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class mD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vm(Ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=_Y(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wY(t){const e=new mD(t);return e.base64?pD(Ss.BASE64,e.rest):bY(e.rest)}function xY(t){return new mD(t).contentType}function _Y(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){let r=0,i="";ak(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ak(this.data_)){const r=this.data_,i=gY(r,e,n);return i===null?null:new xu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xu(r,!0)}}static getBlob(...e){if(jE()){const n=e.map(r=>r instanceof xu?r.data_:r);return new xu(mY.apply(null,n))}else{const n=e.map(o=>LE(o)?yY(Ss.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new xu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){let e;try{e=JSON.parse(t)}catch{return null}return oY(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AY(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t,e){return e}class Yi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||EY}}let ov=null;function PY(t){return!LE(t)||t.length<2?t:vD(t)}function yD(){if(ov)return ov;const t=[];t.push(new Yi("bucket")),t.push(new Yi("generation")),t.push(new Yi("metageneration")),t.push(new Yi("name","fullPath",!0));function e(a,o){return PY(o)}const n=new Yi("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Yi("size");return i.xform=r,t.push(i),t.push(new Yi("timeCreated")),t.push(new Yi("updated")),t.push(new Yi("md5Hash",null,!0)),t.push(new Yi("cacheControl",null,!0)),t.push(new Yi("contentDisposition",null,!0)),t.push(new Yi("contentEncoding",null,!0)),t.push(new Yi("contentLanguage",null,!0)),t.push(new Yi("contentType",null,!0)),t.push(new Yi("metadata","customMetadata",!0)),ov=t,ov}function TY(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Ba(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function NY(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return TY(r,t),r}function bD(t,e,n){const r=gD(e);return r===null?null:NY(t,r,n)}function kY(t,e,n,r){const i=gD(e);if(i===null||!LE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const c=t.bucket,f=t.fullPath,d="/b/"+o(c)+"/o/"+o(f),h=RE(d,n,r),v=hD({alt:"media",token:u});return h+v})[0]}function IY(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class wD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){if(!t)throw CE()}function OY(t,e){function n(r,i){const a=bD(t,i,e);return xD(a!==null),a}return n}function CY(t,e){function n(r,i){const a=bD(t,i,e);return xD(a!==null),kY(a,i,t.host,t._protocol)}return n}function _D(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=WK():i=qK():n.getStatus()===402?i=zK(t.bucket):n.getStatus()===403?i=HK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function LY(t){const e=_D(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=VK(t.path)),a.serverResponse=i.serverResponse,a}return n}function jY(t,e,n){const r=e.fullServerUrl(),i=RE(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new wD(i,a,CY(t,n),o);return s.errorHandler=LY(e),s}function RY(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function MY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=RY(null,e)),r}function DY(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let S="";for(let N=0;N<2;N++)S=S+Math.random().toString().slice(2);return S}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=MY(e,r,i),c=IY(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",h=xu.getBlob(f,r,d);if(h===null)throw JK();const v={name:u.fullPath},b=RE(a,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,_=new wD(b,w,OY(t,n),y);return _.urlParams=v,_.headers=o,_.body=h.uploadData(),_.errorHandler=_D(e),_}class FY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Np("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Np("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Np("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Np("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Np("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $Y extends FY{initXhr(){this.xhr_.responseType="text"}}function SD(){return new $Y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this._service=e,n instanceof Ba?this._location=n:this._location=Ba.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cf(e,n)}get root(){const e=new Ba(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vD(this._location.path)}get storage(){return this._service}get parent(){const e=SY(this._location.path);if(e===null)return null;const n=new Ba(this._location.bucket,e);return new cf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tY(e)}}function BY(t,e,n){t._throwIfRoot("uploadBytes");const r=DY(t.storage,t._location,yD(),new xu(e,!0),n);return t.storage.makeRequestWithTokens(r,SD).then(i=>({metadata:i,ref:t}))}function UY(t){t._throwIfRoot("getDownloadURL");const e=jY(t.storage,t._location,yD());return t.storage.makeRequestWithTokens(e,SD).then(n=>{if(n===null)throw ZK();return n})}function VY(t,e){const n=AY(t._location.path,e),r=new Ba(t._location.bucket,n);return new cf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){return/^[A-Za-z]+:\/\//.test(t)}function qY(t,e){return new cf(t,e)}function AD(t,e){if(t instanceof ME){const n=t;if(n._bucket==null)throw QK();const r=new cf(n,n._bucket);return e!=null?AD(r,e):r}else return e!==void 0?VY(t,e):t}function WY(t,e){if(e&&zY(e)){if(t instanceof ME)return qY(t,e);throw s5("To use ref(service, url), the first argument must be a Storage instance.")}else return AD(t,e)}function sk(t,e){const n=e==null?void 0:e[cD];return n==null?null:Ba.makeFromBucketSpec(n,t)}function HY(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LR(i,t.app.options.projectId))}class ME{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=uD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BK,this._maxUploadRetryTime=UK,this._requests=new Set,i!=null?this._bucket=Ba.makeFromBucketSpec(i,this._host):this._bucket=sk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ba.makeFromBucketSpec(this._url,e):this._bucket=sk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ok("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new nY(fD());{const o=dY(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lk="@firebase/storage",uk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="storage";function ck(t,e,n){return t=Bn(t),BY(t,e,n)}function fk(t){return t=Bn(t),UY(t)}function hk(t,e){return t=Bn(t),WY(t,e)}function GY(t=QA(),e){t=Bn(t);const r=w2(t,ED).getImmediate({identifier:e}),i=IR("storage");return i&&KY(r,...i),r}function KY(t,e,n,r={}){HY(t,e,n,r)}function YY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ME(n,r,i,e,Ef)}function XY(){of(new Hu(ED,YY,"PUBLIC").setMultipleInstances(!0)),Ns(lk,uk,""),Ns(lk,uk,"esm2017")}XY();var QY="firebase",JY="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(QY,JY,"app");function DE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZY=PD,TD=new Hg("auth","Firebase",PD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new YA("@firebase/auth");function eX(t,...e){Uy.logLevel<=Qt.WARN&&Uy.warn(`Auth (${Ef}): ${t}`,...e)}function Yv(t,...e){Uy.logLevel<=Qt.ERROR&&Uy.error(`Auth (${Ef}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,...e){throw FE(t,...e)}function Os(t,...e){return FE(t,...e)}function ND(t,e,n){const r=Object.assign(Object.assign({},ZY()),{[e]:n});return new Hg("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return ND(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TD.create(t,...e)}function _t(t,e,...n){if(!t)throw FE(e,...n)}function pl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yv(e),new Error(e)}function Ll(t,e){t||pl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tX(){return dk()==="http:"||dk()==="https:"}function dk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tX()||vq()||"connection"in navigator)?navigator.onLine:!0}function rX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ll(n>e,"Short delay should be less than long delay!"),this.isMobile=pq()||yq()}get(){return nX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){Ll(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX=new i0(3e4,6e4);function $l(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Us(t,e,n,r,i={}){return ID(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=Gg(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return gq()||(u.referrerPolicy="no-referrer"),kD.fetch()(OD(t,t.config.apiHost,n,s),u)})}async function ID(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iX),e);try{const i=new sX(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw sv(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sv(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sv(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sv(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ND(t,c,u);Ho(t,c)}}catch(i){if(i instanceof Bs)throw i;Ho(t,"network-request-failed",{message:String(i)})}}async function a0(t,e,n,r,i={}){const a=await Us(t,e,n,r,i);return"mfaPendingCredential"in a&&Ho(t,"multi-factor-auth-required",{_serverResponse:a}),a}function OD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?$E(t.config,i):`${t.config.apiScheme}://${i}`}function oX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),aX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Os(t,e,r);return i.customData._tokenResponse=n,i}function pk(t){return t!==void 0&&t.enterprise!==void 0}class lX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oX(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uX(t,e){return Us(t,"GET","/v2/recaptchaConfig",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cX(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function CD(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fX(t,e=!1){const n=Bn(t),r=await n.getIdToken(e),i=BE(r);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:ym(Mw(i.auth_time)),issuedAtTime:ym(Mw(i.iat)),expirationTime:ym(Mw(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Mw(t){return Number(t)*1e3}function BE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yv("JWT malformed, contained fewer than 3 sections"),null;try{const i=NR(n);return i?JSON.parse(i):(Yv("Failed to decode base64 JWT payload"),null)}catch(i){return Yv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mk(t){const e=BE(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bs&&hX(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ym(this.lastLoginAt),this.creationTime=ym(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sd(t,CD(n,{idToken:r}));_t(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?LD(a.providerUserInfo):[],s=mX(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new u5(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function pX(t){const e=Bn(t);await Vy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LD(t){return t.map(e=>{var{providerId:n}=e,r=DE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gX(t,e){const n=await ID(t,{},async()=>{const r=Gg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=OD(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",kD.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vX(t,e){return Us(t,"POST","/v2/accounts:revokeToken",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const n=mk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await gX(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ch;return r&&(_t(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(_t(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ch,this.toJSON())}_performRefresh(){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ml{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=DE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u5(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sd(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fX(this,e)}reload(){return pX(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ml(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($o(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await sd(this,cX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(s=n.tenantId)!==null&&s!==void 0?s:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:N,isAnonymous:O,providerData:R,stsTokenManager:k}=n;_t(S&&k,e,"internal-error");const P=Ch.fromJSON(this.name,k);_t(typeof S=="string",e,"internal-error"),hu(f,e.name),hu(d,e.name),_t(typeof N=="boolean",e,"internal-error"),_t(typeof O=="boolean",e,"internal-error"),hu(h,e.name),hu(v,e.name),hu(b,e.name),hu(w,e.name),hu(y,e.name),hu(_,e.name);const E=new ml({uid:S,auth:e,email:d,emailVerified:N,displayName:f,isAnonymous:O,photoURL:v,phoneNumber:h,tenantId:b,stsTokenManager:P,createdAt:y,lastLoginAt:_});return R&&Array.isArray(R)&&(E.providerData=R.map(F=>Object.assign({},F))),w&&(E._redirectEventId=w),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ch;i.updateFromServerResponse(n);const a=new ml({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_t(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?LD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ch;s.updateFromIdToken(r);const l=new ml({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new u5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Map;function gl(t){Ll(t instanceof Function,"Expected a class definition");let e=gk.get(t);return e?(Ll(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jD.type="NONE";const vk=jD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e,n){return`firebase:${t}:${e}:${n}`}class Lh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ml._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lh(gl(vk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||gl(vk);const o=Xv(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const f=ml._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Lh(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Lh(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BD(e))return"Blackberry";if(UD(e))return"Webos";if(MD(e))return"Safari";if((e.includes("chrome/")||DD(e))&&!e.includes("edge/"))return"Chrome";if($D(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RD(t=Ui()){return/firefox\//i.test(t)}function MD(t=Ui()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DD(t=Ui()){return/crios\//i.test(t)}function FD(t=Ui()){return/iemobile/i.test(t)}function $D(t=Ui()){return/android/i.test(t)}function BD(t=Ui()){return/blackberry/i.test(t)}function UD(t=Ui()){return/webos/i.test(t)}function UE(t=Ui()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yX(t=Ui()){var e;return UE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bX(){return bq()&&document.documentMode===10}function VD(t=Ui()){return UE(t)||$D(t)||UD(t)||BD(t)||/windows phone/i.test(t)||FD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e=[]){let n;switch(t){case"Browser":n=yk(Ui());break;case"Worker":n=`${yk(Ui())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ef}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(t,e={}){return Us(t,"GET","/v2/passwordPolicy",$l(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X=6;class SX{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_X,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bk(this),this.idTokenSubscription=new bk(this),this.beforeStateQueue=new wX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CD(this,{idToken:e}),r=await ml._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($o(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($o(this.app))return Promise.reject(Cs(this));const n=e?Bn(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $o(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $o(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xX(this),n=new SX(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vX(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gl(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[gl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rc(t){return Bn(t)}class bk{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tq(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EX(t){F2=t}function qD(t){return F2.loadJS(t)}function PX(){return F2.recaptchaEnterpriseScript}function TX(){return F2.gapiScript}function NX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kX="recaptcha-enterprise",IX="NO_RECAPTCHA";class OX{constructor(e){this.type=kX,this.auth=rc(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{uX(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new lX(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;pk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(IX)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(s=>{if(!n&&pk(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PX();l.length!==0&&(l+=s),qD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function wk(t,e,n,r=!1){const i=new OX(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await wk(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wk(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t,e){const n=w2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Wm(a,e??{}))return i;Ho(i,"already-initialized")}return n.initialize({options:e})}function LX(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jX(t,e,n){const r=rc(t);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=WD(e),{host:o,port:s}=RX(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),MX()}function WD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RX(t){const e=WD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:xk(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:xk(o)}}}function xk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MX(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pl("not implemented")}_getIdTokenResponse(e){return pl("not implemented")}_linkToIdToken(e,n){return pl("not implemented")}_getReauthenticationResolver(e){return pl("not implemented")}}async function DX(t,e){return Us(t,"POST","/v1/accounts:update",e)}async function FX(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $X(t,e){return a0(t,"POST","/v1/accounts:signInWithPassword",$l(t,e))}async function BX(t,e){return Us(t,"POST","/v1/accounts:sendOobCode",$l(t,e))}async function UX(t,e){return BX(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VX(t,e){return a0(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}async function zX(t,e){return a0(t,"POST","/v1/accounts:signInWithEmailLink",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends VE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,n,"signInWithPassword",$X);case"emailLink":return VX(e,{email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,r,"signUpPassword",FX);case"emailLink":return zX(e,{idToken:n,email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e){return a0(t,"POST","/v1/accounts:signInWithIdp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="http://localhost";class ff extends VE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ff(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ho("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=DE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ff(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jh(e,n)}buildRequest(){const e={requestUri:qX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HX(t){const e=Qp(Jp(t)).link,n=e?Qp(Jp(e)).deep_link_id:null,r=Qp(Jp(t)).deep_link_id;return(r?Qp(Jp(r)).link:null)||r||n||e||t}class zE{constructor(e){var n,r,i,a,o,s;const l=Qp(Jp(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=WX((i=l.mode)!==null&&i!==void 0?i:null);_t(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=HX(e);try{return new zE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.providerId=Dd.PROVIDER_ID}static credential(e,n){return Jm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zE.parseLink(n);return _t(r,"argument-error"),Jm._fromEmailAndCode(e,r.code,r.tenantId)}}Dd.PROVIDER_ID="password";Dd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends HD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends o0{constructor(){super("facebook.com")}static credential(e){return ff._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _u.credential(e.oauthAccessToken)}catch{return null}}}_u.FACEBOOK_SIGN_IN_METHOD="facebook.com";_u.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends o0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ff._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cl.credential(n,r)}catch{return null}}}cl.GOOGLE_SIGN_IN_METHOD="google.com";cl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends o0{constructor(){super("github.com")}static credential(e){return ff._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Su.credential(e.oauthAccessToken)}catch{return null}}}Su.GITHUB_SIGN_IN_METHOD="github.com";Su.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends o0{constructor(){super("twitter.com")}static credential(e,n){return ff._fromParams({providerId:Au.PROVIDER_ID,signInMethod:Au.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Au.credentialFromTaggedObject(e)}static credentialFromError(e){return Au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Au.credential(n,r)}catch{return null}}}Au.TWITTER_SIGN_IN_METHOD="twitter.com";Au.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GX(t,e){return a0(t,"POST","/v1/accounts:signUp",$l(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ml._fromIdTokenResponse(e,r,i),o=_k(r);return new hf({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_k(r);return new hf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends Bs{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qy.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qy(e,n,r,i)}}function GD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qy._fromErrorAndOperation(t,a,e,r):a})}async function KX(t,e,n=!1){const r=await sd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e,n=!1){const{auth:r}=t;if($o(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const a=await sd(t,GD(r,i,e,t),n);_t(a.idToken,r,"internal-error");const o=BE(a.idToken);_t(o,r,"internal-error");const{sub:s}=o;return _t(t.uid===s,r,"user-mismatch"),hf._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ho(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,n=!1){if($o(t.app))return Promise.reject(Cs(t));const r="signIn",i=await GD(t,r,e),a=await hf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function XX(t,e){return KD(rc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t){const e=rc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QX(t,e,n){const r=rc(t);await zy(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UX)}async function JX(t,e,n){if($o(t.app))return Promise.reject(Cs(t));const r=rc(t),o=await zy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GX).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&YD(t),l}),s=await hf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function ZX(t,e,n){return $o(t.app)?Promise.reject(Cs(t)):XX(Bn(t),Dd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YD(t),r})}function eQ(t,e){const n=Bn(t);return $o(n.auth.app)?Promise.reject(Cs(n.auth)):XD(n,e,null)}function tQ(t,e){return XD(Bn(t),null,e)}async function XD(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const o=await sd(t,DX(r,a));await t._updateTokensIfNecessary(o,!0)}function nQ(t,e,n,r){return Bn(t).onIdTokenChanged(e,n,r)}function rQ(t,e,n){return Bn(t).beforeAuthStateChanged(e,n)}function iQ(t,e,n,r){return Bn(t).onAuthStateChanged(e,n,r)}function aQ(t){return Bn(t).signOut()}const Wy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wy,"1"),this.storage.removeItem(Wy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=1e3,sQ=10;class JD extends QD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);bX()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sQ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const lQ=JD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends QD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZD.type="SESSION";const e8=ZD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await uQ(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=qE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(d.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function fQ(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function hQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pQ(){return t8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="firebaseLocalStorageDb",mQ=1,Hy="firebaseLocalStorage",r8="fbase_key";class s0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function B2(t,e){return t.transaction([Hy],e?"readwrite":"readonly").objectStore(Hy)}function gQ(){const t=indexedDB.deleteDatabase(n8);return new s0(t).toPromise()}function c5(){const t=indexedDB.open(n8,mQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hy,{keyPath:r8})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hy)?e(r):(r.close(),await gQ(),e(await c5()))})})}async function Sk(t,e,n){const r=B2(t,!0).put({[r8]:e,value:n});return new s0(r).toPromise()}async function vQ(t,e){const n=B2(t,!1).get(e),r=await new s0(n).toPromise();return r===void 0?null:r.value}function Ak(t,e){const n=B2(t,!0).delete(e);return new s0(n).toPromise()}const yQ=800,bQ=3;class i8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c5(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bQ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$2._getInstance(pQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hQ(),!this.activeServiceWorker)return;this.sender=new cQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c5();return await Sk(e,Wy,"1"),await Ak(e,Wy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vQ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ak(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=B2(i,!1).getAll();return new s0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i8.type="LOCAL";const wQ=i8;new i0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t,e){return e?gl(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends VE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _Q(t){return KD(t.auth,new WE(t),t.bypassAuthState)}function SQ(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),YX(n,new WE(t),t.bypassAuthState)}async function AQ(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),KX(n,new WE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _Q;case"linkViaPopup":case"linkViaRedirect":return AQ;case"reauthViaPopup":case"reauthViaRedirect":return SQ;default:Ho(this.auth,"internal-error")}}resolve(e){Ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ll(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=new i0(2e3,1e4);class wh extends a8{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,wh.currentPopupAction&&wh.currentPopupAction.cancel(),wh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Ll(this.filter.length===1,"Popup operations only handle one event");const e=qE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EQ.get())};e()}}wh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ="pendingRedirect",Qv=new Map;class TQ extends a8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qv.get(this.auth._key());if(!e){try{const r=await NQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qv.set(this.auth._key(),e)}return this.bypassAuthState||Qv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NQ(t,e){const n=OQ(e),r=IQ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kQ(t,e){Qv.set(t._key(),e)}function IQ(t){return gl(t._redirectPersistence)}function OQ(t){return Xv(PQ,t.config.apiKey,t.name)}async function CQ(t,e,n=!1){if($o(t.app))return Promise.reject(Cs(t));const r=rc(t),i=xQ(r,e),o=await new TQ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ=10*60*1e3;class jQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o8(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ek(e))}saveEventToCache(e){this.cachedEventUids.add(Ek(e)),this.lastProcessedEventTime=Date.now()}}function Ek(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MQ(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FQ=/^https?/;async function $Q(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MQ(t);for(const n of e)try{if(BQ(n))return}catch{}Ho(t,"unauthorized-domain")}function BQ(t){const e=l5(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FQ.test(n))return!1;if(DQ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ=new i0(3e4,6e4);function Pk(){const t=Ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VQ(t){return new Promise((e,n)=>{var r,i,a;function o(){Pk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pk(),n(Os(t,"network-request-failed"))},timeout:UQ.get()})}if(!((i=(r=Ls().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ls().gapi)===null||a===void 0)&&a.load)o();else{const s=NX("iframefcb");return Ls()[s]=()=>{gapi.load?o():n(Os(t,"network-request-failed"))},qD(`${TX()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Jv=null,e})}let Jv=null;function zQ(t){return Jv=Jv||VQ(t),Jv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=new i0(5e3,15e3),WQ="__/auth/iframe",HQ="emulator/auth/iframe",GQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YQ(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$E(e,HQ):`https://${t.config.authDomain}/${WQ}`,r={apiKey:e.apiKey,appName:t.name,v:Ef},i=KQ.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Gg(r).slice(1)}`}async function XQ(t){const e=await zQ(t),n=Ls().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:YQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GQ,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Os(t,"network-request-failed"),s=Ls().setTimeout(()=>{a(o)},qQ.get());function l(){Ls().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JQ=500,ZQ=600,eJ="_blank",tJ="http://localhost";class Tk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nJ(t,e,n,r=JQ,i=ZQ){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},QQ),{width:r.toString(),height:i.toString(),top:a,left:o}),u=Ui().toLowerCase();n&&(s=DD(u)?eJ:n),RD(u)&&(e=e||tJ,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,v])=>`${d}${h}=${v},`,"");if(yX(u)&&s!=="_self")return rJ(e||"",s),new Tk(null);const f=window.open(e||"",s,c);_t(f,t,"popup-blocked");try{f.focus()}catch{}return new Tk(f)}function rJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ="__/auth/handler",aJ="emulator/auth/handler",oJ=encodeURIComponent("fac");async function Nk(t,e,n,r,i,a){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ef,eventId:i};if(e instanceof HD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Pq(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof o0){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${oJ}=${encodeURIComponent(l)}`:"";return`${sJ(t)}?${Gg(s).slice(1)}${u}`}function sJ({config:t}){return t.emulator?$E(t,aJ):`https://${t.authDomain}/${iJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="webStorageSupport";class lJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e8,this._completeRedirectFn=CQ,this._overrideRedirectResult=kQ}async _openPopup(e,n,r,i){var a;Ll((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Nk(e,n,r,l5(),i);return nJ(e,o,qE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Nk(e,n,r,l5(),i);return fQ(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ll(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XQ(e),r=new jQ(e);return n.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dw,{type:Dw},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Dw];o!==void 0&&n(!!o),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$Q(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VD()||MD()||UE()}}const uJ=lJ;var kk="@firebase/auth",Ik="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hJ(t){of(new Hu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;_t(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zD(t)},u=new AX(r,i,a,l);return LX(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),of(new Hu("auth-internal",e=>{const n=rc(e.getProvider("auth").getImmediate());return(r=>new cJ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(kk,Ik,fJ(t)),Ns(kk,Ik,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=5*60,pJ=CR("authIdTokenMaxAge")||dJ;let Ok=null;const mJ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pJ)return;const i=n==null?void 0:n.token;Ok!==i&&(Ok=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gJ(t=QA()){const e=w2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CX(t,{popupRedirectResolver:uJ,persistence:[wQ,lQ,e8]}),r=CR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=mJ(a.toString());rQ(n,o,()=>o(n.currentUser)),nQ(n,s=>o(s))}}const i=kR("auth");return i&&jX(n,`http://${i}`),n}function vJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EX({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Os("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",vJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hJ("Browser");const yJ={apiKey:"AIzaSyCs1NAMdvtuiWzbYMohY0aZa2AiS9z8uNw",authDomain:"downey-cleaning.firebaseapp.com",projectId:"downey-cleaning",storageBucket:"downey-cleaning.firebasestorage.app",messagingSenderId:"1001041748354",appId:"1:1001041748354:web:6f6ea1b637b8be84e2ef9b",measurementId:"G-MMZD70R02H"},HE=MR(yJ),Ds=gJ(HE),wn=_K(HE),Ck=GY(HE);new cl;const bJ=async(t,e)=>(await ZX(Ds,t,e)).user,wJ=async(t,e)=>(await JX(Ds,t,e)).user,xJ=async t=>{if(!Ds.currentUser)throw new Error("No user logged in");await eQ(Ds.currentUser,t)},_J=async t=>{if(!Ds.currentUser)throw new Error("No user logged in");await tQ(Ds.currentUser,t)},SJ=async t=>{await QX(Ds,t)},AJ=async()=>{try{await aQ(Ds)}catch(t){console.error("Logout error:",t)}},kp="users",Ip="schedules",Fw="offices",ps="records",Op="notifications",EJ="adminreports@downeycleaning.ie",$w=()=>{window.dispatchEvent(new CustomEvent("downey:notifications-updated"))},vs=t=>{const e={};return Object.keys(t).forEach(n=>{t[n]===void 0||(t[n]===null?n==="readBy"?e[n]=[]:n==="recipientId"?e[n]="all":e[n]=null:typeof t[n]=="object"&&t[n]!==null&&!Array.isArray(t[n])?e[n]=vs(t[n]):e[n]=t[n])}),e},Ut={syncUser:async(t,e)=>{const n=ua(wn,kp,t.uid),r=await ik(n),i=t.email===EJ;if(r.exists()){const a=r.data();return i&&a.role!==rn.ADMIN?(await Ac(n,{role:rn.ADMIN}),{...a,role:rn.ADMIN,id:t.uid}):{...a,id:t.uid}}else{const a={id:t.uid,name:(e==null?void 0:e.name)||t.displayName||(i?"System Admin":"New User"),email:t.email||"",role:i?rn.ADMIN:(e==null?void 0:e.role)||rn.EMPLOYEE,pps:(e==null?void 0:e.pps)||"",phone:(e==null?void 0:e.phone)||""};return await RK(n,vs(a)),a}},updateUser:async(t,e)=>{const n=ua(wn,kp,t);await Ac(n,vs(e))},deleteUser:async t=>{try{const e=$K(wn),n=ua(wn,kp,t);e.delete(n);const r=hs(Ki(wn,Ip),fu("userId","==",t));(await ds(r)).forEach(s=>e.delete(s.ref));const a=hs(Ki(wn,ps),fu("userId","==",t));(await ds(a)).forEach(s=>e.delete(s.ref)),await e.commit(),console.log(`Usurio ${t} e dados relacionados removidos com sucesso.`)}catch(e){throw console.error("Erro em Database.deleteUser:",e),e}},getUserByAccountId:async t=>{const e=ua(wn,kp,t),n=await ik(e);return n.exists()?{...n.data(),id:n.id}:null},getAllUsers:async()=>{const t=hs(Ki(wn,kp));return(await ds(t)).docs.map(n=>({...n.data(),id:n.id}))},sendNotification:async t=>{try{const e={senderId:t.senderId,senderName:t.senderName,recipientId:t.recipientId||"all",title:t.title.trim(),message:t.message.trim(),createdAt:t.createdAt||new Date().toISOString(),readBy:[]},n=await Tp(Ki(wn,Op),e);return $w(),n}catch(e){throw console.error("Database Error:",e),e}},getNotificationsForUser:async t=>{if(!t)return[];try{const e=hs(Ki(wn,Op),fu("recipientId","in",[t,"all"]),tk(50));return(await ds(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime())}catch{return[]}},getSentNotifications:async t=>{try{const e=hs(Ki(wn,Op),fu("senderId","==",t),tk(50));return(await ds(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.createdAt).getTime()-new Date(r.createdAt).getTime())}catch{return[]}},markNotificationAsRead:async(t,e)=>{if(!(!e||!t))try{const n=ua(wn,Op,t);await Ac(n,{readBy:FK(e)}),$w()}catch{}},deleteNotification:async t=>{await iv(ua(wn,Op,t)),$w()},getOffices:async()=>{const t=hs(Ki(wn,Fw));return(await ds(t)).docs.map(n=>({...n.data(),id:n.id}))},addOffice:async t=>{await Tp(Ki(wn,Fw),vs(t))},deleteOffice:async t=>{await iv(ua(wn,Fw,t))},getSchedulesByUser:async t=>{const e=hs(Ki(wn,Ip),fu("userId","==",t));return(await ds(e)).docs.map(r=>({...r.data(),id:r.id}))},addSchedule:async t=>{await Tp(Ki(wn,Ip),vs(t))},updateSchedule:async(t,e)=>{await Ac(ua(wn,Ip,t),vs(e))},deleteSchedule:async t=>{await iv(ua(wn,Ip,t))},getActiveSession:async t=>{const e=hs(Ki(wn,ps),fu("userId","==",t),fu("endTime","==",null)),n=await ds(e);return n.empty?null:{...n.docs[0].data(),id:n.docs[0].id}},startShift:async(t,e)=>{let n="";if(e){const a=hk(Ck,`shifts/${Date.now()}_${e.name}`);await ck(a,e),n=await fk(a)}const r={...t,photoUrl:n,endTime:null,totalPausedMs:0,isPaused:!1},i=await Tp(Ki(wn,ps),vs(r));return{...r,id:i.id}},togglePause:async t=>{const e=new Date().toISOString();let n={};if(t.isPaused){const r=new Date(t.pausedAt).getTime(),i=Date.now()-r;n={isPaused:!1,pausedAt:null,totalPausedMs:(t.totalPausedMs||0)+i}}else n={isPaused:!0,pausedAt:e};return await Ac(ua(wn,ps,t.id),n),{...t,...n}},endShift:async(t,e,n)=>{let r="";if(n){const a=hk(Ck,`shifts/end_${Date.now()}_${n.name}`);await ck(a,n),r=await fk(a)}const i={...e,endPhotoUrl:r,isPaused:!1};await Ac(ua(wn,ps,t),vs(i))},getAllRecords:async()=>{const t=hs(Ki(wn,ps));return(await ds(t)).docs.map(n=>({...n.data(),id:n.id})).sort((n,r)=>new Date(r.startTime).getTime()-new Date(n.startTime).getTime())},getRecordsByUser:async t=>{const e=hs(Ki(wn,ps),fu("userId","==",t));return(await ds(e)).docs.map(r=>({...r.data(),id:r.id})).sort((r,i)=>new Date(i.startTime).getTime()-new Date(r.startTime).getTime())},updateRecord:async(t,e)=>{await Ac(ua(wn,ps,t),vs(e))},deleteRecord:async t=>{await iv(ua(wn,ps,t))},addRecord:async t=>{await Tp(Ki(wn,ps),vs(t))}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),lt=(t,e)=>{const n=se.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>se.createElement("svg",{ref:c,...PJ,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${TJ(t)}`,s].join(" "),...u},[...e.map(([f,d])=>se.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=lt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=lt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=lt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=lt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=lt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=lt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=lt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=lt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=lt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=lt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=lt("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=lt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=lt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=lt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=lt("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=lt("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=lt("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6h0",key:"1uc279"}],["path",{d:"M14 6h0a6 6 0 0 1 6 6v3",key:"1j9mnm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=lt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=lt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=lt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=lt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=lt("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=lt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=lt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=lt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=lt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=lt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=lt("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=lt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=lt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=lt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=lt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=lt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=lt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=lt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=lt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=lt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=lt("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=lt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),oZ=({children:t})=>{const[e,n]=se.useState(!1),[r,i]=se.useState(0),{user:a,logout:o}=Mf(),s=KA(),l=Wg(),u=()=>n(!e),c=async()=>{if(a)try{const w=(await Ut.getNotificationsForUser(a.id)).filter(y=>!(Array.isArray(y.readBy)?y.readBy:[]).includes(a.id));i(w.length)}catch(b){console.error(b)}};se.useEffect(()=>{if(a){c(),window.addEventListener("downey:notifications-updated",c);const b=setInterval(c,6e4);return()=>{clearInterval(b),window.removeEventListener("downey:notifications-updated",c)}}},[a]);const f=b=>{s(b),n(!1)},d=()=>{o(),s("/login")},h=b=>l.pathname===b,v=[{name:"Dashboard",path:"/",icon:zJ,roles:[rn.ADMIN]},{name:"Schedule",path:(a==null?void 0:a.role)===rn.ADMIN?"/agenda":"/",icon:xs,roles:[rn.ADMIN,rn.EMPLOYEE]},{name:"Check-In/Out",path:"/check-in",icon:LJ,roles:[rn.EMPLOYEE]},{name:"Notifications",path:"/notifications",icon:h5,roles:[rn.ADMIN,rn.EMPLOYEE],badge:r},{name:"Users",path:"/users",icon:Mh,roles:[rn.ADMIN]},{name:"Reports",path:"/reports",icon:NJ,roles:[rn.ADMIN,rn.EMPLOYEE]},{name:"Profile",path:"/profile",icon:ld,roles:[rn.ADMIN,rn.EMPLOYEE]}];return x.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col md:flex-row",children:[x.jsxs("div",{className:"bg-white shadow-sm p-4 flex justify-between items-center md:hidden sticky top-0 z-20",children:[x.jsx("h1",{className:"text-xl font-bold text-brand-600",children:"Downey Cleaning"}),x.jsxs("div",{className:"flex items-center gap-2",children:[r>0&&x.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full animate-bounce",children:r}),x.jsx("button",{onClick:u,className:"p-2 text-gray-600",children:e?x.jsx(fl,{size:24}):x.jsx(KJ,{size:24})})]})]}),x.jsxs("aside",{className:`
          fixed inset-y-0 left-0 transform ${e?"translate-x-0":"-translate-x-full"}
          md:relative md:translate-x-0 transition-transform duration-200 ease-in-out
          w-64 bg-brand-900 text-white shadow-xl z-30 flex flex-col
        `,children:[x.jsxs("div",{className:"p-6 border-b border-brand-700 hidden md:block",children:[x.jsx("h1",{className:"text-2xl font-black tracking-tight text-white",children:"Downey"}),x.jsx("p",{className:"text-brand-300 text-[10px] font-bold uppercase tracking-widest mt-0.5",children:"Cleaning Services"})]}),x.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:v.filter(b=>b.roles.includes(a==null?void 0:a.role)).map(b=>x.jsxs("button",{onClick:()=>f(b.path),className:`w-full flex items-center justify-between px-4 py-3 rounded-lg transition-all ${h(b.path)?"bg-brand-600 text-white shadow-lg":"text-brand-100 hover:bg-brand-800"}`,children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx(b.icon,{size:20,className:h(b.path)?"text-white":"text-brand-400"}),x.jsx("span",{className:"font-bold text-sm",children:b.name})]}),b.badge!==void 0&&b.badge>0&&x.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full",children:b.badge})]},b.path))}),x.jsxs("div",{className:"p-4 border-t border-brand-700",children:[x.jsxs("div",{className:"mb-4 px-4",children:[x.jsx("p",{className:"text-[10px] font-black uppercase text-brand-400 tracking-widest",children:"Logged as"}),x.jsx("p",{className:"text-xs font-bold truncate text-white",children:a==null?void 0:a.name})]}),x.jsxs("button",{onClick:d,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-200 hover:bg-red-900/40 hover:text-red-100 transition-colors",children:[x.jsx(HJ,{size:20}),x.jsx("span",{className:"font-bold text-sm",children:"Logout"})]})]})]}),e&&x.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-20 md:hidden",onClick:()=>n(!1)}),x.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto h-[calc(100vh-64px)] md:h-screen",children:x.jsx("div",{className:"max-w-6xl mx-auto animate-fade-in",children:t})})]})},Tr=be.forwardRef(({label:t,error:e,className:n="",labelClassName:r="",...i},a)=>{const s=n.includes("bg-black")||n.includes("bg-slate-900")||n.includes("bg-slate-800")||n.includes("bg-gray-900")||n.includes("bg-gray-800")||n.includes("bg-brand-900")?"text-white placeholder:text-gray-400":"text-gray-900 placeholder:text-gray-500";return x.jsxs("div",{className:"w-full",children:[t&&x.jsx("label",{className:`block text-sm font-medium mb-1 ${r||"text-gray-700"}`,children:t}),x.jsx("input",{ref:a,className:`
          w-full rounded-md shadow-sm border p-2 transition-all
          focus:ring-2 focus:ring-brand-500 focus:border-brand-500
          disabled:opacity-50 disabled:cursor-not-allowed
          ${e?"border-red-500":"border-gray-300"}
          ${s}
          ${n}
        `,...i}),e&&x.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:e})]})});Tr.displayName="Input";const ln=({children:t,variant:e="primary",size:n="md",fullWidth:r=!1,className:i="",...a})=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",s={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-brand-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",outline:"bg-transparent border border-brand-600 text-brand-600 hover:bg-brand-50"},l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return x.jsx("button",{className:`${o} ${s[e]} ${l[n]} ${r?"w-full":""} ${i}`,...a,children:t})},sZ=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),[i,a]=se.useState(""),[o,s]=se.useState(!1),l=KA(),u=async c=>{if(c.preventDefault(),!t||!n){a("Please provide Email/ID and Password.");return}s(!0),a("");try{let f=t;if(!t.includes("@")){const d=await Ut.getUserByAccountId(t);if(d&&d.email)f=d.email;else throw new Error("Account ID not found.")}await bJ(f,n),l("/")}catch(f){console.error(f),a(f.message==="Account ID not found."?"Account ID not found.":"Invalid credentials. Please check your data.")}finally{s(!1)}};return x.jsx("div",{className:"min-h-screen bg-brand-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-brand-100",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-brand-100 rounded-full mb-4",children:x.jsx(Rc,{className:"text-brand-600 w-8 h-8"})}),x.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Downey Cleaning"}),x.jsx("p",{className:"text-gray-400 mt-2 font-medium",children:"Professional Access Portal"})]}),x.jsxs("form",{onSubmit:u,className:"space-y-5",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Tr,{label:"Email or Account ID",placeholder:"name@downeycleaning.ie",value:t,onChange:c=>e(c.target.value),required:!0,className:"pl-10"}),x.jsx(ld,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Tr,{label:"Password",type:"password",placeholder:"",value:n,onChange:c=>r(c.target.value),required:!0,className:"pl-10"}),x.jsx(m5,{className:"absolute left-3 top-9 text-gray-400",size:18})]}),i&&x.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-xs font-bold border border-red-100 animate-shake flex items-center gap-2",children:[x.jsx("span",{className:"w-1.5 h-1.5 bg-red-600 rounded-full"}),i]}),x.jsx(ln,{type:"submit",fullWidth:!0,disabled:o,className:"h-14 text-lg font-bold shadow-lg",children:o?x.jsx(Or,{className:"animate-spin"}):x.jsxs(x.Fragment,{children:[x.jsx(WJ,{size:20,className:"mr-2"})," Secure Login"]})})]}),x.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 text-center",children:[x.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:"Internal Use Only"}),x.jsx("p",{className:"text-[10px] text-gray-300 mt-2 italic",children:"Access to this system is restricted to authorized personnel. All activities are monitored and logged."})]})]})})},Bw=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bk=()=>{const{user:t}=Mf(),[e,n]=se.useState("agenda"),[r,i]=se.useState([]),[a,o]=se.useState([]),[s,l]=se.useState([]),[u,c]=se.useState((t==null?void 0:t.id)||""),[f,d]=se.useState(!1),[h,v]=se.useState(!1),[b,w]=se.useState(!1),[y,_]=se.useState(null),[S,N]=se.useState(null),[O,R]=se.useState(0),[k,P]=se.useState(""),[E,F]=se.useState({name:"",eircode:"",address:""}),[T,j]=se.useState({hoursPerDay:4,locationName:"",address:"",notes:""}),[M,z]=se.useState([]),Q=(t==null?void 0:t.role)===rn.ADMIN;se.useEffect(()=>{(async()=>{d(!0);try{if(Q){const Se=await Ut.getAllUsers();l(Se.filter(de=>de.role===rn.EMPLOYEE))}const ce=await Ut.getOffices();o(ce)}catch(ce){console.error("Error initializing agenda data:",ce)}finally{d(!1)}})()},[Q]),se.useEffect(()=>{u?oe(u):t&&(c(t.id),oe(t.id))},[u,t]);const oe=async ee=>{d(!0);try{const ce=await Ut.getSchedulesByUser(ee);i(ce)}catch(ce){console.error(ce)}d(!1)},ue=()=>r.reduce((ee,ce)=>ee+ce.hoursPerDay,0),X=ee=>{z(ce=>ce.includes(ee)?ce.filter(Se=>Se!==ee):[...ce,ee])},ae=async()=>{if(!T.locationName||!T.address){alert("Location and Address are required");return}if(M.length===0){alert("Please select at least one day of the week.");return}const ee=Q?u:t==null?void 0:t.id;if(!ee){alert("Target user not identified.");return}d(!0);try{for(const ce of M){const Se={userId:ee,locationName:T.locationName,address:T.address,dayOfWeek:ce,hoursPerDay:Number(T.hoursPerDay),notes:T.notes||""};await Ut.addSchedule(Se)}await oe(ee),v(!1),j({hoursPerDay:4,locationName:"",address:"",notes:""}),z([])}catch(ce){console.error(ce),alert("Error adding schedule.")}finally{d(!1)}},pe=async()=>{if(!E.name||!E.address){alert("Name and Address are required");return}d(!0);try{await Ut.addOffice({name:E.name,eircode:E.eircode||"",address:E.address,defaultSchedule:[]});const ee=await Ut.getOffices();o(ee),w(!1),F({name:"",eircode:"",address:""})}catch(ee){console.error(ee),alert("Error adding office.")}finally{d(!1)}},he=async ee=>{if(window.confirm("Delete this site location?")){d(!0),await Ut.deleteOffice(ee);const ce=await Ut.getOffices();o(ce),d(!1)}},$=async ee=>{d(!0);try{await Ut.updateSchedule(ee,{hoursPerDay:O,notes:k});const ce=Q?u:t==null?void 0:t.id;ce&&await oe(ce),N(null)}catch(ce){console.error(ce),alert("Failed to update schedule.")}finally{d(!1)}},W=async ee=>{if(window.confirm("Are you sure you want to remove this schedule?")){d(!0),await Ut.deleteSchedule(ee);const ce=Q?u:t==null?void 0:t.id;ce&&await oe(ce),d(!1)}},te=ee=>{N(ee.id),R(ee.hoursPerDay),P(ee.notes||"")},le=ee=>{const ce=a.find(Se=>Se.id===ee);ce&&j({...T,locationName:ce.name,address:ce.address})};return f&&r.length===0&&e==="agenda"?x.jsx("div",{className:"flex justify-center p-8",children:x.jsx(Or,{className:"animate-spin text-brand-500",size:32})}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:e==="agenda"?"Work Schedule":"Manage Locations"}),x.jsx("p",{className:"text-gray-500",children:e==="agenda"?"Plan and manage operational cleaning shifts":"Configure official service sites"})]}),x.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:Q&&x.jsxs(x.Fragment,{children:[x.jsxs(ln,{variant:"outline",onClick:()=>n(e==="agenda"?"offices":"agenda"),className:"rounded-xl font-bold border-brand-600 text-brand-600",children:[e==="agenda"?x.jsx(Lk,{size:18,className:"mr-2"}):x.jsx(xs,{size:18,className:"mr-2"}),e==="agenda"?"Manage Sites":"View Schedule"]}),e==="agenda"&&x.jsxs("div",{className:"flex flex-col mr-2",children:[x.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Employee View"}),x.jsxs("select",{className:"border rounded-xl px-3 py-2 bg-white text-sm font-bold border-gray-200 outline-none focus:ring-2 focus:ring-brand-500",value:u,onChange:ee=>c(ee.target.value),children:[x.jsx("option",{value:t==null?void 0:t.id,children:"My Own Agenda"}),s.map(ee=>x.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),e==="agenda"?x.jsxs(ln,{onClick:()=>v(!h),className:`${h?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[h?x.jsx(fl,{size:18,className:"mr-2"}):x.jsx($k,{size:18,className:"mr-2"}),h?"Cancel":"Add Shift"]}):x.jsxs(ln,{onClick:()=>w(!b),className:`${b?"bg-gray-100 text-gray-600":"bg-brand-600"} rounded-xl font-bold`,children:[b?x.jsx(fl,{size:18,className:"mr-2"}):x.jsx($k,{size:18,className:"mr-2"}),b?"Cancel":"New Site"]})]})})]}),e==="agenda"?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Total Weekly Hours"}),x.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Accumulated Forecast"})]}),x.jsxs("div",{className:"text-4xl font-black text-brand-600 tracking-tighter",children:[ue(),"h"]})]}),h&&Q&&x.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-700 space-y-4 animate-fade-in text-white shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:x.jsx(xs,{size:120})}),x.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-4 relative z-10",children:[x.jsx("h3",{className:"font-black text-xl tracking-tight uppercase",children:"Assign New Shift"}),x.jsx("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-white transition-colors",children:x.jsx(fl,{size:24})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Assign To Employee"}),x.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:u,onChange:ee=>c(ee.target.value),children:[x.jsx("option",{value:t==null?void 0:t.id,children:"Assign to myself"}),s.map(ee=>x.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),a.length>0&&x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Quick Select Location"}),x.jsxs("select",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold",onChange:ee=>le(ee.target.value),children:[x.jsx("option",{value:"",children:"-- Select Registered Site --"}),a.map(ee=>x.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),x.jsx(Tr,{label:"Site Name",placeholder:"e.g. Downey Tech Hub",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:T.locationName||"",onChange:ee=>j({...T,locationName:ee.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),x.jsx(Tr,{label:"Address Detail",placeholder:"123 Street Ave, D02",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:T.address||"",onChange:ee=>j({...T,address:ee.target.value}),className:"bg-slate-800 border-slate-700 placeholder:text-slate-500 font-bold rounded-xl"}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Service Description / Notes"}),x.jsx("textarea",{className:"w-full rounded-xl border-slate-700 bg-slate-800 text-white p-3 focus:ring-2 focus:ring-brand-500 outline-none font-bold min-h-[100px]",placeholder:"Describe specific tasks for this shift...",value:T.notes||"",onChange:ee=>j({...T,notes:ee.target.value})})]})]}),x.jsxs("div",{className:"relative z-10",children:[x.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Days of Week (Multiple selection)"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:Bw.map((ee,ce)=>x.jsxs("button",{type:"button",onClick:()=>X(ce),className:`flex items-center space-x-2 px-4 py-2.5 rounded-xl border text-[10px] font-black transition-all ${M.includes(ce)?"bg-brand-500 border-brand-500 text-white shadow-lg":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500"}`,children:[M.includes(ce)?x.jsx(IJ,{size:14}):x.jsx(rZ,{size:14}),x.jsx("span",{children:ee.substring(0,3).toUpperCase()})]},ce))})]}),x.jsx("div",{className:"w-1/3 relative z-10",children:x.jsx(Tr,{label:"Shift Duration (Hours)",type:"number",min:"0.5",step:"0.5",labelClassName:"text-slate-400 font-black uppercase text-[10px] tracking-widest",value:T.hoursPerDay,onChange:ee=>j({...T,hoursPerDay:Number(ee.target.value)}),className:"bg-slate-800 border-slate-700 font-bold text-white rounded-xl"})}),x.jsxs(ln,{onClick:ae,fullWidth:!0,disabled:f,className:"rounded-xl h-14 text-lg font-black shadow-xl relative z-10",children:[f?x.jsx(Or,{className:"animate-spin mr-2"}):x.jsx(Zm,{size:20,className:"mr-2"}),"CONFIRM SHIFT"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.sort((ee,ce)=>ee.dayOfWeek-ce.dayOfWeek).map(ee=>x.jsxs("div",{onClick:()=>_(ee),className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 relative group hover:shadow-md transition-all border-b-4 border-b-brand-100 cursor-pointer",children:[Q&&x.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",onClick:ce=>ce.stopPropagation(),children:[S!==ee.id&&x.jsx("button",{onClick:()=>te(ee),className:"text-gray-300 hover:text-brand-600 transition-colors p-1",title:"Edit Schedule",children:x.jsx(U2,{size:16})}),x.jsx("button",{onClick:()=>W(ee.id),className:"text-gray-300 hover:text-red-500 transition-colors p-1",children:x.jsx(eg,{size:18})})]}),x.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[x.jsx("div",{className:"bg-brand-50 p-2 rounded-lg text-brand-600",children:x.jsx(xs,{size:18})}),x.jsx("span",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:Bw[ee.dayOfWeek]})]}),x.jsxs("div",{className:"space-y-4 text-gray-600",children:[x.jsxs("div",{className:"flex items-start space-x-3",children:[x.jsx(fo,{size:18,className:"mt-1 flex-shrink-0 text-brand-400"}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("p",{className:"font-black text-gray-900 tracking-tight leading-tight truncate",children:ee.locationName}),x.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mt-0.5 truncate",children:ee.address})]})]}),S===ee.id?x.jsxs("div",{className:"space-y-3 bg-brand-50 p-4 rounded-xl border border-brand-200 animate-fade-in shadow-inner",onClick:ce=>ce.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Rh,{size:16,className:"text-brand-600"}),x.jsx("input",{type:"number",min:"0.5",step:"0.5",className:"w-20 p-1.5 text-sm border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:O,onChange:ce=>R(Number(ce.target.value))}),x.jsx("span",{className:"text-xs font-black text-brand-600 uppercase",children:"h"})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[9px] font-black text-brand-600 uppercase tracking-widest",children:"Update Service Description"}),x.jsx("textarea",{className:"w-full p-2 text-xs border border-brand-300 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none font-medium min-h-[70px] bg-white",value:k,onChange:ce=>P(ce.target.value),placeholder:"Update shift instructions..."})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(ln,{size:"sm",onClick:()=>$(ee.id),className:"flex-1 rounded-lg text-[10px] font-black shadow-sm",children:[f?x.jsx(Or,{className:"animate-spin",size:14}):x.jsx(d5,{size:14,className:"mr-1"})," SAVE"]}),x.jsxs(ln,{size:"sm",variant:"secondary",onClick:()=>N(null),className:"flex-1 rounded-lg text-[10px] font-black border-gray-200",children:[x.jsx(fl,{size:14,className:"mr-1"})," CANCEL"]})]})]}):x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2 font-black bg-gray-50 px-3 py-1.5 rounded-xl w-fit text-brand-600 text-[10px] uppercase tracking-widest border border-gray-100",children:[x.jsx(Rh,{size:14}),x.jsxs("span",{children:[ee.hoursPerDay," hours"]})]}),x.jsxs("div",{className:"flex items-center gap-1 text-[9px] font-black text-gray-300 uppercase opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx(VJ,{size:12})," View details"]})]})]})]},ee.id)),r.length===0&&!h&&x.jsxs("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl flex flex-col items-center justify-center gap-3",children:[x.jsx(xs,{size:48,className:"text-gray-200"}),x.jsx("p",{className:"italic font-bold text-sm uppercase tracking-widest",children:"No operational shifts scheduled for this period."})]})]})]}):x.jsxs("div",{className:"space-y-6",children:[b&&Q&&x.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-brand-100 shadow-xl space-y-4 animate-fade-in",children:[x.jsx("h3",{className:"font-black text-brand-900 uppercase tracking-widest border-b pb-2",children:"Add New Service Site"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsx(Tr,{label:"Site Name",value:E.name,onChange:ee=>F({...E,name:ee.target.value})}),x.jsx(Tr,{label:"Eircode / ZIP",value:E.eircode,onChange:ee=>F({...E,eircode:ee.target.value})}),x.jsx(Tr,{label:"Full Address",value:E.address,onChange:ee=>F({...E,address:ee.target.value})})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(ln,{onClick:pe,disabled:f,className:"font-bold",children:[f?x.jsx(Or,{className:"animate-spin mr-2"}):x.jsx(Zm,{size:18,className:"mr-2"})," Save Site"]}),x.jsx(ln,{variant:"outline",onClick:()=>w(!1),className:"font-bold",children:"Cancel"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.map(ee=>x.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 group hover:shadow-md transition-all",children:[x.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x.jsx("div",{className:"bg-brand-50 p-3 rounded-xl text-brand-600",children:x.jsx(Lk,{size:24})}),Q&&x.jsx("button",{onClick:()=>he(ee.id),className:"text-gray-300 hover:text-red-500 p-1",children:x.jsx(eg,{size:20})})]}),x.jsx("h3",{className:"font-black text-gray-900 text-lg leading-tight mb-1",children:ee.name}),x.jsx("p",{className:"text-[10px] font-black text-brand-500 uppercase tracking-widest mb-4",children:ee.eircode||"No Eircode"}),x.jsxs("div",{className:"flex items-start gap-2 text-gray-500",children:[x.jsx(fo,{size:16,className:"mt-1 shrink-0"}),x.jsx("p",{className:"text-sm font-medium",children:ee.address})]})]},ee.id)),a.length===0&&!b&&x.jsx("div",{className:"col-span-full py-20 text-center text-gray-400 bg-white border-2 border-dashed border-gray-100 rounded-2xl",children:x.jsx("p",{className:"font-bold italic",children:"No site locations registered yet."})})]})]}),y&&x.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>_(null),children:x.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-fade-in relative",onClick:ee=>ee.stopPropagation(),children:[x.jsxs("div",{className:"bg-brand-900 p-8 text-white",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("div",{className:"bg-white/10 p-3 rounded-2xl backdrop-blur-md mb-4",children:x.jsx(xs,{size:28,className:"text-white"})}),x.jsx("button",{onClick:()=>_(null),className:"text-white/60 hover:text-white transition-colors",children:x.jsx(fl,{size:28})})]}),x.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight leading-tight",children:y.locationName}),x.jsxs("p",{className:"text-brand-300 font-bold uppercase text-[10px] tracking-[0.2em] mt-1",children:[Bw[y.dayOfWeek]," Operations"]})]}),x.jsxs("div",{className:"p-8 space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[x.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Time Assigned"}),x.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[x.jsx(Rh,{size:16})," ",y.hoursPerDay," Hours"]})]}),x.jsxs("div",{className:"bg-gray-50 p-4 rounded-2xl border border-gray-100",children:[x.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Frequency"}),x.jsxs("div",{className:"flex items-center gap-2 text-brand-600 font-black",children:[x.jsx(xs,{size:16})," Weekly"]})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Service Location"}),x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx(fo,{className:"text-brand-500 shrink-0 mt-1",size:18}),x.jsx("p",{className:"font-bold text-gray-700 leading-tight",children:y.address})]})]}),x.jsxs("div",{className:"space-y-3 bg-brand-50 p-6 rounded-3xl border border-brand-100",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(MJ,{className:"text-brand-600",size:18}),x.jsx("p",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest",children:"Service Instructions / Notes"})]}),x.jsx("p",{className:"text-sm font-medium text-brand-800 leading-relaxed italic whitespace-pre-wrap",children:y.notes||"No specific instructions provided for this site."})]}),x.jsx(ln,{fullWidth:!0,onClick:()=>_(null),className:"h-14 rounded-2xl font-black tracking-tight text-lg shadow-xl",children:"Got it, thanks!"})]})]})})]})},Uw={knowJobSafety:!1,weatherCheck:!1,safePassInDate:!1,hazardAwareness:!1,floorConditions:!1,manualHandlingCert:!1,liftingHelp:!1,anchorPoints:!1,ladderFooting:!1,safetyCones:!1,communication:!1,laddersCheck:!1,sharpEdges:!1,scraperCovers:!1,hotSurfaces:!1,chemicalCourse:!1,chemicalAwareness:!1,tidyEquipment:!1,laddersStored:!1,highVis:!1,helmet:!1,goggles:!1,gloves:!1,mask:!1,earMuffs:!1,faceGuard:!1,harness:!1,boots:!1},lZ=()=>{const{user:t}=Mf(),[e,n]=se.useState(null),[r,i]=se.useState(""),[a,o]=se.useState(!1),[s,l]=se.useState([]),[u,c]=se.useState(!1),[f,d]=se.useState(!0),[h,v]=se.useState("checking"),[b,w]=se.useState(null),[y,_]=se.useState(null),[S,N]=se.useState(null),[O,R]=se.useState(null),[k,P]=se.useState(Uw),[E,F]=se.useState(0),T=se.useRef(null);se.useEffect(()=>{(async()=>{if(t)try{const W=await Ut.getActiveSession(t.id);W&&(n(W),i(W.locationName),W.safetyChecklist&&P({...Uw,...W.safetyChecklist}),w(W.photoUrl||null));const te=await Ut.getSchedulesByUser(t.id),le=new Map;te.forEach(ce=>{le.has(ce.locationName)||le.set(ce.locationName,ce.address)});const ee=Array.from(le.entries()).map(([ce,Se])=>({name:ce,address:Se}));l(ee),ee.length===0&&o(!0),j()}catch(W){console.error("Error initializing check-in",W)}finally{d(!1)}})()},[t]);const j=()=>{if(!navigator.geolocation){v("error");return}navigator.geolocation.getCurrentPosition(()=>v("acquired"),$=>{$.code===1?v("denied"):v("error")},{timeout:5e3,enableHighAccuracy:!0})};se.useEffect(()=>{if(e){const $=new Date(e.startTime).getTime(),W=e.totalPausedMs||0;T.current=window.setInterval(()=>{let te=Date.now(),le=te-$-W;if(e.isPaused&&e.pausedAt){const ee=new Date(e.pausedAt).getTime();le-=te-ee}F(Math.floor(le/1e3))},1e3)}else T.current&&clearInterval(T.current),F(0);return()=>{T.current&&clearInterval(T.current)}},[e]);const M=$=>{const W=Math.floor($/3600),te=Math.floor($%3600/60),le=$%60;return`${W.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`},z=($,W)=>{var le;const te=(le=$.target.files)==null?void 0:le[0];if(te){const ee=new FileReader;ee.onloadend=()=>{W?(N(ee.result),R(te)):(w(ee.result),_(te))},ee.readAsDataURL(te)}},Q=()=>new Promise(($,W)=>{if(!navigator.geolocation){W(new Error("Your browser does not support geolocation. GPS is required for check-in/out."));return}navigator.geolocation.getCurrentPosition(te=>{v("acquired"),$({lat:te.coords.latitude,lng:te.coords.longitude})},te=>{te.code===1?(v("denied"),W(new Error("GPS permission denied. Location access is mandatory to continue."))):(v("error"),W(new Error("Unable to obtain your location. Please ensure device GPS is turned on.")))},{enableHighAccuracy:!0,timeout:1e4})}),oe=async()=>{if(!t||!r.trim()){alert("Please select or type a location.");return}if(!(Object.values(k).filter(W=>W===!0).length<5&&!confirm("You have checked very few safety items. Do you want to proceed anyway?"))){c(!0);try{const W=await Q(),te={userId:t.id,locationName:r.trim(),startTime:new Date().toISOString(),date:new Date().toISOString().split("T")[0],safetyChecklist:{...k},startLocation:W},le=await Ut.startShift(te,y||void 0);n(le),_(null)}catch(W){console.error("Failed to start shift:",W),alert(W.message||"Could not start the shift. GPS is required.")}finally{c(!1)}}},ue=async()=>{if(e){c(!0);try{const $=await Ut.togglePause(e);n($)}catch($){console.error($),alert("Failed to update pause.")}finally{c(!1)}}},X=async()=>{if(e){c(!0);try{const $=await Q();await Ut.endShift(e.id,{endTime:new Date().toISOString(),endLocation:$,isPaused:!1},O||void 0),n(null),w(null),_(null),N(null),R(null),i(""),P(Uw)}catch($){console.error($),alert($.message||"Could not end the shift. GPS location is mandatory for verification.")}finally{c(!1)}}},ae=$=>{e||P(W=>({...W,[$]:!W[$]}))},pe=({title:$,icon:W,children:te})=>x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2 border-b pb-2",children:[x.jsx(W,{className:"text-brand-600",size:20}),x.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:$})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:te})]}),he=({id:$,label:W})=>x.jsxs("button",{onClick:()=>ae($),disabled:!!e,className:`
        flex items-center justify-between p-3 rounded-lg border text-left transition-all
        ${k[$]?"border-brand-500 bg-brand-50 text-brand-700":"border-gray-200 text-gray-500 hover:bg-gray-50"}
      `,children:[x.jsx("span",{className:"text-xs font-medium",children:W}),x.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center ${k[$]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:k[$]&&x.jsx(d5,{size:14,className:"text-white"})})]});return f?x.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4",children:[x.jsx(Or,{className:"animate-spin text-brand-600",size:48}),x.jsx("p",{className:"text-gray-500 font-medium",children:"Initializing security protocols..."})]}):x.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-20",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[x.jsx(Rc,{className:"text-brand-600"}),"SAFETY PLAN OF ACTION"]}),x.jsx("p",{className:"text-gray-500 text-sm italic mt-1",children:"GPS is mandatory to register your service."})]}),x.jsx("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-[10px] font-black uppercase tracking-widest ${h==="acquired"?"bg-green-50 text-green-700 border-green-200":h==="denied"?"bg-red-50 text-red-700 border-red-200 animate-pulse":"bg-gray-50 text-gray-500 border-gray-200"}`,children:h==="acquired"?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," GPS ACTIVE"]}):h==="denied"?x.jsxs(x.Fragment,{children:[x.jsx(s8,{size:12})," GPS BLOCKED"]}):x.jsxs(x.Fragment,{children:[x.jsx(Or,{size:12,className:"animate-spin"})," CHECKING GPS"]})}),e&&x.jsx("div",{className:`px-4 py-2 rounded-full font-mono font-bold transition-colors ${e.isPaused?"bg-orange-500 text-white":"bg-brand-900 text-white animate-pulse"}`,children:M(E)})]}),h==="denied"&&x.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border border-red-100 flex items-start gap-3 animate-shake",children:[x.jsx(Gy,{className:"text-red-600 shrink-0",size:24}),x.jsxs("div",{children:[x.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Action Blocked: GPS Denied"}),x.jsx("p",{className:"text-red-700 text-xs mt-1",children:"Downey Cleaning requires GPS verification. Please authorize location in browser settings and refresh the page."})]})]}),x.jsxs(pe,{title:"Plan of Action",icon:Rc,children:[x.jsx(he,{id:"knowJobSafety",label:"Do you know how to complete the job safely?"}),x.jsx(he,{id:"weatherCheck",label:"Appropriate weather conditions?"}),x.jsx(he,{id:"safePassInDate",label:"Safe Pass in date?"}),x.jsx(he,{id:"hazardAwareness",label:"Aware of trip/fall hazards?"}),x.jsx(he,{id:"floorConditions",label:"Wet floors identified?"})]}),x.jsxs(pe,{title:"Manual Handling",icon:kJ,children:[x.jsx(he,{id:"manualHandlingCert",label:"Manual Handling training complete?"}),x.jsx(he,{id:"liftingHelp",label:"Excessive weight (need assistance)?"})]}),x.jsxs(pe,{title:"Working at Height",icon:Mk,children:[x.jsx(he,{id:"anchorPoints",label:"Anchor points identified?"}),x.jsx(he,{id:"ladderFooting",label:"One person holding the ladder?"}),x.jsx(he,{id:"safetyCones",label:"Cones/wet floor signage?"}),x.jsx(he,{id:"communication",label:"Active communication with colleagues?"})]}),x.jsxs(pe,{title:"Equipment Verified",icon:f5,children:[x.jsx(he,{id:"laddersCheck",label:"Ladders checked?"}),x.jsx(he,{id:"sharpEdges",label:"Checked for sharp edges?"}),x.jsx(he,{id:"scraperCovers",label:"Covers on blades?"}),x.jsx(he,{id:"hotSurfaces",label:"Caution with hot surfaces?"}),x.jsx(he,{id:"chemicalCourse",label:"Chemical training complete?"}),x.jsx(he,{id:"chemicalAwareness",label:"Aware of dilutions/safety?"}),x.jsx(he,{id:"tidyEquipment",label:"Equipment organized?"}),x.jsx(he,{id:"laddersStored",label:"Ladders stored safely?"})]}),x.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2 border-b pb-2 mb-4",children:[x.jsx(Gy,{className:"text-brand-600",size:20}),x.jsx("h3",{className:"font-bold text-gray-800 uppercase text-sm tracking-wide",children:"Required PPE"})]}),x.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-4",children:[{id:"highVis",label:"Hi-Vis",icon:Mk},{id:"helmet",label:"Helmet",icon:BJ},{id:"goggles",label:"Goggles",icon:FJ},{id:"gloves",label:"Gloves",icon:$J},{id:"mask",label:"Mask",icon:Rc},{id:"earMuffs",label:"Ear Muffs",icon:f5},{id:"faceGuard",label:"Face Guard",icon:Rc},{id:"harness",label:"Harness",icon:Rc},{id:"boots",label:"Boots",icon:fo}].map($=>x.jsxs("button",{onClick:()=>ae($.id),disabled:!!e,className:`
                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                ${k[$.id]?"border-brand-500 bg-brand-50 shadow-inner":"border-gray-100 bg-gray-50 opacity-60"}
              `,children:[x.jsx($.icon,{size:24,className:k[$.id]?"text-brand-600":"text-gray-400"}),x.jsx("span",{className:"text-[10px] mt-1 font-bold text-gray-600 uppercase text-center",children:$.label}),x.jsx("div",{className:`mt-1 w-4 h-4 rounded-sm border ${k[$.id]?"bg-brand-500 border-brand-500":"bg-white border-gray-300"}`,children:k[$.id]&&x.jsx(d5,{size:12,className:"text-white mx-auto"})})]},$.id))})]}),!e&&x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-end mb-1",children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-tight",children:"Work Location"}),x.jsxs("button",{onClick:()=>o(!a),className:"text-xs text-brand-600 font-bold flex items-center gap-1 hover:underline",children:[a?x.jsx(OJ,{size:14}):x.jsx(U2,{size:14}),a?"Select from list":"Type manually"]})]}),x.jsxs("div",{className:"relative",children:[a?x.jsx("input",{type:"text",placeholder:"Location name or address...",className:"w-full rounded-md border-gray-300 p-3 bg-white border font-medium",value:r,onChange:$=>i($.target.value)}):x.jsxs("select",{className:"w-full rounded-md border-gray-300 p-3 appearance-none bg-white border font-medium",value:r,onChange:$=>i($.target.value),children:[x.jsx("option",{value:"",children:"Select location..."}),s.map(($,W)=>x.jsxs("option",{value:$.name,children:[$.name," - ",$.address]},W))]}),x.jsx(fo,{className:"absolute right-3 top-3.5 text-gray-400 pointer-events-none",size:20})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 uppercase tracking-tight",children:"Start Photo (Optional)"}),x.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[x.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:b?x.jsx("img",{src:b,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):x.jsxs(x.Fragment,{children:[x.jsx(jk,{className:"w-8 h-8 text-gray-400"}),x.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Click to take photo"})]})}),x.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:$=>z($,!1)})]})]})]}),x.jsx("div",{className:`p-8 rounded-xl text-center transition-all shadow-lg ${e?e.isPaused?"bg-orange-600 text-white":"bg-brand-900 text-white":"bg-brand-100"}`,children:e?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:e.isPaused?"":"animate-pulse",children:[x.jsx("p",{className:"text-white/70 font-bold uppercase tracking-widest text-[10px] mb-1",children:e.isPaused?"Shift Paused / Break":"Shift in Progress"}),x.jsx("div",{className:"text-5xl font-mono font-bold tracking-tighter",children:M(E)}),x.jsx("p",{className:"text-white/60 text-sm mt-2 font-medium",children:e.locationName})]}),x.jsxs("div",{className:"bg-white/10 p-4 rounded-lg text-left border border-white/5",children:[x.jsx("label",{className:"block text-xs font-bold text-white/70 mb-2 uppercase tracking-widest",children:"End Photo (Optional)"}),x.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-white/20 border-dashed rounded-lg cursor-pointer hover:bg-white/5 transition-colors",children:[x.jsx("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 text-center",children:S?x.jsx("img",{src:S,alt:"Preview",className:"h-28 object-contain rounded shadow-sm"}):x.jsx(jk,{className:"w-8 h-8 text-white/40"})}),x.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:$=>z($,!0)})]})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs(ln,{onClick:ue,variant:"secondary",className:`flex-1 font-bold ${e.isPaused?"bg-green-500 text-white border-none hover:bg-green-600":"bg-white text-orange-600 border-none"}`,disabled:u,children:[u?x.jsx(Or,{className:"animate-spin mr-2"}):e.isPaused?x.jsx(ZJ,{size:20,className:"mr-2"}):x.jsx(XJ,{size:20,className:"mr-2"}),e.isPaused?"Resume":"Pause"]}),x.jsxs(ln,{onClick:X,variant:"danger",className:"flex-1 shadow-xl font-bold bg-red-500 hover:bg-red-600 border-none",disabled:u,children:[u?x.jsx(Or,{className:"animate-spin mr-2"}):x.jsx(iZ,{size:20,className:"mr-2"}),"Finish"]})]})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs(ln,{onClick:oe,size:"lg",className:"w-full shadow-md py-4 text-xl",disabled:u,children:[u?x.jsx(Or,{className:"animate-spin mr-2"}):x.jsx(JJ,{className:"mr-2"}),u?"Verifying GPS...":"Submit and Start"]}),x.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold",children:"GPS is required to start."})]})})]})};function f8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=f8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=f8(t))&&(r&&(r+=" "),r+=e);return r}var uZ=Array.isArray,ya=uZ,cZ=typeof M0=="object"&&M0&&M0.Object===Object&&M0,h8=cZ,fZ=h8,hZ=typeof self=="object"&&self&&self.Object===Object&&self,dZ=fZ||hZ||Function("return this")(),Vs=dZ,pZ=Vs,mZ=pZ.Symbol,l0=mZ,Uk=l0,d8=Object.prototype,gZ=d8.hasOwnProperty,vZ=d8.toString,Cp=Uk?Uk.toStringTag:void 0;function yZ(t){var e=gZ.call(t,Cp),n=t[Cp];try{t[Cp]=void 0;var r=!0}catch{}var i=vZ.call(t);return r&&(e?t[Cp]=n:delete t[Cp]),i}var bZ=yZ,wZ=Object.prototype,xZ=wZ.toString;function _Z(t){return xZ.call(t)}var SZ=_Z,Vk=l0,AZ=bZ,EZ=SZ,PZ="[object Null]",TZ="[object Undefined]",zk=Vk?Vk.toStringTag:void 0;function NZ(t){return t==null?t===void 0?TZ:PZ:zk&&zk in Object(t)?AZ(t):EZ(t)}var Bl=NZ;function kZ(t){return t!=null&&typeof t=="object"}var Ul=kZ,IZ=Bl,OZ=Ul,CZ="[object Symbol]";function LZ(t){return typeof t=="symbol"||OZ(t)&&IZ(t)==CZ}var Fd=LZ,jZ=ya,RZ=Fd,MZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,DZ=/^\w*$/;function FZ(t,e){if(jZ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||RZ(t)?!0:DZ.test(t)||!MZ.test(t)||e!=null&&t in Object(e)}var KE=FZ;function $Z(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ic=$Z;const $d=jn(ic);var BZ=Bl,UZ=ic,VZ="[object AsyncFunction]",zZ="[object Function]",qZ="[object GeneratorFunction]",WZ="[object Proxy]";function HZ(t){if(!UZ(t))return!1;var e=BZ(t);return e==zZ||e==qZ||e==VZ||e==WZ}var YE=HZ;const Vt=jn(YE);var GZ=Vs,KZ=GZ["__core-js_shared__"],YZ=KZ,Vw=YZ,qk=function(){var t=/[^.]+$/.exec(Vw&&Vw.keys&&Vw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function XZ(t){return!!qk&&qk in t}var QZ=XZ,JZ=Function.prototype,ZZ=JZ.toString;function eee(t){if(t!=null){try{return ZZ.call(t)}catch{}try{return t+""}catch{}}return""}var p8=eee,tee=YE,nee=QZ,ree=ic,iee=p8,aee=/[\\^$.*+?()[\]{}|]/g,oee=/^\[object .+?Constructor\]$/,see=Function.prototype,lee=Object.prototype,uee=see.toString,cee=lee.hasOwnProperty,fee=RegExp("^"+uee.call(cee).replace(aee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hee(t){if(!ree(t)||nee(t))return!1;var e=tee(t)?fee:oee;return e.test(iee(t))}var dee=hee;function pee(t,e){return t==null?void 0:t[e]}var mee=pee,gee=dee,vee=mee;function yee(t,e){var n=vee(t,e);return gee(n)?n:void 0}var kf=yee,bee=kf,wee=bee(Object,"create"),V2=wee,Wk=V2;function xee(){this.__data__=Wk?Wk(null):{},this.size=0}var _ee=xee;function See(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Aee=See,Eee=V2,Pee="__lodash_hash_undefined__",Tee=Object.prototype,Nee=Tee.hasOwnProperty;function kee(t){var e=this.__data__;if(Eee){var n=e[t];return n===Pee?void 0:n}return Nee.call(e,t)?e[t]:void 0}var Iee=kee,Oee=V2,Cee=Object.prototype,Lee=Cee.hasOwnProperty;function jee(t){var e=this.__data__;return Oee?e[t]!==void 0:Lee.call(e,t)}var Ree=jee,Mee=V2,Dee="__lodash_hash_undefined__";function Fee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mee&&e===void 0?Dee:e,this}var $ee=Fee,Bee=_ee,Uee=Aee,Vee=Iee,zee=Ree,qee=$ee;function Bd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bd.prototype.clear=Bee;Bd.prototype.delete=Uee;Bd.prototype.get=Vee;Bd.prototype.has=zee;Bd.prototype.set=qee;var Wee=Bd;function Hee(){this.__data__=[],this.size=0}var Gee=Hee;function Kee(t,e){return t===e||t!==t&&e!==e}var XE=Kee,Yee=XE;function Xee(t,e){for(var n=t.length;n--;)if(Yee(t[n][0],e))return n;return-1}var z2=Xee,Qee=z2,Jee=Array.prototype,Zee=Jee.splice;function ete(t){var e=this.__data__,n=Qee(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zee.call(e,n,1),--this.size,!0}var tte=ete,nte=z2;function rte(t){var e=this.__data__,n=nte(e,t);return n<0?void 0:e[n][1]}var ite=rte,ate=z2;function ote(t){return ate(this.__data__,t)>-1}var ste=ote,lte=z2;function ute(t,e){var n=this.__data__,r=lte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cte=ute,fte=Gee,hte=tte,dte=ite,pte=ste,mte=cte;function Ud(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ud.prototype.clear=fte;Ud.prototype.delete=hte;Ud.prototype.get=dte;Ud.prototype.has=pte;Ud.prototype.set=mte;var q2=Ud,gte=kf,vte=Vs,yte=gte(vte,"Map"),QE=yte,Hk=Wee,bte=q2,wte=QE;function xte(){this.size=0,this.__data__={hash:new Hk,map:new(wte||bte),string:new Hk}}var _te=xte;function Ste(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ate=Ste,Ete=Ate;function Pte(t,e){var n=t.__data__;return Ete(e)?n[typeof e=="string"?"string":"hash"]:n.map}var W2=Pte,Tte=W2;function Nte(t){var e=Tte(this,t).delete(t);return this.size-=e?1:0,e}var kte=Nte,Ite=W2;function Ote(t){return Ite(this,t).get(t)}var Cte=Ote,Lte=W2;function jte(t){return Lte(this,t).has(t)}var Rte=jte,Mte=W2;function Dte(t,e){var n=Mte(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Fte=Dte,$te=_te,Bte=kte,Ute=Cte,Vte=Rte,zte=Fte;function Vd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vd.prototype.clear=$te;Vd.prototype.delete=Bte;Vd.prototype.get=Ute;Vd.prototype.has=Vte;Vd.prototype.set=zte;var JE=Vd,m8=JE,qte="Expected a function";function ZE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ZE.Cache||m8),n}ZE.Cache=m8;var g8=ZE;const Wte=jn(g8);var Hte=g8,Gte=500;function Kte(t){var e=Hte(t,function(r){return n.size===Gte&&n.clear(),r}),n=e.cache;return e}var Yte=Kte,Xte=Yte,Qte=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jte=/\\(\\)?/g,Zte=Xte(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Qte,function(n,r,i,a){e.push(i?a.replace(Jte,"$1"):r||n)}),e}),ene=Zte;function tne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var eP=tne,Gk=l0,nne=eP,rne=ya,ine=Fd,Kk=Gk?Gk.prototype:void 0,Yk=Kk?Kk.toString:void 0;function v8(t){if(typeof t=="string")return t;if(rne(t))return nne(t,v8)+"";if(ine(t))return Yk?Yk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ane=v8,one=ane;function sne(t){return t==null?"":one(t)}var y8=sne,lne=ya,une=KE,cne=ene,fne=y8;function hne(t,e){return lne(t)?t:une(t,e)?[t]:cne(fne(t))}var b8=hne,dne=Fd;function pne(t){if(typeof t=="string"||dne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var H2=pne,mne=b8,gne=H2;function vne(t,e){e=mne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gne(e[n++])];return n&&n==r?t:void 0}var tP=vne,yne=tP;function bne(t,e,n){var r=t==null?void 0:yne(t,e);return r===void 0?n:r}var w8=bne;const go=jn(w8);function wne(t){return t==null}var xne=wne;const fn=jn(xne);var _ne=Bl,Sne=ya,Ane=Ul,Ene="[object String]";function Pne(t){return typeof t=="string"||!Sne(t)&&Ane(t)&&_ne(t)==Ene}var Tne=Pne;const df=jn(Tne);var x8={exports:{}},En={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=Symbol.for("react.element"),rP=Symbol.for("react.portal"),G2=Symbol.for("react.fragment"),K2=Symbol.for("react.strict_mode"),Y2=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),Q2=Symbol.for("react.context"),Nne=Symbol.for("react.server_context"),J2=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),eb=Symbol.for("react.suspense_list"),tb=Symbol.for("react.memo"),nb=Symbol.for("react.lazy"),kne=Symbol.for("react.offscreen"),_8;_8=Symbol.for("react.module.reference");function _o(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nP:switch(t=t.type,t){case G2:case Y2:case K2:case Z2:case eb:return t;default:switch(t=t&&t.$$typeof,t){case Nne:case Q2:case J2:case nb:case tb:case X2:return t;default:return e}}case rP:return e}}}En.ContextConsumer=Q2;En.ContextProvider=X2;En.Element=nP;En.ForwardRef=J2;En.Fragment=G2;En.Lazy=nb;En.Memo=tb;En.Portal=rP;En.Profiler=Y2;En.StrictMode=K2;En.Suspense=Z2;En.SuspenseList=eb;En.isAsyncMode=function(){return!1};En.isConcurrentMode=function(){return!1};En.isContextConsumer=function(t){return _o(t)===Q2};En.isContextProvider=function(t){return _o(t)===X2};En.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nP};En.isForwardRef=function(t){return _o(t)===J2};En.isFragment=function(t){return _o(t)===G2};En.isLazy=function(t){return _o(t)===nb};En.isMemo=function(t){return _o(t)===tb};En.isPortal=function(t){return _o(t)===rP};En.isProfiler=function(t){return _o(t)===Y2};En.isStrictMode=function(t){return _o(t)===K2};En.isSuspense=function(t){return _o(t)===Z2};En.isSuspenseList=function(t){return _o(t)===eb};En.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===G2||t===Y2||t===K2||t===Z2||t===eb||t===kne||typeof t=="object"&&t!==null&&(t.$$typeof===nb||t.$$typeof===tb||t.$$typeof===X2||t.$$typeof===Q2||t.$$typeof===J2||t.$$typeof===_8||t.getModuleId!==void 0)};En.typeOf=_o;x8.exports=En;var Ine=x8.exports,One=Bl,Cne=Ul,Lne="[object Number]";function jne(t){return typeof t=="number"||Cne(t)&&One(t)==Lne}var S8=jne;const Rne=jn(S8);var Mne=S8;function Dne(t){return Mne(t)&&t!=+t}var Fne=Dne;const u0=jn(Fne);var Bo=function(e){return e===0?0:e>0?1:-1},Uc=function(e){return df(e)&&e.indexOf("%")===e.length-1},qe=function(e){return Rne(e)&&!u0(e)},$ne=function(e){return fn(e)},Kr=function(e){return qe(e)||df(e)},Bne=0,rb=function(e){var n=++Bne;return"".concat(e||"").concat(n)},pf=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(e)&&!df(e))return r;var a;if(Uc(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return u0(a)&&(a=r),i&&a>n&&(a=n),a},Eu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Une=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Yf=function(e,n){return qe(e)&&qe(n)?function(r){return e+r*(n-e)}:function(){return n}};function g5(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):go(r,e))===n})}var Vne=function(e,n){return qe(e)&&qe(n)?e-n:df(e)&&df(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Dh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function v5(t){"@babel/helpers - typeof";return v5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v5(t)}var zne=["viewBox","children"],qne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Xk=["points","pathLength"],zw={svg:zne,polygon:Xk,polyline:Xk},iP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ky=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(se.isValidElement(e)&&(r=e.props),!$d(r))return null;var i={};return Object.keys(r).forEach(function(a){iP.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Wne=function(e,n,r){return function(i){return e(n,r,i),null}},Yy=function(e,n,r){if(!$d(e)||v5(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];iP.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Wne(o,n,r))}),i},Hne=["children"],Gne=["children"];function Qk(t,e){if(t==null)return{};var n=Kne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Jk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Zk=null,qw=null,aP=function t(e){if(e===Zk&&Array.isArray(qw))return qw;var n=[];return se.Children.forEach(e,function(r){fn(r)||(Ine.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),qw=n,Zk=e,n};function zo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Sl(i)}):r=[Sl(e)],aP(t).forEach(function(i){var a=go(i,"type.displayName")||go(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ma(t,e){var n=zo(t,e);return n&&n[0]}var eI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!qe(r)||r<=0||!qe(i)||i<=0)},Yne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xne=function(e){return e&&e.type&&df(e.type)&&Yne.indexOf(e.type)>=0},Qne=function(e,n,r,i){var a,o=(a=zw==null?void 0:zw[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Vt(e)&&(i&&o.includes(n)||qne.includes(n))||r&&iP.includes(n)},un=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(se.isValidElement(e)&&(i=e.props),!$d(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Qne((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},y5=function t(e,n){if(e===n)return!0;var r=se.Children.count(e);if(r!==se.Children.count(n))return!1;if(r===0)return!0;if(r===1)return tI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!tI(a,o))return!1}return!0},tI=function(e,n){if(fn(e)&&fn(n))return!0;if(!fn(e)&&!fn(n)){var r=e.props||{},i=r.children,a=Qk(r,Hne),o=n.props||{},s=o.children,l=Qk(o,Gne);return i&&s?Dh(a,l)&&y5(i,s):!i&&!s?Dh(a,l):!1}return!1},nI=function(e,n){var r=[],i={};return aP(e).forEach(function(a,o){if(Xne(a))r.push(a);else if(a){var s=Sl(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},Jne=function(e){var n=e&&e.type;return n&&Jk[n]?Jk[n]:null},Zne=function(e,n){return aP(n).indexOf(e)},ere=["children","width","height","viewBox","className","style","title","desc"];function b5(){return b5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b5.apply(this,arguments)}function tre(t,e){if(t==null)return{};var n=nre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w5(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=tre(t,ere),c=i||{width:n,height:r,x:0,y:0},f=cn("recharts-surface",a);return be.createElement("svg",b5({},un(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),be.createElement("title",null,s),be.createElement("desc",null,l),e)}var rre=["children","className"];function x5(){return x5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x5.apply(this,arguments)}function ire(t,e){if(t==null)return{};var n=are(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ai=be.forwardRef(function(t,e){var n=t.children,r=t.className,i=ire(t,rre),a=cn("recharts-layer",r);return be.createElement("g",x5({className:a},un(i,!0),{ref:e}),n)}),Al=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function ore(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var sre=ore,lre=sre;function ure(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:lre(t,e,n)}var cre=ure,fre="\\ud800-\\udfff",hre="\\u0300-\\u036f",dre="\\ufe20-\\ufe2f",pre="\\u20d0-\\u20ff",mre=hre+dre+pre,gre="\\ufe0e\\ufe0f",vre="\\u200d",yre=RegExp("["+vre+fre+mre+gre+"]");function bre(t){return yre.test(t)}var A8=bre;function wre(t){return t.split("")}var xre=wre,E8="\\ud800-\\udfff",_re="\\u0300-\\u036f",Sre="\\ufe20-\\ufe2f",Are="\\u20d0-\\u20ff",Ere=_re+Sre+Are,Pre="\\ufe0e\\ufe0f",Tre="["+E8+"]",_5="["+Ere+"]",S5="\\ud83c[\\udffb-\\udfff]",Nre="(?:"+_5+"|"+S5+")",P8="[^"+E8+"]",T8="(?:\\ud83c[\\udde6-\\uddff]){2}",N8="[\\ud800-\\udbff][\\udc00-\\udfff]",kre="\\u200d",k8=Nre+"?",I8="["+Pre+"]?",Ire="(?:"+kre+"(?:"+[P8,T8,N8].join("|")+")"+I8+k8+")*",Ore=I8+k8+Ire,Cre="(?:"+[P8+_5+"?",_5,T8,N8,Tre].join("|")+")",Lre=RegExp(S5+"(?="+S5+")|"+Cre+Ore,"g");function jre(t){return t.match(Lre)||[]}var Rre=jre,Mre=xre,Dre=A8,Fre=Rre;function $re(t){return Dre(t)?Fre(t):Mre(t)}var Bre=$re,Ure=cre,Vre=A8,zre=Bre,qre=y8;function Wre(t){return function(e){e=qre(e);var n=Vre(e)?zre(e):void 0,r=n?n[0]:e.charAt(0),i=n?Ure(n,1).join(""):e.slice(1);return r[t]()+i}}var Hre=Wre,Gre=Hre,Kre=Gre("toUpperCase"),Yre=Kre;const ib=jn(Yre);function Fn(t){return function(){return t}}const O8=Math.cos,Xy=Math.sin,Yo=Math.sqrt,Qy=Math.PI,ab=2*Qy,A5=Math.PI,E5=2*A5,Ic=1e-6,Xre=E5-Ic;function C8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Qre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return C8;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?C8:Qre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ic)if(!(Math.abs(f*l-u*c)>Ic)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,v=i-s,b=l*l+u*u,w=h*h+v*v,y=Math.sqrt(b),_=Math.sqrt(d),S=a*Math.tan((A5-Math.acos((b+d-w)/(2*y*_)))/2),N=S/_,O=S/y;Math.abs(N-1)>Ic&&this._append`L${e+N*c},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*h>c*v)},${this._x1=e+O*l},${this._y1=n+O*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ic||Math.abs(this._y1-c)>Ic)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%E5+E5),d>Xre?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Ic&&this._append`A${r},${r},0,${+(d>=A5)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jre(e)}function sP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L8(t){this._context=t}L8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ob(t){return new L8(t)}function j8(t){return t[0]}function R8(t){return t[1]}function M8(t,e){var n=Fn(!0),r=null,i=ob,a=null,o=oP(s);t=typeof t=="function"?t:t===void 0?j8:Fn(t),e=typeof e=="function"?e:e===void 0?R8:Fn(e);function s(l){var u,c=(l=sP(l)).length,f,d=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(f,u,l),+e(f,u,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Fn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Fn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Fn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function lv(t,e,n){var r=null,i=Fn(!0),a=null,o=ob,s=null,l=oP(u);t=typeof t=="function"?t:t===void 0?j8:Fn(+t),e=typeof e=="function"?e:Fn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?R8:Fn(+n);function u(f){var d,h,v,b=(f=sP(f)).length,w,y=!1,_,S=new Array(b),N=new Array(b);for(a==null&&(s=o(_=l())),d=0;d<=b;++d){if(!(d<b&&i(w=f[d],d,f))===y)if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=d-1;v>=h;--v)s.point(S[v],N[v]);s.lineEnd(),s.areaEnd()}y&&(S[d]=+t(w,d,f),N[d]=+e(w,d,f),s.point(r?+r(w,d,f):S[d],n?+n(w,d,f):N[d]))}if(_)return s=null,_+""||null}function c(){return M8().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Fn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Fn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Fn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class D8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Zre(t){return new D8(t,!0)}function eie(t){return new D8(t,!1)}const lP={draw(t,e){const n=Yo(e/Qy);t.moveTo(n,0),t.arc(0,0,n,0,ab)}},tie={draw(t,e){const n=Yo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},F8=Yo(1/3),nie=F8*2,rie={draw(t,e){const n=Yo(e/nie),r=n*F8;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},iie={draw(t,e){const n=Yo(e),r=-n/2;t.rect(r,r,n,n)}},aie=.8908130915292852,$8=Xy(Qy/10)/Xy(7*Qy/10),oie=Xy(ab/10)*$8,sie=-O8(ab/10)*$8,lie={draw(t,e){const n=Yo(e*aie),r=oie*n,i=sie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ab*a/5,s=O8(o),l=Xy(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Ww=Yo(3),uie={draw(t,e){const n=-Yo(e/(Ww*3));t.moveTo(0,n*2),t.lineTo(-Ww*n,-n),t.lineTo(Ww*n,-n),t.closePath()}},oo=-.5,so=Yo(3)/2,P5=1/Yo(12),cie=(P5/2+1)*3,fie={draw(t,e){const n=Yo(e/cie),r=n/2,i=n*P5,a=r,o=n*P5+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(oo*r-so*i,so*r+oo*i),t.lineTo(oo*a-so*o,so*a+oo*o),t.lineTo(oo*s-so*l,so*s+oo*l),t.lineTo(oo*r+so*i,oo*i-so*r),t.lineTo(oo*a+so*o,oo*o-so*a),t.lineTo(oo*s+so*l,oo*l-so*s),t.closePath()}};function hie(t,e){let n=null,r=oP(i);t=typeof t=="function"?t:Fn(t||lP),e=typeof e=="function"?e:Fn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Fn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Fn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Jy(){}function Zy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function B8(t){this._context=t}B8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function die(t){return new B8(t)}function U8(t){this._context=t}U8.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pie(t){return new U8(t)}function V8(t){this._context=t}V8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mie(t){return new V8(t)}function z8(t){this._context=t}z8.prototype={areaStart:Jy,areaEnd:Jy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function gie(t){return new z8(t)}function rI(t){return t<0?-1:1}function iI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(rI(a)+rI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function aI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function e1(t){this._context=t}e1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hw(this,this._t0,aI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hw(this,aI(this,n=iI(this,t,e)),n);break;default:Hw(this,this._t0,n=iI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function q8(t){this._context=new W8(t)}(q8.prototype=Object.create(e1.prototype)).point=function(t,e){e1.prototype.point.call(this,e,t)};function W8(t){this._context=t}W8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function vie(t){return new e1(t)}function yie(t){return new q8(t)}function H8(t){this._context=t}H8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=oI(t),i=oI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function oI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bie(t){return new H8(t)}function sb(t,e){this._context=t,this._t=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wie(t){return new sb(t,.5)}function xie(t){return new sb(t,0)}function _ie(t){return new sb(t,1)}function ud(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function T5(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Sie(t,e){return t[e]}function Aie(t){const e=[];return e.key=t,e}function Eie(){var t=Fn([]),e=T5,n=ud,r=Sie;function i(a){var o=Array.from(t.apply(this,arguments),Aie),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=sP(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Fn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Fn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?T5:typeof a=="function"?a:Fn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ud,i):n},i}function Pie(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}ud(t,e)}}function Tie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}ud(t,e)}}function Nie(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,h=(f-d)/2,v=0;v<s;++v){var b=t[e[v]],w=b[r][1]||0,y=b[r-1][1]||0;h+=w-y}l+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ud(t,e)}}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var kie=["type","size","sizeType"];function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N5.apply(this,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Iie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iie(t,e,n){return e=Oie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oie(t){var e=Cie(t,"string");return tg(e)=="symbol"?e:e+""}function Cie(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lie(t,e){if(t==null)return{};var n=jie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var G8={symbolCircle:lP,symbolCross:tie,symbolDiamond:rie,symbolSquare:iie,symbolStar:lie,symbolTriangle:uie,symbolWye:fie},Rie=Math.PI/180,Mie=function(e){var n="symbol".concat(ib(e));return G8[n]||lP},Die=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Rie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fie=function(e,n){G8["symbol".concat(ib(e))]=n},uP=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Lie(e,kie),u=lI(lI({},l),{},{type:r,size:a,sizeType:s}),c=function(){var w=Mie(r),y=hie().type(w).size(Die(a,s,r));return y()},f=u.className,d=u.cx,h=u.cy,v=un(u,!0);return d===+d&&h===+h&&a===+a?be.createElement("path",N5({},v,{className:cn("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:c()})):null};uP.registerSymbol=Fie;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function k5(){return k5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k5.apply(this,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){ng(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y8(r.key),r)}}function Vie(t,e,n){return e&&Uie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zie(t,e,n){return e=t1(e),qie(t,K8()?Reflect.construct(e,n||[],t1(t).constructor):e.apply(t,n))}function qie(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wie(t)}function Wie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t1(t)}function Hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I5(t,e)}function I5(t,e){return I5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I5(t,e)}function ng(t,e,n){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8(t){var e=Gie(t,"string");return cd(e)=="symbol"?e:e+""}function Gie(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lo=32,cP=function(t){function e(){return Bie(this,e),zie(this,e,arguments)}return Hie(e,t),Vie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=lo/2,o=lo/6,s=lo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:lo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(lo,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return be.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(lo/8,"h").concat(lo,"v").concat(lo*3/4,"h").concat(-lo,"z"),className:"recharts-legend-icon"});if(be.isValidElement(r.legendIcon)){var u=$ie({},r);return delete u.legendIcon,be.cloneElement(r.legendIcon,u)}return be.createElement(uP,{fill:l,cx:a,cy:a,size:lo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:lo,height:lo},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,v){var b=h.formatter||l,w=cn(ng(ng({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Vt(h.value)?null:h.value;Al(!Vt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?u:h.color;return be.createElement("li",k5({className:w,style:f,key:"legend-item-".concat(v)},Yy(r.props,h,v)),be.createElement(w5,{width:o,height:o,viewBox:c,style:d},r.renderIcon(h)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(y,h,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(se.PureComponent);ng(cP,"displayName","Legend");ng(cP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kie=q2;function Yie(){this.__data__=new Kie,this.size=0}var Xie=Yie;function Qie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Jie=Qie;function Zie(t){return this.__data__.get(t)}var eae=Zie;function tae(t){return this.__data__.has(t)}var nae=tae,rae=q2,iae=QE,aae=JE,oae=200;function sae(t,e){var n=this.__data__;if(n instanceof rae){var r=n.__data__;if(!iae||r.length<oae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new aae(r)}return n.set(t,e),this.size=n.size,this}var lae=sae,uae=q2,cae=Xie,fae=Jie,hae=eae,dae=nae,pae=lae;function zd(t){var e=this.__data__=new uae(t);this.size=e.size}zd.prototype.clear=cae;zd.prototype.delete=fae;zd.prototype.get=hae;zd.prototype.has=dae;zd.prototype.set=pae;var X8=zd,mae="__lodash_hash_undefined__";function gae(t){return this.__data__.set(t,mae),this}var vae=gae;function yae(t){return this.__data__.has(t)}var bae=yae,wae=JE,xae=vae,_ae=bae;function n1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wae;++e<n;)this.add(t[e])}n1.prototype.add=n1.prototype.push=xae;n1.prototype.has=_ae;var Q8=n1;function Sae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var J8=Sae;function Aae(t,e){return t.has(e)}var Z8=Aae,Eae=Q8,Pae=J8,Tae=Z8,Nae=1,kae=2;function Iae(t,e,n,r,i,a){var o=n&Nae,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&kae?new Eae:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var w=o?r(b,v,f,e,t,a):r(v,b,f,t,e,a);if(w!==void 0){if(w)continue;d=!1;break}if(h){if(!Pae(e,function(y,_){if(!Tae(h,_)&&(v===y||i(v,y,n,r,a)))return h.push(_)})){d=!1;break}}else if(!(v===b||i(v,b,n,r,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var e7=Iae,Oae=Vs,Cae=Oae.Uint8Array,Lae=Cae;function jae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Rae=jae;function Mae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var fP=Mae,cI=l0,fI=Lae,Dae=XE,Fae=e7,$ae=Rae,Bae=fP,Uae=1,Vae=2,zae="[object Boolean]",qae="[object Date]",Wae="[object Error]",Hae="[object Map]",Gae="[object Number]",Kae="[object RegExp]",Yae="[object Set]",Xae="[object String]",Qae="[object Symbol]",Jae="[object ArrayBuffer]",Zae="[object DataView]",hI=cI?cI.prototype:void 0,Gw=hI?hI.valueOf:void 0;function eoe(t,e,n,r,i,a,o){switch(n){case Zae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jae:return!(t.byteLength!=e.byteLength||!a(new fI(t),new fI(e)));case zae:case qae:case Gae:return Dae(+t,+e);case Wae:return t.name==e.name&&t.message==e.message;case Kae:case Xae:return t==e+"";case Hae:var s=$ae;case Yae:var l=r&Uae;if(s||(s=Bae),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Vae,o.set(t,e);var c=Fae(s(t),s(e),r,i,a,o);return o.delete(t),c;case Qae:if(Gw)return Gw.call(t)==Gw.call(e)}return!1}var toe=eoe;function noe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var t7=noe,roe=t7,ioe=ya;function aoe(t,e,n){var r=e(t);return ioe(t)?r:roe(r,n(t))}var ooe=aoe;function soe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var loe=soe;function uoe(){return[]}var coe=uoe,foe=loe,hoe=coe,doe=Object.prototype,poe=doe.propertyIsEnumerable,dI=Object.getOwnPropertySymbols,moe=dI?function(t){return t==null?[]:(t=Object(t),foe(dI(t),function(e){return poe.call(t,e)}))}:hoe,goe=moe;function voe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yoe=voe,boe=Bl,woe=Ul,xoe="[object Arguments]";function _oe(t){return woe(t)&&boe(t)==xoe}var Soe=_oe,pI=Soe,Aoe=Ul,n7=Object.prototype,Eoe=n7.hasOwnProperty,Poe=n7.propertyIsEnumerable,Toe=pI(function(){return arguments}())?pI:function(t){return Aoe(t)&&Eoe.call(t,"callee")&&!Poe.call(t,"callee")},hP=Toe,r1={exports:{}};function Noe(){return!1}var koe=Noe;r1.exports;(function(t,e){var n=Vs,r=koe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(r1,r1.exports);var r7=r1.exports,Ioe=9007199254740991,Ooe=/^(?:0|[1-9]\d*)$/;function Coe(t,e){var n=typeof t;return e=e??Ioe,!!e&&(n=="number"||n!="symbol"&&Ooe.test(t))&&t>-1&&t%1==0&&t<e}var dP=Coe,Loe=9007199254740991;function joe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Loe}var pP=joe,Roe=Bl,Moe=pP,Doe=Ul,Foe="[object Arguments]",$oe="[object Array]",Boe="[object Boolean]",Uoe="[object Date]",Voe="[object Error]",zoe="[object Function]",qoe="[object Map]",Woe="[object Number]",Hoe="[object Object]",Goe="[object RegExp]",Koe="[object Set]",Yoe="[object String]",Xoe="[object WeakMap]",Qoe="[object ArrayBuffer]",Joe="[object DataView]",Zoe="[object Float32Array]",ese="[object Float64Array]",tse="[object Int8Array]",nse="[object Int16Array]",rse="[object Int32Array]",ise="[object Uint8Array]",ase="[object Uint8ClampedArray]",ose="[object Uint16Array]",sse="[object Uint32Array]",qn={};qn[Zoe]=qn[ese]=qn[tse]=qn[nse]=qn[rse]=qn[ise]=qn[ase]=qn[ose]=qn[sse]=!0;qn[Foe]=qn[$oe]=qn[Qoe]=qn[Boe]=qn[Joe]=qn[Uoe]=qn[Voe]=qn[zoe]=qn[qoe]=qn[Woe]=qn[Hoe]=qn[Goe]=qn[Koe]=qn[Yoe]=qn[Xoe]=!1;function lse(t){return Doe(t)&&Moe(t.length)&&!!qn[Roe(t)]}var use=lse;function cse(t){return function(e){return t(e)}}var i7=cse,i1={exports:{}};i1.exports;(function(t,e){var n=h8,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(i1,i1.exports);var fse=i1.exports,hse=use,dse=i7,mI=fse,gI=mI&&mI.isTypedArray,pse=gI?dse(gI):hse,a7=pse,mse=yoe,gse=hP,vse=ya,yse=r7,bse=dP,wse=a7,xse=Object.prototype,_se=xse.hasOwnProperty;function Sse(t,e){var n=vse(t),r=!n&&gse(t),i=!n&&!r&&yse(t),a=!n&&!r&&!i&&wse(t),o=n||r||i||a,s=o?mse(t.length,String):[],l=s.length;for(var u in t)(e||_se.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bse(u,l)))&&s.push(u);return s}var Ase=Sse,Ese=Object.prototype;function Pse(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ese;return t===n}var Tse=Pse;function Nse(t,e){return function(n){return t(e(n))}}var o7=Nse,kse=o7,Ise=kse(Object.keys,Object),Ose=Ise,Cse=Tse,Lse=Ose,jse=Object.prototype,Rse=jse.hasOwnProperty;function Mse(t){if(!Cse(t))return Lse(t);var e=[];for(var n in Object(t))Rse.call(t,n)&&n!="constructor"&&e.push(n);return e}var Dse=Mse,Fse=YE,$se=pP;function Bse(t){return t!=null&&$se(t.length)&&!Fse(t)}var c0=Bse,Use=Ase,Vse=Dse,zse=c0;function qse(t){return zse(t)?Use(t):Vse(t)}var lb=qse,Wse=ooe,Hse=goe,Gse=lb;function Kse(t){return Wse(t,Gse,Hse)}var Yse=Kse,vI=Yse,Xse=1,Qse=Object.prototype,Jse=Qse.hasOwnProperty;function Zse(t,e,n,r,i,a){var o=n&Xse,s=vI(t),l=s.length,u=vI(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:Jse.call(e,d)))return!1}var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var w=o;++f<l;){d=s[f];var y=t[d],_=e[d];if(r)var S=o?r(_,y,d,e,t,a):r(y,_,d,t,e,a);if(!(S===void 0?y===_||i(y,_,n,r,a):S)){b=!1;break}w||(w=d=="constructor")}if(b&&!w){var N=t.constructor,O=e.constructor;N!=O&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof O=="function"&&O instanceof O)&&(b=!1)}return a.delete(t),a.delete(e),b}var ele=Zse,tle=kf,nle=Vs,rle=tle(nle,"DataView"),ile=rle,ale=kf,ole=Vs,sle=ale(ole,"Promise"),lle=sle,ule=kf,cle=Vs,fle=ule(cle,"Set"),s7=fle,hle=kf,dle=Vs,ple=hle(dle,"WeakMap"),mle=ple,O5=ile,C5=QE,L5=lle,j5=s7,R5=mle,l7=Bl,qd=p8,yI="[object Map]",gle="[object Object]",bI="[object Promise]",wI="[object Set]",xI="[object WeakMap]",_I="[object DataView]",vle=qd(O5),yle=qd(C5),ble=qd(L5),wle=qd(j5),xle=qd(R5),Oc=l7;(O5&&Oc(new O5(new ArrayBuffer(1)))!=_I||C5&&Oc(new C5)!=yI||L5&&Oc(L5.resolve())!=bI||j5&&Oc(new j5)!=wI||R5&&Oc(new R5)!=xI)&&(Oc=function(t){var e=l7(t),n=e==gle?t.constructor:void 0,r=n?qd(n):"";if(r)switch(r){case vle:return _I;case yle:return yI;case ble:return bI;case wle:return wI;case xle:return xI}return e});var _le=Oc,Kw=X8,Sle=e7,Ale=toe,Ele=ele,SI=_le,AI=ya,EI=r7,Ple=a7,Tle=1,PI="[object Arguments]",TI="[object Array]",uv="[object Object]",Nle=Object.prototype,NI=Nle.hasOwnProperty;function kle(t,e,n,r,i,a){var o=AI(t),s=AI(e),l=o?TI:SI(t),u=s?TI:SI(e);l=l==PI?uv:l,u=u==PI?uv:u;var c=l==uv,f=u==uv,d=l==u;if(d&&EI(t)){if(!EI(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Kw),o||Ple(t)?Sle(t,e,n,r,i,a):Ale(t,e,l,n,r,i,a);if(!(n&Tle)){var h=c&&NI.call(t,"__wrapped__"),v=f&&NI.call(e,"__wrapped__");if(h||v){var b=h?t.value():t,w=v?e.value():e;return a||(a=new Kw),i(b,w,n,r,a)}}return d?(a||(a=new Kw),Ele(t,e,n,r,i,a)):!1}var Ile=kle,Ole=Ile,kI=Ul;function u7(t,e,n,r,i){return t===e?!0:t==null||e==null||!kI(t)&&!kI(e)?t!==t&&e!==e:Ole(t,e,n,r,u7,i)}var mP=u7,Cle=X8,Lle=mP,jle=1,Rle=2;function Mle(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Cle;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?Lle(c,u,jle|Rle,r,f):d))return!1}}return!0}var Dle=Mle,Fle=ic;function $le(t){return t===t&&!Fle(t)}var c7=$le,Ble=c7,Ule=lb;function Vle(t){for(var e=Ule(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ble(i)]}return e}var zle=Vle;function qle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var f7=qle,Wle=Dle,Hle=zle,Gle=f7;function Kle(t){var e=Hle(t);return e.length==1&&e[0][2]?Gle(e[0][0],e[0][1]):function(n){return n===t||Wle(n,t,e)}}var Yle=Kle;function Xle(t,e){return t!=null&&e in Object(t)}var Qle=Xle,Jle=b8,Zle=hP,eue=ya,tue=dP,nue=pP,rue=H2;function iue(t,e,n){e=Jle(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=rue(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&nue(i)&&tue(o,i)&&(eue(t)||Zle(t)))}var aue=iue,oue=Qle,sue=aue;function lue(t,e){return t!=null&&sue(t,e,oue)}var uue=lue,cue=mP,fue=w8,hue=uue,due=KE,pue=c7,mue=f7,gue=H2,vue=1,yue=2;function bue(t,e){return due(t)&&pue(e)?mue(gue(t),e):function(n){var r=fue(n,t);return r===void 0&&r===e?hue(n,t):cue(e,r,vue|yue)}}var wue=bue;function xue(t){return t}var Wd=xue;function _ue(t){return function(e){return e==null?void 0:e[t]}}var Sue=_ue,Aue=tP;function Eue(t){return function(e){return Aue(e,t)}}var Pue=Eue,Tue=Sue,Nue=Pue,kue=KE,Iue=H2;function Oue(t){return kue(t)?Tue(Iue(t)):Nue(t)}var Cue=Oue,Lue=Yle,jue=wue,Rue=Wd,Mue=ya,Due=Cue;function Fue(t){return typeof t=="function"?t:t==null?Rue:typeof t=="object"?Mue(t)?jue(t[0],t[1]):Lue(t):Due(t)}var ac=Fue;function $ue(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var h7=$ue;function Bue(t){return t!==t}var Uue=Bue;function Vue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var zue=Vue,que=h7,Wue=Uue,Hue=zue;function Gue(t,e,n){return e===e?Hue(t,e,n):que(t,Wue,n)}var Kue=Gue,Yue=Kue;function Xue(t,e){var n=t==null?0:t.length;return!!n&&Yue(t,e,0)>-1}var Que=Xue;function Jue(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Zue=Jue;function ece(){}var tce=ece,Yw=s7,nce=tce,rce=fP,ice=1/0,ace=Yw&&1/rce(new Yw([,-0]))[1]==ice?function(t){return new Yw(t)}:nce,oce=ace,sce=Q8,lce=Que,uce=Zue,cce=Z8,fce=oce,hce=fP,dce=200;function pce(t,e,n){var r=-1,i=lce,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=uce;else if(a>=dce){var u=e?null:fce(t);if(u)return hce(u);o=!1,i=cce,l=new sce}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var mce=pce,gce=ac,vce=mce;function yce(t,e){return t&&t.length?vce(t,gce(e)):[]}var bce=yce;const II=jn(bce);function d7(t,e,n){return e===!0?II(t,n):Vt(e)?II(t,e):t}function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var wce=["ref"];function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m7(r.key),r)}}function _ce(t,e,n){return e&&CI(t.prototype,e),n&&CI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sce(t,e,n){return e=a1(e),Ace(t,p7()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function Ace(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ece(t)}function Ece(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p7=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function Pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M5(t,e)}function M5(t,e){return M5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M5(t,e)}function ub(t,e,n){return e=m7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m7(t){var e=Tce(t,"string");return fd(e)=="symbol"?e:e+""}function Tce(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nce(t,e){if(t==null)return{};var n=kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ice(t){return t.value}function Oce(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var n=Nce(e,wce);return be.createElement(cP,n)}var LI=1,Fh=function(t){function e(){var n;xce(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Sce(this,e,[].concat(i)),ub(n,"lastBoundingBox",{width:-1,height:-1}),n}return Pce(e,t),_ce(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LI||Math.abs(i.height-this.lastBoundingBox.height)>LI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?il({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();d={top:((c||0)-v.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return il(il({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=il(il({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return be.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},Oce(a,il(il({},this.props),{},{payload:d7(c,u,Ice)})))}}],[{key:"getWithHeight",value:function(r,i){var a=il(il({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&qe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(se.PureComponent);ub(Fh,"displayName","Legend");ub(Fh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jI=l0,Cce=hP,Lce=ya,RI=jI?jI.isConcatSpreadable:void 0;function jce(t){return Lce(t)||Cce(t)||!!(RI&&t&&t[RI])}var Rce=jce,Mce=t7,Dce=Rce;function g7(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Dce),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?g7(s,e-1,n,r,i):Mce(i,s):r||(i[i.length]=s)}return i}var v7=g7;function Fce(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var $ce=Fce,Bce=$ce,Uce=Bce(),Vce=Uce,zce=Vce,qce=lb;function Wce(t,e){return t&&zce(t,e,qce)}var y7=Wce,Hce=c0;function Gce(t,e){return function(n,r){if(n==null)return n;if(!Hce(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Kce=Gce,Yce=y7,Xce=Kce,Qce=Xce(Yce),gP=Qce,Jce=gP,Zce=c0;function efe(t,e){var n=-1,r=Zce(t)?Array(t.length):[];return Jce(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var b7=efe;function tfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var nfe=tfe,MI=Fd;function rfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=MI(t),o=e!==void 0,s=e===null,l=e===e,u=MI(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var ife=rfe,afe=ife;function ofe(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=afe(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var sfe=ofe,Xw=eP,lfe=tP,ufe=ac,cfe=b7,ffe=nfe,hfe=i7,dfe=sfe,pfe=Wd,mfe=ya;function gfe(t,e,n){e.length?e=Xw(e,function(a){return mfe(a)?function(o){return lfe(o,a.length===1?a[0]:a)}:a}):e=[pfe];var r=-1;e=Xw(e,hfe(ufe));var i=cfe(t,function(a,o,s){var l=Xw(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return ffe(i,function(a,o){return dfe(a,o,n)})}var vfe=gfe;function yfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bfe=yfe,wfe=bfe,DI=Math.max;function xfe(t,e,n){return e=DI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=DI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),wfe(t,this,s)}}var _fe=xfe;function Sfe(t){return function(){return t}}var Afe=Sfe,Efe=kf,Pfe=function(){try{var t=Efe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),w7=Pfe,Tfe=Afe,FI=w7,Nfe=Wd,kfe=FI?function(t,e){return FI(t,"toString",{configurable:!0,enumerable:!1,value:Tfe(e),writable:!0})}:Nfe,Ife=kfe,Ofe=800,Cfe=16,Lfe=Date.now;function jfe(t){var e=0,n=0;return function(){var r=Lfe(),i=Cfe-(r-n);if(n=r,i>0){if(++e>=Ofe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Rfe=jfe,Mfe=Ife,Dfe=Rfe,Ffe=Dfe(Mfe),$fe=Ffe,Bfe=Wd,Ufe=_fe,Vfe=$fe;function zfe(t,e){return Vfe(Ufe(t,e,Bfe),t+"")}var qfe=zfe,Wfe=XE,Hfe=c0,Gfe=dP,Kfe=ic;function Yfe(t,e,n){if(!Kfe(n))return!1;var r=typeof e;return(r=="number"?Hfe(n)&&Gfe(e,n.length):r=="string"&&e in n)?Wfe(n[e],t):!1}var cb=Yfe,Xfe=v7,Qfe=vfe,Jfe=qfe,$I=cb,Zfe=Jfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&$I(t,e[0],e[1])?e=[]:n>2&&$I(e[0],e[1],e[2])&&(e=[e[0]]),Qfe(t,Xfe(e,1),[])}),ehe=Zfe;const vP=jn(ehe);function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D5.apply(this,arguments)}function the(t,e){return ahe(t)||ihe(t,e)||rhe(t,e)||nhe()}function nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rhe(t,e){if(t){if(typeof t=="string")return BI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ihe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ahe(t){if(Array.isArray(t))return t}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return e=she(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=lhe(t,"string");return rg(e)=="symbol"?e:e+""}function lhe(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uhe(t){return Array.isArray(t)&&Kr(t[0])&&Kr(t[1])?t.join(" ~ "):t}var che=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,b=e.label,w=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,S=function(){if(c&&c.length){var j={padding:0,margin:0},M=(d?vP(c,d):c).map(function(z,Q){if(z.type==="none")return null;var oe=Qw({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),ue=z.formatter||f||uhe,X=z.value,ae=z.name,pe=X,he=ae;if(ue&&pe!=null&&he!=null){var $=ue(X,ae,z,Q,c);if(Array.isArray($)){var W=the($,2);pe=W[0],he=W[1]}else pe=$}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:oe},Kr(he)?be.createElement("span",{className:"recharts-tooltip-item-name"},he):null,Kr(he)?be.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,be.createElement("span",{className:"recharts-tooltip-item-value"},pe),be.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:j},M)}return null},N=Qw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=Qw({margin:0},u),R=!fn(b),k=R?b:"",P=cn("recharts-default-tooltip",h),E=cn("recharts-tooltip-label",v);R&&w&&c!==void 0&&c!==null&&(k=w(b,c));var F=_?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",D5({className:P,style:N},F),be.createElement("p",{className:E,style:O},be.isValidElement(k)?k:"".concat(k)),S())};function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function cv(t,e,n){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return ig(e)=="symbol"?e:e+""}function hhe(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lp="recharts-tooltip-wrapper",dhe={visibility:"hidden"};function phe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return cn(Lp,cv(cv(cv(cv({},"".concat(Lp,"-right"),qe(n)&&e&&qe(e.x)&&n>=e.x),"".concat(Lp,"-left"),qe(n)&&e&&qe(e.x)&&n<e.x),"".concat(Lp,"-bottom"),qe(r)&&e&&qe(e.y)&&r>=e.y),"".concat(Lp,"-top"),qe(r)&&e&&qe(e.y)&&r<e.y))}function VI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&qe(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var d=c,h=l[r];return d<h?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function mhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ghe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=VI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=VI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=mhe({translateX:c,translateY:f,useTranslate3d:s})):u=dhe,{cssProperties:u,cssClasses:phe({translateX:c,translateY:f,coordinate:n})}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){$5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_7(r.key),r)}}function bhe(t,e,n){return e&&yhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function whe(t,e,n){return e=o1(e),xhe(t,x7()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function xhe(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _he(t)}function _he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x7=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function She(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F5(t,e)}function F5(t,e){return F5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F5(t,e)}function $5(t,e,n){return e=_7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _7(t){var e=Ahe(t,"string");return hd(e)=="symbol"?e:e+""}function Ahe(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WI=1,Ehe=function(t){function e(){var n;vhe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=whe(this,e,[].concat(i)),$5(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$5(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return She(e,t),bhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>WI||Math.abs(r.height-this.state.lastBoundingBox.height)>WI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,S=ghe({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:h,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),N=S.cssClasses,O=S.cssProperties,R=qI(qI({transition:d&&a?"transform ".concat(s,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return be.createElement("div",{tabIndex:-1,className:N,style:R,ref:function(P){r.wrapperNode=P}},u)}}])}(se.PureComponent),Phe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},f0={isSsr:Phe()};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){yP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A7(r.key),r)}}function khe(t,e,n){return e&&Nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ihe(t,e,n){return e=s1(e),Ohe(t,S7()?Reflect.construct(e,n||[],s1(t).constructor):e.apply(t,n))}function Ohe(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Che(t)}function Che(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s1(t)}function Lhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B5(t,e)}function B5(t,e){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B5(t,e)}function yP(t,e,n){return e=A7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=jhe(t,"string");return dd(e)=="symbol"?e:e+""}function jhe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rhe(t){return t.dataKey}function Mhe(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(che,e)}var ws=function(t){function e(){return The(this,e),Ihe(this,e,arguments)}return Lhe(e,t),khe(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,v=i.payload,b=i.payloadUniqBy,w=i.position,y=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,O=v??[];f&&O.length&&(O=d7(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,Rhe));var R=O.length>0;return be.createElement(Ehe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:d,active:a,coordinate:c,hasPayload:R,offset:h,position:w,reverseDirection:y,useTranslate3d:_,viewBox:S,wrapperStyle:N},Mhe(u,GI(GI({},this.props),{},{payload:O})))}}])}(se.PureComponent);yP(ws,"displayName","Tooltip");yP(ws,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!f0.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Dhe=Vs,Fhe=function(){return Dhe.Date.now()},$he=Fhe,Bhe=/\s/;function Uhe(t){for(var e=t.length;e--&&Bhe.test(t.charAt(e)););return e}var Vhe=Uhe,zhe=Vhe,qhe=/^\s+/;function Whe(t){return t&&t.slice(0,zhe(t)+1).replace(qhe,"")}var Hhe=Whe,Ghe=Hhe,KI=ic,Khe=Fd,YI=NaN,Yhe=/^[-+]0x[0-9a-f]+$/i,Xhe=/^0b[01]+$/i,Qhe=/^0o[0-7]+$/i,Jhe=parseInt;function Zhe(t){if(typeof t=="number")return t;if(Khe(t))return YI;if(KI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ghe(t);var n=Xhe.test(t);return n||Qhe.test(t)?Jhe(t.slice(2),n?2:8):Yhe.test(t)?YI:+t}var E7=Zhe,ede=ic,Jw=$he,XI=E7,tde="Expected a function",nde=Math.max,rde=Math.min;function ide(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(tde);e=XI(e)||0,ede(n)&&(c=!!n.leading,f="maxWait"in n,a=f?nde(XI(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function h(R){var k=r,P=i;return r=i=void 0,u=R,o=t.apply(P,k),o}function v(R){return u=R,s=setTimeout(y,e),c?h(R):o}function b(R){var k=R-l,P=R-u,E=e-k;return f?rde(E,a-P):E}function w(R){var k=R-l,P=R-u;return l===void 0||k>=e||k<0||f&&P>=a}function y(){var R=Jw();if(w(R))return _(R);s=setTimeout(y,b(R))}function _(R){return s=void 0,d&&r?h(R):(r=i=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function N(){return s===void 0?o:_(Jw())}function O(){var R=Jw(),k=w(R);if(r=arguments,i=this,l=R,k){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),h(l)}return s===void 0&&(s=setTimeout(y,e)),o}return O.cancel=S,O.flush=N,O}var ade=ide,ode=ade,sde=ic,lde="Expected a function";function ude(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(lde);return sde(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ode(t,e,{leading:r,maxWait:e,trailing:i})}var cde=ude;const P7=jn(cde);function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){fde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fde(t,e,n){return e=hde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hde(t){var e=dde(t,"string");return ag(e)=="symbol"?e:e+""}function dde(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t,e){return yde(t)||vde(t,e)||gde(t,e)||mde()}function mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gde(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yde(t){if(Array.isArray(t))return t}var bde=se.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,h=t.children,v=t.debounce,b=v===void 0?0:v,w=t.id,y=t.className,_=t.onResize,S=t.style,N=S===void 0?{}:S,O=se.useRef(null),R=se.useRef();R.current=_,se.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var k=se.useState({containerWidth:i.width,containerHeight:i.height}),P=pde(k,2),E=P[0],F=P[1],T=se.useCallback(function(M,z){F(function(Q){var oe=Math.round(M),ue=Math.round(z);return Q.containerWidth===oe&&Q.containerHeight===ue?Q:{containerWidth:oe,containerHeight:ue}})},[]);se.useEffect(function(){var M=function(ae){var pe,he=ae[0].contentRect,$=he.width,W=he.height;T($,W),(pe=R.current)===null||pe===void 0||pe.call(R,$,W)};b>0&&(M=P7(M,b,{trailing:!0,leading:!1}));var z=new ResizeObserver(M),Q=O.current.getBoundingClientRect(),oe=Q.width,ue=Q.height;return T(oe,ue),z.observe(O.current),function(){z.disconnect()}},[T,b]);var j=se.useMemo(function(){var M=E.containerWidth,z=E.containerHeight;if(M<0||z<0)return null;Al(Uc(o)||Uc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Al(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=Uc(o)?M:o,oe=Uc(l)?z:l;n&&n>0&&(Q?oe=Q/n:oe&&(Q=oe*n),d&&oe>d&&(oe=d)),Al(Q>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,oe,o,l,c,f,n);var ue=!Array.isArray(h)&&Sl(h.type).endsWith("Chart");return be.Children.map(h,function(X){return be.isValidElement(X)?se.cloneElement(X,fv({width:Q,height:oe},ue?{style:fv({height:"100%",width:"100%",maxHeight:oe,maxWidth:Q},X.props.style)}:{})):X})},[n,h,l,d,f,c,E,o]);return be.createElement("div",{id:w?"".concat(w):void 0,className:cn("recharts-responsive-container",y),style:fv(fv({},N),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:O},j)}),T7=function(e){return null};T7.displayName="Cell";function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return e=xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xde(t){var e=_de(t,"string");return og(e)=="symbol"?e:e+""}function _de(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xf={widthCache:{},cacheCount:0},Sde=2e3,Ade={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e3="recharts_measurement_span";function Ede(t){var e=U5({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var bm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||f0.isSsr)return{width:0,height:0};var r=Ede(n),i=JSON.stringify({text:e,copyStyle:r});if(Xf.widthCache[i])return Xf.widthCache[i];try{var a=document.getElementById(e3);a||(a=document.createElement("span"),a.setAttribute("id",e3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=U5(U5({},Ade),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Xf.widthCache[i]=l,++Xf.cacheCount>Sde&&(Xf.cacheCount=0,Xf.widthCache={}),l}catch{return{width:0,height:0}}},Pde=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function l1(t,e){return Ide(t)||kde(t,e)||Nde(t,e)||Tde()}function Tde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(t,e){if(t){if(typeof t=="string")return t3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t3(t,e)}}function t3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ide(t){if(Array.isArray(t))return t}function Ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lde(r.key),r)}}function Cde(t,e,n){return e&&n3(t.prototype,e),n&&n3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t){var e=jde(t,"string");return sg(e)=="symbol"?e:e+""}function jde(t,e){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,N7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dde=Object.keys(N7),xh="NaN";function Fde(t,e){return t*N7[e]}var hv=function(){function t(e,n){Ode(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Rde.test(n)&&(this.num=NaN,this.unit=""),Dde.includes(n)&&(this.num=Fde(e,n),this.unit="px")}return Cde(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Mde.exec(n))!==null&&r!==void 0?r:[],a=l1(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function k7(t){if(t.includes(xh))return xh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=r3.exec(e))!==null&&n!==void 0?n:[],i=l1(r,4),a=i[1],o=i[2],s=i[3],l=hv.parse(a??""),u=hv.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return xh;e=e.replace(r3,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=i3.exec(e))!==null&&f!==void 0?f:[],h=l1(d,4),v=h[1],b=h[2],w=h[3],y=hv.parse(v??""),_=hv.parse(w??""),S=b==="+"?y.add(_):y.subtract(_);if(S.isNaN())return xh;e=e.replace(i3,S.toString())}return e}var a3=/\(([^()]*)\)/;function $de(t){for(var e=t;e.includes("(");){var n=a3.exec(e),r=l1(n,2),i=r[1];e=e.replace(a3,k7(i))}return e}function Bde(t){var e=t.replace(/\s+/g,"");return e=$de(e),e=k7(e),e}function Ude(t){try{return Bde(t)}catch{return xh}}function Zw(t){var e=Ude(t.slice(5,-1));return e===xh?"":e}var Vde=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zde=["dx","dy","angle","className","breakAll"];function V5(){return V5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V5.apply(this,arguments)}function o3(t,e){if(t==null)return{};var n=qde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s3(t,e){return Kde(t)||Gde(t,e)||Hde(t,e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return l3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(t,e)}}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Kde(t){if(Array.isArray(t))return t}var I7=/[ \f\n\r\t\v\u2028\u2029]+/,O7=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];fn(n)||(r?a=n.toString().split(""):a=n.toString().split(I7));var o=a.map(function(l){return{word:l,width:bm(l,i).width}}),s=r?0:bm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Yde=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=qe(o),f=s,d=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(oe,ue){var X=ue.word,ae=ue.width,pe=oe[oe.length-1];if(pe&&(i==null||a||pe.width+ae+r<Number(i)))pe.words.push(X),pe.width+=ae+r;else{var he={words:[X],width:ae};oe.push(he)}return oe},[])},h=d(n),v=function(Q){return Q.reduce(function(oe,ue){return oe.width>ue.width?oe:ue})};if(!c)return h;for(var b="",w=function(Q){var oe=f.slice(0,Q),ue=O7({breakAll:u,style:l,children:oe+b}).wordsWithComputedWidth,X=d(ue),ae=X.length>o||v(X).width>Number(i);return[ae,X]},y=0,_=f.length-1,S=0,N;y<=_&&S<=f.length-1;){var O=Math.floor((y+_)/2),R=O-1,k=w(R),P=s3(k,2),E=P[0],F=P[1],T=w(O),j=s3(T,1),M=j[0];if(!E&&!M&&(y=O+1),E&&M&&(_=O-1),!E&&M){N=F;break}S++}return N||h},u3=function(e){var n=fn(e)?[]:e.toString().split(I7);return[{words:n}]},Xde=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!f0.isSsr){var l,u,c=O7({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return u3(i);return Yde({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return u3(i)},c3="#808080",u1=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,h=d===void 0?"start":d,v=e.verticalAnchor,b=v===void 0?"end":v,w=e.fill,y=w===void 0?c3:w,_=o3(e,Vde),S=se.useMemo(function(){return Xde({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),N=_.dx,O=_.dy,R=_.angle,k=_.className,P=_.breakAll,E=o3(_,zde);if(!Kr(r)||!Kr(a))return null;var F=r+(qe(N)?N:0),T=a+(qe(O)?O:0),j;switch(b){case"start":j=Zw("calc(".concat(u,")"));break;case"middle":j=Zw("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Zw("calc(".concat(S.length-1," * -").concat(s,")"));break}var M=[];if(f){var z=S[0].width,Q=_.width;M.push("scale(".concat((qe(Q)?Q/z:1)/z,")"))}return R&&M.push("rotate(".concat(R,", ").concat(F,", ").concat(T,")")),M.length&&(E.transform=M.join(" ")),be.createElement("text",V5({},un(E,!0),{x:F,y:T,className:cn("recharts-text",k),textAnchor:h,fill:y.includes("url")?c3:y}),S.map(function(oe,ue){var X=oe.words.join(P?"":" ");return be.createElement("tspan",{x:F,dy:ue===0?j:s,key:"".concat(X,"-").concat(ue)},X)}))};function zu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qde(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bP(t){let e,n,r;t.length!==2?(e=zu,n=(s,l)=>zu(t(s),l),r=(s,l)=>t(s)-l):(e=t===zu||t===Qde?t:Jde,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Jde(){return 0}function C7(t){return t===null?NaN:+t}function*Zde(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const epe=bP(zu),h0=epe.right;bP(C7).center;class f3 extends Map{constructor(e,n=rpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(h3(this,e))}has(e){return super.has(h3(this,e))}set(e,n){return super.set(tpe(this,e),n)}delete(e){return super.delete(npe(this,e))}}function h3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function tpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function npe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function rpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ipe(t=zu){if(t===zu)return L7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function L7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ape=Math.sqrt(50),ope=Math.sqrt(10),spe=Math.sqrt(2);function c1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=ape?10:a>=ope?5:a>=spe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?c1(t,e,n*2):[s,l,u]}function z5(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?c1(e,t,n):c1(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function q5(t,e,n){return e=+e,t=+t,n=+n,c1(t,e,n)[2]}function W5(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?q5(e,t,n):q5(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function d3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function p3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function j7(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?L7:ipe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(n,Math.floor(e-u*f/l+d)),v=Math.min(r,Math.floor(e+(l-u)*f/l+d));j7(t,e,h,v,i)}const a=t[e];let o=n,s=r;for(jp(t,n,e),i(t[r],a)>0&&jp(t,n,r);o<s;){for(jp(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?jp(t,n,s):(++s,jp(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function jp(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function lpe(t,e,n){if(t=Float64Array.from(Zde(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return p3(t);if(e>=1)return d3(t);var r,i=(r-1)*e,a=Math.floor(i),o=d3(j7(t,a).subarray(0,a+1)),s=p3(t.subarray(a+1));return o+(s-o)*(i-a)}}function upe(t,e,n=C7){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function cpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function So(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H5=Symbol("implicit");function wP(){var t=new f3,e=[],n=[],r=H5;function i(a){let o=t.get(a);if(o===void 0){if(r!==H5)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new f3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wP(e,n).unknown(r)},So.apply(i,arguments),i}function lg(){var t=wP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,h=i<r,v=h?i:r,b=h?r:i;a=(b-v)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(d-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var w=cpe(d).map(function(y){return v+a*y});return n(h?w.reverse():w)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return lg(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},So.apply(f(),arguments)}function R7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R7(e())},t}function wm(){return R7(lg.apply(null,arguments).paddingInner(1))}function xP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function M7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function d0(){}var ug=.7,f1=1/ug,$h="\\s*([+-]?\\d+)\\s*",cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fpe=/^#([0-9a-f]{3,8})$/,hpe=new RegExp(`^rgb\\(${$h},${$h},${$h}\\)$`),dpe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),ppe=new RegExp(`^rgba\\(${$h},${$h},${$h},${cg}\\)$`),mpe=new RegExp(`^rgba\\(${js},${js},${js},${cg}\\)$`),gpe=new RegExp(`^hsl\\(${cg},${js},${js}\\)$`),vpe=new RegExp(`^hsla\\(${cg},${js},${js},${cg}\\)$`),m3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xP(d0,fg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:g3,formatHex:g3,formatHex8:ype,formatHsl:bpe,formatRgb:v3,toString:v3});function g3(){return this.rgb().formatHex()}function ype(){return this.rgb().formatHex8()}function bpe(){return D7(this).formatHsl()}function v3(){return this.rgb().formatRgb()}function fg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?y3(e):n===3?new pa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hpe.exec(t))?new pa(e[1],e[2],e[3],1):(e=dpe.exec(t))?new pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ppe.exec(t))?dv(e[1],e[2],e[3],e[4]):(e=mpe.exec(t))?dv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gpe.exec(t))?x3(e[1],e[2]/100,e[3]/100,1):(e=vpe.exec(t))?x3(e[1],e[2]/100,e[3]/100,e[4]):m3.hasOwnProperty(t)?y3(m3[t]):t==="transparent"?new pa(NaN,NaN,NaN,0):null}function y3(t){return new pa(t>>16&255,t>>8&255,t&255,1)}function dv(t,e,n,r){return r<=0&&(t=e=n=NaN),new pa(t,e,n,r)}function wpe(t){return t instanceof d0||(t=fg(t)),t?(t=t.rgb(),new pa(t.r,t.g,t.b,t.opacity)):new pa}function G5(t,e,n,r){return arguments.length===1?wpe(t):new pa(t,e,n,r??1)}function pa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xP(pa,G5,M7(d0,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ug:Math.pow(ug,t),new pa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pa(Xc(this.r),Xc(this.g),Xc(this.b),h1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b3,formatHex:b3,formatHex8:xpe,formatRgb:w3,toString:w3}));function b3(){return`#${Vc(this.r)}${Vc(this.g)}${Vc(this.b)}`}function xpe(){return`#${Vc(this.r)}${Vc(this.g)}${Vc(this.b)}${Vc((isNaN(this.opacity)?1:this.opacity)*255)}`}function w3(){const t=h1(this.opacity);return`${t===1?"rgb(":"rgba("}${Xc(this.r)}, ${Xc(this.g)}, ${Xc(this.b)}${t===1?")":`, ${t})`}`}function h1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vc(t){return t=Xc(t),(t<16?"0":"")+t.toString(16)}function x3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Fo(t,e,n,r)}function D7(t){if(t instanceof Fo)return new Fo(t.h,t.s,t.l,t.opacity);if(t instanceof d0||(t=fg(t)),!t)return new Fo;if(t instanceof Fo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Fo(o,s,l,t.opacity)}function _pe(t,e,n,r){return arguments.length===1?D7(t):new Fo(t,e,n,r??1)}function Fo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xP(Fo,_pe,M7(d0,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new Fo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ug:Math.pow(ug,t),new Fo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pa(ex(t>=240?t-240:t+120,i,r),ex(t,i,r),ex(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Fo(_3(this.h),pv(this.s),pv(this.l),h1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=h1(this.opacity);return`${t===1?"hsl(":"hsla("}${_3(this.h)}, ${pv(this.s)*100}%, ${pv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _3(t){return t=(t||0)%360,t<0?t+360:t}function pv(t){return Math.max(0,Math.min(1,t||0))}function ex(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _P=t=>()=>t;function Spe(t,e){return function(n){return t+n*e}}function Ape(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Epe(t){return(t=+t)==1?F7:function(e,n){return n-e?Ape(e,n,t):_P(isNaN(e)?n:e)}}function F7(t,e){var n=e-t;return n?Spe(t,n):_P(isNaN(t)?e:t)}const S3=function t(e){var n=Epe(e);function r(i,a){var o=n((i=G5(i)).r,(a=G5(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=F7(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ppe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Tpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Npe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Hd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function kpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function d1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ipe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var K5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tx=new RegExp(K5.source,"g");function Ope(t){return function(){return t}}function Cpe(t){return function(e){return t(e)+""}}function Lpe(t,e){var n=K5.lastIndex=tx.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=K5.exec(t))&&(i=tx.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:d1(r,i)})),n=tx.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Cpe(l[0].x):Ope(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Hd(t,e){var n=typeof e,r;return e==null||n==="boolean"?_P(e):(n==="number"?d1:n==="string"?(r=fg(e))?(e=r,S3):Lpe:e instanceof fg?S3:e instanceof Date?kpe:Tpe(e)?Ppe:Array.isArray(e)?Npe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ipe:d1)(t,e)}function SP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jpe(t,e){e===void 0&&(e=t,t=Hd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Rpe(t){return function(){return t}}function p1(t){return+t}var A3=[0,1];function Ji(t){return t}function Y5(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Rpe(isNaN(e)?NaN:.5)}function Mpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Dpe(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Y5(i,r),a=n(o,a)):(r=Y5(r,i),a=n(a,o)),function(s){return a(r(s))}}function Fpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Y5(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=h0(t,s,1,r)-1;return a[l](i[l](s))}}function p0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fb(){var t=A3,e=A3,n=Hd,r,i,a,o=Ji,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==Ji&&(o=Mpe(t[0],t[d-1])),s=d>2?Fpe:Dpe,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=s(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(e,t.map(r),d1)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,p1),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=SP,c()},f.clamp=function(d){return arguments.length?(o=d?!0:Ji,c()):o!==Ji},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,c()}}function AP(){return fb()(Ji,Ji)}function $pe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function m1(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function pd(t){return t=m1(Math.abs(t)),t?t[1]:NaN}function Bpe(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Upe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hg(t){if(!(e=Vpe.exec(t)))throw new Error("invalid format: "+t);var e;return new EP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hg.prototype=EP.prototype;function EP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}EP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var g1;function qpe(t,e){var n=m1(t,e);if(!n)return g1=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(g1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+m1(t,Math.max(0,e+a-1))[0]}function E3(t,e){var n=m1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const P3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$pe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>E3(t*100,e),r:E3,s:qpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function T3(t){return t}var N3=Array.prototype.map,k3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Wpe(t){var e=t.grouping===void 0||t.thousands===void 0?T3:Bpe(N3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?T3:Upe(N3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,d){f=hg(f);var h=f.fill,v=f.align,b=f.sign,w=f.symbol,y=f.zero,_=f.width,S=f.comma,N=f.precision,O=f.trim,R=f.type;R==="n"?(S=!0,R="g"):P3[R]||(N===void 0&&(N=12),O=!0,R="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var k=(d&&d.prefix!==void 0?d.prefix:"")+(w==="$"?n:w==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),P=(w==="$"?r:/[%p]/.test(R)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),E=P3[R],F=/[defgprs%]/.test(R);N=N===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function T(j){var M=k,z=P,Q,oe,ue;if(R==="c")z=E(j)+z,j="";else{j=+j;var X=j<0||1/j<0;if(j=isNaN(j)?l:E(Math.abs(j),N),O&&(j=zpe(j)),X&&+j==0&&b!=="+"&&(X=!1),M=(X?b==="("?b:s:b==="-"||b==="("?"":b)+M,z=(R==="s"&&!isNaN(j)&&g1!==void 0?k3[8+g1/3]:"")+z+(X&&b==="("?")":""),F){for(Q=-1,oe=j.length;++Q<oe;)if(ue=j.charCodeAt(Q),48>ue||ue>57){z=(ue===46?i+j.slice(Q+1):j.slice(Q))+z,j=j.slice(0,Q);break}}}S&&!y&&(j=e(j,1/0));var ae=M.length+j.length+z.length,pe=ae<_?new Array(_-ae+1).join(h):"";switch(S&&y&&(j=e(pe+j,pe.length?_-z.length:1/0),pe=""),v){case"<":j=M+j+z+pe;break;case"=":j=M+pe+j+z;break;case"^":j=pe.slice(0,ae=pe.length>>1)+M+j+z+pe.slice(ae);break;default:j=pe+M+j+z;break}return a(j)}return T.toString=function(){return f+""},T}function c(f,d){var h=Math.max(-8,Math.min(8,Math.floor(pd(d)/3)))*3,v=Math.pow(10,-h),b=u((f=hg(f),f.type="f",f),{suffix:k3[8+h/3]});return function(w){return b(v*w)}}return{format:u,formatPrefix:c}}var mv,PP,$7;Hpe({thousands:",",grouping:[3],currency:["$",""]});function Hpe(t){return mv=Wpe(t),PP=mv.format,$7=mv.formatPrefix,mv}function Gpe(t){return Math.max(0,-pd(Math.abs(t)))}function Kpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pd(e)/3)))*3-pd(Math.abs(t)))}function Ype(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,pd(e)-pd(t))+1}function B7(t,e,n,r){var i=W5(t,e,n),a;switch(r=hg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Kpe(i,o))&&(r.precision=a),$7(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ype(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Gpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return PP(r)}function oc(t){var e=t.domain;return t.ticks=function(n){var r=e();return z5(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return B7(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=q5(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function v1(){var t=AP();return t.copy=function(){return p0(t,v1())},So.apply(t,arguments),oc(t)}function U7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,p1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return U7(t).unknown(e)},t=arguments.length?Array.from(t,p1):[0,1],oc(n)}function V7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function I3(t){return Math.log(t)}function O3(t){return Math.exp(t)}function Xpe(t){return-Math.log(-t)}function Qpe(t){return-Math.exp(-t)}function Jpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zpe(t){return t===10?Jpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C3(t){return(e,n)=>-t(-e,n)}function TP(t){const e=t(I3,O3),n=e.domain;let r=10,i,a;function o(){return i=eme(r),a=Zpe(r),n()[0]<0?(i=C3(i),a=C3(a),t(Xpe,Qpe)):t(I3,O3),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),h=i(c),v,b;const w=s==null?10:+s;let y=[];if(!(r%1)&&h-d<w){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(v=1;v<r;++v)if(b=d<0?v/a(-d):v*a(d),!(b<u)){if(b>c)break;y.push(b)}}else for(;d<=h;++d)for(v=r-1;v>=1;--v)if(b=d>0?v/a(-d):v*a(d),!(b<u)){if(b>c)break;y.push(b)}y.length*2<w&&(y=z5(u,c,w))}else y=z5(d,h,Math.min(h-d,w)).map(a);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hg(l)).precision==null&&(l.trim=!0),l=PP(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(V7(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function z7(){const t=TP(fb()).domain([1,10]);return t.copy=()=>p0(t,z7()).base(t.base()),So.apply(t,arguments),t}function L3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NP(t){var e=1,n=t(L3(e),j3(e));return n.constant=function(r){return arguments.length?t(L3(e=+r),j3(e)):e},oc(n)}function q7(){var t=NP(fb());return t.copy=function(){return p0(t,q7()).constant(t.constant())},So.apply(t,arguments)}function R3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nme(t){return t<0?-t*t:t*t}function kP(t){var e=t(Ji,Ji),n=1;function r(){return n===1?t(Ji,Ji):n===.5?t(tme,nme):t(R3(n),R3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},oc(e)}function IP(){var t=kP(fb());return t.copy=function(){return p0(t,IP()).exponent(t.exponent())},So.apply(t,arguments),t}function rme(){return IP.apply(null,arguments).exponent(.5)}function M3(t){return Math.sign(t)*t*t}function ime(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W7(){var t=AP(),e=[0,1],n=!1,r;function i(a){var o=ime(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(M3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,p1)).map(M3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return W7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},So.apply(i,arguments),oc(i)}function H7(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=upe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[h0(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(zu),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return H7().domain(t).range(e).unknown(r)},So.apply(a,arguments)}function G7(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[h0(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return G7().domain([t,e]).range(i).unknown(a)},So.apply(oc(o),arguments)}function K7(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[h0(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return K7().domain(t).range(e).unknown(n)},So.apply(i,arguments)}const nx=new Date,rx=new Date;function Xr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Xr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(nx.setTime(+a),rx.setTime(+o),t(nx),t(rx),Math.floor(n(nx,rx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const y1=Xr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);y1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):y1);y1.range;const vl=1e3,po=vl*60,yl=po*60,jl=yl*24,OP=jl*7,D3=jl*30,ix=jl*365,zc=Xr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getUTCSeconds());zc.range;const CP=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vl)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getMinutes());CP.range;const LP=Xr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCMinutes());LP.range;const jP=Xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vl-t.getMinutes()*po)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getHours());jP.range;const RP=Xr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCHours());RP.range;const m0=Xr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*po)/jl,t=>t.getDate()-1);m0.range;const hb=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jl,t=>t.getUTCDate()-1);hb.range;const Y7=Xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jl,t=>Math.floor(t/jl));Y7.range;function If(t){return Xr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*po)/OP)}const db=If(0),b1=If(1),ame=If(2),ome=If(3),md=If(4),sme=If(5),lme=If(6);db.range;b1.range;ame.range;ome.range;md.range;sme.range;lme.range;function Of(t){return Xr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/OP)}const pb=Of(0),w1=Of(1),ume=Of(2),cme=Of(3),gd=Of(4),fme=Of(5),hme=Of(6);pb.range;w1.range;ume.range;cme.range;gd.range;fme.range;hme.range;const MP=Xr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MP.range;const DP=Xr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DP.range;const Rl=Xr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Rl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Rl.range;const Ml=Xr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ml.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ml.range;function X7(t,e,n,r,i,a){const o=[[zc,1,vl],[zc,5,5*vl],[zc,15,15*vl],[zc,30,30*vl],[a,1,po],[a,5,5*po],[a,15,15*po],[a,30,30*po],[i,1,yl],[i,3,3*yl],[i,6,6*yl],[i,12,12*yl],[r,1,jl],[r,2,2*jl],[n,1,OP],[e,1,D3],[e,3,3*D3],[t,1,ix]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const h=f&&typeof f.range=="function"?f:l(u,c,f),v=h?h.range(u,+c+1):[];return d?v.reverse():v}function l(u,c,f){const d=Math.abs(c-u)/f,h=bP(([,,w])=>w).right(o,d);if(h===o.length)return t.every(W5(u/ix,c/ix,f));if(h===0)return y1.every(Math.max(W5(u,c,f),1));const[v,b]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return v.every(b)}return[s,l]}const[dme,pme]=X7(Ml,DP,pb,Y7,RP,LP),[mme,gme]=X7(Rl,MP,db,m0,jP,CP);function ax(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ox(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Mp(i),c=Dp(i),f=Mp(a),d=Dp(a),h=Mp(o),v=Dp(o),b=Mp(s),w=Dp(s),y=Mp(l),_=Dp(l),S={a:ue,A:X,b:ae,B:pe,c:null,d:z3,e:z3,f:Bme,g:Xme,G:Jme,H:Dme,I:Fme,j:$me,L:Q7,m:Ume,M:Vme,p:he,q:$,Q:H3,s:G3,S:zme,u:qme,U:Wme,V:Hme,w:Gme,W:Kme,x:null,X:null,y:Yme,Y:Qme,Z:Zme,"%":W3},N={a:W,A:te,b:le,B:ee,c:null,d:q3,e:q3,f:rge,g:dge,G:mge,H:ege,I:tge,j:nge,L:Z7,m:ige,M:age,p:ce,q:Se,Q:H3,s:G3,S:oge,u:sge,U:lge,V:uge,w:cge,W:fge,x:null,X:null,y:hge,Y:pge,Z:gge,"%":W3},O={a:F,A:T,b:j,B:M,c:z,d:U3,e:U3,f:Lme,g:B3,G:$3,H:V3,I:V3,j:kme,L:Cme,m:Nme,M:Ime,p:E,q:Tme,Q:Rme,s:Mme,S:Ome,u:_me,U:Sme,V:Ame,w:xme,W:Eme,x:Q,X:oe,y:B3,Y:$3,Z:Pme,"%":jme};S.x=R(n,S),S.X=R(r,S),S.c=R(e,S),N.x=R(n,N),N.X=R(r,N),N.c=R(e,N);function R(de,_e){return function(Te){var Z=[],xe=-1,Ne=0,G=de.length,ke,He,Ge;for(Te instanceof Date||(Te=new Date(+Te));++xe<G;)de.charCodeAt(xe)===37&&(Z.push(de.slice(Ne,xe)),(He=F3[ke=de.charAt(++xe)])!=null?ke=de.charAt(++xe):He=ke==="e"?" ":"0",(Ge=_e[ke])&&(ke=Ge(Te,He)),Z.push(ke),Ne=xe+1);return Z.push(de.slice(Ne,xe)),Z.join("")}}function k(de,_e){return function(Te){var Z=Rp(1900,void 0,1),xe=P(Z,de,Te+="",0),Ne,G;if(xe!=Te.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(_e&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Ne=ox(Rp(Z.y,0,1)),G=Ne.getUTCDay(),Ne=G>4||G===0?w1.ceil(Ne):w1(Ne),Ne=hb.offset(Ne,(Z.V-1)*7),Z.y=Ne.getUTCFullYear(),Z.m=Ne.getUTCMonth(),Z.d=Ne.getUTCDate()+(Z.w+6)%7):(Ne=ax(Rp(Z.y,0,1)),G=Ne.getDay(),Ne=G>4||G===0?b1.ceil(Ne):b1(Ne),Ne=m0.offset(Ne,(Z.V-1)*7),Z.y=Ne.getFullYear(),Z.m=Ne.getMonth(),Z.d=Ne.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),G="Z"in Z?ox(Rp(Z.y,0,1)).getUTCDay():ax(Rp(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(G+5)%7:Z.w+Z.U*7-(G+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,ox(Z)):ax(Z)}}function P(de,_e,Te,Z){for(var xe=0,Ne=_e.length,G=Te.length,ke,He;xe<Ne;){if(Z>=G)return-1;if(ke=_e.charCodeAt(xe++),ke===37){if(ke=_e.charAt(xe++),He=O[ke in F3?_e.charAt(xe++):ke],!He||(Z=He(de,Te,Z))<0)return-1}else if(ke!=Te.charCodeAt(Z++))return-1}return Z}function E(de,_e,Te){var Z=u.exec(_e.slice(Te));return Z?(de.p=c.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function F(de,_e,Te){var Z=h.exec(_e.slice(Te));return Z?(de.w=v.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function T(de,_e,Te){var Z=f.exec(_e.slice(Te));return Z?(de.w=d.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function j(de,_e,Te){var Z=y.exec(_e.slice(Te));return Z?(de.m=_.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function M(de,_e,Te){var Z=b.exec(_e.slice(Te));return Z?(de.m=w.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function z(de,_e,Te){return P(de,e,_e,Te)}function Q(de,_e,Te){return P(de,n,_e,Te)}function oe(de,_e,Te){return P(de,r,_e,Te)}function ue(de){return o[de.getDay()]}function X(de){return a[de.getDay()]}function ae(de){return l[de.getMonth()]}function pe(de){return s[de.getMonth()]}function he(de){return i[+(de.getHours()>=12)]}function $(de){return 1+~~(de.getMonth()/3)}function W(de){return o[de.getUTCDay()]}function te(de){return a[de.getUTCDay()]}function le(de){return l[de.getUTCMonth()]}function ee(de){return s[de.getUTCMonth()]}function ce(de){return i[+(de.getUTCHours()>=12)]}function Se(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var _e=R(de+="",S);return _e.toString=function(){return de},_e},parse:function(de){var _e=k(de+="",!1);return _e.toString=function(){return de},_e},utcFormat:function(de){var _e=R(de+="",N);return _e.toString=function(){return de},_e},utcParse:function(de){var _e=k(de+="",!0);return _e.toString=function(){return de},_e}}}var F3={"-":"",_:" ",0:"0"},si=/^\s*\d+/,yme=/^%/,bme=/[\\^$*+?|[\]().{}]/g;function on(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function wme(t){return t.replace(bme,"\\$&")}function Mp(t){return new RegExp("^(?:"+t.map(wme).join("|")+")","i")}function Dp(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function xme(t,e,n){var r=si.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _me(t,e,n){var r=si.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sme(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ame(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Eme(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $3(t,e,n){var r=si.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function B3(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tme(t,e,n){var r=si.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nme(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function U3(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=si.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function V3(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ime(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ome(t,e,n){var r=si.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cme(t,e,n){var r=si.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lme(t,e,n){var r=si.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jme(t,e,n){var r=yme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Rme(t,e,n){var r=si.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=si.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function z3(t,e){return on(t.getDate(),e,2)}function Dme(t,e){return on(t.getHours(),e,2)}function Fme(t,e){return on(t.getHours()%12||12,e,2)}function $me(t,e){return on(1+m0.count(Rl(t),t),e,3)}function Q7(t,e){return on(t.getMilliseconds(),e,3)}function Bme(t,e){return Q7(t,e)+"000"}function Ume(t,e){return on(t.getMonth()+1,e,2)}function Vme(t,e){return on(t.getMinutes(),e,2)}function zme(t,e){return on(t.getSeconds(),e,2)}function qme(t){var e=t.getDay();return e===0?7:e}function Wme(t,e){return on(db.count(Rl(t)-1,t),e,2)}function J7(t){var e=t.getDay();return e>=4||e===0?md(t):md.ceil(t)}function Hme(t,e){return t=J7(t),on(md.count(Rl(t),t)+(Rl(t).getDay()===4),e,2)}function Gme(t){return t.getDay()}function Kme(t,e){return on(b1.count(Rl(t)-1,t),e,2)}function Yme(t,e){return on(t.getFullYear()%100,e,2)}function Xme(t,e){return t=J7(t),on(t.getFullYear()%100,e,2)}function Qme(t,e){return on(t.getFullYear()%1e4,e,4)}function Jme(t,e){var n=t.getDay();return t=n>=4||n===0?md(t):md.ceil(t),on(t.getFullYear()%1e4,e,4)}function Zme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+on(e/60|0,"0",2)+on(e%60,"0",2)}function q3(t,e){return on(t.getUTCDate(),e,2)}function ege(t,e){return on(t.getUTCHours(),e,2)}function tge(t,e){return on(t.getUTCHours()%12||12,e,2)}function nge(t,e){return on(1+hb.count(Ml(t),t),e,3)}function Z7(t,e){return on(t.getUTCMilliseconds(),e,3)}function rge(t,e){return Z7(t,e)+"000"}function ige(t,e){return on(t.getUTCMonth()+1,e,2)}function age(t,e){return on(t.getUTCMinutes(),e,2)}function oge(t,e){return on(t.getUTCSeconds(),e,2)}function sge(t){var e=t.getUTCDay();return e===0?7:e}function lge(t,e){return on(pb.count(Ml(t)-1,t),e,2)}function eF(t){var e=t.getUTCDay();return e>=4||e===0?gd(t):gd.ceil(t)}function uge(t,e){return t=eF(t),on(gd.count(Ml(t),t)+(Ml(t).getUTCDay()===4),e,2)}function cge(t){return t.getUTCDay()}function fge(t,e){return on(w1.count(Ml(t)-1,t),e,2)}function hge(t,e){return on(t.getUTCFullYear()%100,e,2)}function dge(t,e){return t=eF(t),on(t.getUTCFullYear()%100,e,2)}function pge(t,e){return on(t.getUTCFullYear()%1e4,e,4)}function mge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?gd(t):gd.ceil(t),on(t.getUTCFullYear()%1e4,e,4)}function gge(){return"+0000"}function W3(){return"%"}function H3(t){return+t}function G3(t){return Math.floor(+t/1e3)}var Qf,tF,nF;vge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vge(t){return Qf=vme(t),tF=Qf.format,Qf.parse,nF=Qf.utcFormat,Qf.utcParse,Qf}function yge(t){return new Date(t)}function bge(t){return t instanceof Date?+t:+new Date(+t)}function FP(t,e,n,r,i,a,o,s,l,u){var c=AP(),f=c.invert,d=c.domain,h=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),_=u("%b %d"),S=u("%B"),N=u("%Y");function O(R){return(l(R)<R?h:s(R)<R?v:o(R)<R?b:a(R)<R?w:r(R)<R?i(R)<R?y:_:n(R)<R?S:N)(R)}return c.invert=function(R){return new Date(f(R))},c.domain=function(R){return arguments.length?d(Array.from(R,bge)):d().map(yge)},c.ticks=function(R){var k=d();return t(k[0],k[k.length-1],R??10)},c.tickFormat=function(R,k){return k==null?O:u(k)},c.nice=function(R){var k=d();return(!R||typeof R.range!="function")&&(R=e(k[0],k[k.length-1],R??10)),R?d(V7(k,R)):c},c.copy=function(){return p0(c,FP(t,e,n,r,i,a,o,s,l,u))},c}function wge(){return So.apply(FP(mme,gme,Rl,MP,db,m0,jP,CP,zc,tF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xge(){return So.apply(FP(dme,pme,Ml,DP,pb,hb,RP,LP,zc,nF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function mb(){var t=0,e=1,n,r,i,a,o=Ji,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var h,v;return arguments.length?([h,v]=d,o=f(h,v),u):[o(0),o(1)]}}return u.range=c(Hd),u.rangeRound=c(SP),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function sc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rF(){var t=oc(mb()(Ji));return t.copy=function(){return sc(t,rF())},Vl.apply(t,arguments)}function iF(){var t=TP(mb()).domain([1,10]);return t.copy=function(){return sc(t,iF()).base(t.base())},Vl.apply(t,arguments)}function aF(){var t=NP(mb());return t.copy=function(){return sc(t,aF()).constant(t.constant())},Vl.apply(t,arguments)}function $P(){var t=kP(mb());return t.copy=function(){return sc(t,$P()).exponent(t.exponent())},Vl.apply(t,arguments)}function _ge(){return $P.apply(null,arguments).exponent(.5)}function oF(){var t=[],e=Ji;function n(r){if(r!=null&&!isNaN(r=+r))return e((h0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>lpe(t,a/r))},n.copy=function(){return oF(e).domain(t)},Vl.apply(n,arguments)}function gb(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Ji,c,f=!1,d;function h(b){return isNaN(b=+b)?d:(b=.5+((b=+c(b))-a)*(r*b<r*a?s:l),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function v(b){return function(w){var y,_,S;return arguments.length?([y,_,S]=w,u=jpe(b,[y,_,S]),h):[u(0),u(.5),u(1)]}}return h.range=v(Hd),h.rangeRound=v(SP),h.unknown=function(b){return arguments.length?(d=b,h):d},function(b){return c=b,i=b(t),a=b(e),o=b(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function sF(){var t=oc(gb()(Ji));return t.copy=function(){return sc(t,sF())},Vl.apply(t,arguments)}function lF(){var t=TP(gb()).domain([.1,1,10]);return t.copy=function(){return sc(t,lF()).base(t.base())},Vl.apply(t,arguments)}function uF(){var t=NP(gb());return t.copy=function(){return sc(t,uF()).constant(t.constant())},Vl.apply(t,arguments)}function BP(){var t=kP(gb());return t.copy=function(){return sc(t,BP()).exponent(t.exponent())},Vl.apply(t,arguments)}function Sge(){return BP.apply(null,arguments).exponent(.5)}const K3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lg,scaleDiverging:sF,scaleDivergingLog:lF,scaleDivergingPow:BP,scaleDivergingSqrt:Sge,scaleDivergingSymlog:uF,scaleIdentity:U7,scaleImplicit:H5,scaleLinear:v1,scaleLog:z7,scaleOrdinal:wP,scalePoint:wm,scalePow:IP,scaleQuantile:H7,scaleQuantize:G7,scaleRadial:W7,scaleSequential:rF,scaleSequentialLog:iF,scaleSequentialPow:$P,scaleSequentialQuantile:oF,scaleSequentialSqrt:_ge,scaleSequentialSymlog:aF,scaleSqrt:rme,scaleSymlog:q7,scaleThreshold:K7,scaleTime:wge,scaleUtc:xge,tickFormat:B7},Symbol.toStringTag,{value:"Module"}));var Age=Fd;function Ege(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Age(o):n(o,s)))var s=o,l=a}return l}var cF=Ege;function Pge(t,e){return t>e}var Tge=Pge,Nge=cF,kge=Tge,Ige=Wd;function Oge(t){return t&&t.length?Nge(t,Ige,kge):void 0}var Cge=Oge;const vb=jn(Cge);function Lge(t,e){return t<e}var jge=Lge,Rge=cF,Mge=jge,Dge=Wd;function Fge(t){return t&&t.length?Rge(t,Dge,Mge):void 0}var $ge=Fge;const yb=jn($ge);var Bge=eP,Uge=ac,Vge=b7,zge=ya;function qge(t,e){var n=zge(t)?Bge:Vge;return n(t,Uge(e))}var Wge=qge,Hge=v7,Gge=Wge;function Kge(t,e){return Hge(Gge(t,e),1)}var Yge=Kge;const Xge=jn(Yge);var Qge=mP;function Jge(t,e){return Qge(t,e)}var Zge=Jge;const UP=jn(Zge);var Gd=1e9,e0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zP,er=!0,wo="[DecimalError] ",Qc=wo+"Invalid argument: ",VP=wo+"Exponent out of range: ",Kd=Math.floor,Cc=Math.pow,t0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,ni=1e7,Wn=7,fF=9007199254740991,x1=Kd(fF/Wn),Je={};Je.absoluteValue=Je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Je.comparedTo=Je.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Je.dividedBy=Je.div=function(t){return El(this,new this.constructor(t))};Je.dividedToIntegerBy=Je.idiv=function(t){var e=this,n=e.constructor;return Ln(El(e,new n(t),0,1),n.precision)};Je.equals=Je.eq=function(t){return!this.cmp(t)};Je.exponent=function(){return Fr(this)};Je.greaterThan=Je.gt=function(t){return this.cmp(t)>0};Je.greaterThanOrEqualTo=Je.gte=function(t){return this.cmp(t)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(t){return this.cmp(t)<0};Je.lessThanOrEqualTo=Je.lte=function(t){return this.cmp(t)<1};Je.logarithm=Je.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Da))throw Error(wo+"NaN");if(n.s<1)throw Error(wo+(n.s?"NaN":"-Infinity"));return n.eq(Da)?new r(0):(er=!1,e=El(dg(n,a),dg(t,a),a),er=!0,Ln(e,i))};Je.minus=Je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pF(e,t):hF(e,(t.s=-t.s,t))};Je.modulo=Je.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(wo+"NaN");return n.s?(er=!1,e=El(n,t,0,1).times(t),er=!0,n.minus(e)):Ln(new r(n),i)};Je.naturalExponential=Je.exp=function(){return dF(this)};Je.naturalLogarithm=Je.ln=function(){return dg(this)};Je.negated=Je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Je.plus=Je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hF(e,t):pF(e,(t.s=-t.s,t))};Je.precision=Je.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qc+t);if(e=Fr(i)+1,r=i.d.length-1,n=r*Wn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Je.squareRoot=Je.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(wo+"NaN")}for(t=Fr(s),er=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=As(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Kd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(El(s,a,o+2)).times(.5),As(a.d).slice(0,o)===(e=As(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ln(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return er=!0,Ln(r,n)};Je.times=Je.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,h=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=h.length,l<u&&(a=d,d=h,h=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+h[r]*d[i-r-1]+e,a[i--]=s%ni|0,e=s/ni|0;a[i]=(a[i]+e)%ni|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,er?Ln(t,f.precision):t};Je.toDecimalPlaces=Je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fs(t,0,Gd),e===void 0?e=r.rounding:Fs(e,0,8),Ln(n,t+Fr(n)+1,e))};Je.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=mf(r,!0):(Fs(t,0,Gd),e===void 0?e=i.rounding:Fs(e,0,8),r=Ln(new i(r),t+1,e),n=mf(r,!0,t+1)),n};Je.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?mf(i):(Fs(t,0,Gd),e===void 0?e=a.rounding:Fs(e,0,8),r=Ln(new a(i),t+Fr(i)+1,e),n=mf(r.abs(),!1,t+Fr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Je.toInteger=Je.toint=function(){var t=this,e=t.constructor;return Ln(new e(t),Fr(t)+1,e.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Da);if(s=new l(s),!s.s){if(t.s<1)throw Error(wo+"Infinity");return s}if(s.eq(Da))return s;if(r=l.precision,t.eq(Da))return Ln(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=fF){for(i=new l(Da),e=Math.ceil(r/Wn+4),er=!1;n%2&&(i=i.times(s),X3(i.d,e)),n=Kd(n/2),n!==0;)s=s.times(s),X3(s.d,e);return er=!0,t.s<0?new l(Da).div(i):Ln(i,r)}}else if(a<0)throw Error(wo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,er=!1,i=t.times(dg(s,r+u)),er=!0,i=dF(i),i.s=a,i};Je.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Fr(i),r=mf(i,n<=a.toExpNeg||n>=a.toExpPos)):(Fs(t,1,Gd),e===void 0?e=a.rounding:Fs(e,0,8),i=Ln(new a(i),t,e),n=Fr(i),r=mf(i,t<=n||n<=a.toExpNeg,t)),r};Je.toSignificantDigits=Je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fs(t,1,Gd),e===void 0?e=r.rounding:Fs(e,0,8)),Ln(new r(n),t,e)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Fr(t),n=t.constructor;return mf(t,e<=n.toExpNeg||e>=n.toExpPos)};function hF(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),er?Ln(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Wn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/ni|0,l[a]%=ni;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,er?Ln(e,f):e}function Fs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qc+t)}function As(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Wn-r.length,n&&(a+=yu(n)),a+=r;o=t[e],r=o+"",n=Wn-r.length,n&&(a+=yu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var El=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%ni|0,o=a/ni|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ni+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,d,h,v,b,w,y,_,S,N,O,R,k,P,E=r.constructor,F=r.s==i.s?1:-1,T=r.d,j=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(wo+"Division by zero");for(l=r.e-i.e,k=j.length,O=T.length,h=new E(F),v=h.d=[],u=0;j[u]==(T[u]||0);)++u;if(j[u]>(T[u]||0)&&--l,a==null?_=a=E.precision:o?_=a+(Fr(r)-Fr(i))+1:_=a,_<0)return new E(0);if(_=_/Wn+2|0,u=0,k==1)for(c=0,j=j[0],_++;(u<O||c)&&_--;u++)S=c*ni+(T[u]||0),v[u]=S/j|0,c=S%j|0;else{for(c=ni/(j[0]+1)|0,c>1&&(j=t(j,c),T=t(T,c),k=j.length,O=T.length),N=k,b=T.slice(0,k),w=b.length;w<k;)b[w++]=0;P=j.slice(),P.unshift(0),R=j[0],j[1]>=ni/2&&++R;do c=0,s=e(j,b,k,w),s<0?(y=b[0],k!=w&&(y=y*ni+(b[1]||0)),c=y/R|0,c>1?(c>=ni&&(c=ni-1),f=t(j,c),d=f.length,w=b.length,s=e(f,b,d,w),s==1&&(c--,n(f,k<d?P:j,d))):(c==0&&(s=c=1),f=j.slice()),d=f.length,d<w&&f.unshift(0),n(b,f,w),s==-1&&(w=b.length,s=e(j,b,k,w),s<1&&(c++,n(b,k<w?P:j,w))),w=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[w++]=T[N]||0:(b=[T[N]],w=1);while((N++<O||b[0]!==void 0)&&_--)}return v[0]||v.shift(),h.e=l,Ln(h,o?a+Fr(h)+1:a)}}();function dF(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Fr(t)>16)throw Error(VP+Fr(t));if(!t.s)return new c(Da);for(er=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Cc(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Da),c.precision=s;;){if(i=Ln(i.times(t),s),n=n.times(++l),o=a.plus(El(i,n,s)),As(o.d).slice(0,s)===As(a.d).slice(0,s)){for(;u--;)a=Ln(a.times(a),s);return c.precision=f,e==null?(er=!0,Ln(a,f)):a}a=o}}function Fr(t){for(var e=t.e*Wn,n=t.d[0];n>=10;n/=10)e++;return e}function sx(t,e,n){if(e>t.LN10.sd())throw er=!0,n&&(t.precision=n),Error(wo+"LN10 precision limit exceeded");return Ln(new t(t.LN10),e)}function yu(t){for(var e="";t--;)e+="0";return e}function dg(t,e){var n,r,i,a,o,s,l,u,c,f=1,d=10,h=t,v=h.d,b=h.constructor,w=b.precision;if(h.s<1)throw Error(wo+(h.s?"NaN":"-Infinity"));if(h.eq(Da))return new b(0);if(e==null?(er=!1,u=w):u=e,h.eq(10))return e==null&&(er=!0),sx(b,u);if(u+=d,b.precision=u,n=As(v),r=n.charAt(0),a=Fr(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=As(h.d),r=n.charAt(0),f++;a=Fr(h),r>1?(h=new b("0."+n),a++):h=new b(r+"."+n.slice(1))}else return l=sx(b,u+2,w).times(a+""),h=dg(new b(r+"."+n.slice(1)),u-d).plus(l),b.precision=w,e==null?(er=!0,Ln(h,w)):h;for(s=o=h=El(h.minus(Da),h.plus(Da),u),c=Ln(h.times(h),u),i=3;;){if(o=Ln(o.times(c),u),l=s.plus(El(o,new b(i),u)),As(l.d).slice(0,u)===As(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(sx(b,u+2,w).times(a+""))),s=El(s,new b(f),u),b.precision=w,e==null?(er=!0,Ln(s,w)):s;s=l,i+=2}}function Y3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Kd(n/Wn),t.d=[],r=(n+1)%Wn,n<0&&(r+=Wn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Wn;r<i;)t.d.push(+e.slice(r,r+=Wn));e=e.slice(r),r=Wn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),er&&(t.e>x1||t.e<-x1))throw Error(VP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ln(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Wn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Wn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Wn,i=r-Wn+o}if(n!==void 0&&(a=Cc(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Cc(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Fr(t),f.length=1,e=e-a-1,f[0]=Cc(10,(Wn-e%Wn)%Wn),t.e=Kd(-e/Wn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Cc(10,Wn-r),f[c]=i>0?(u/Cc(10,o-i)%Cc(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==ni&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=ni)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(er&&(t.e>x1||t.e<-x1))throw Error(VP+Fr(t));return t}function pF(t,e){var n,r,i,a,o,s,l,u,c,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),er?Ln(e,h):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(h/Wn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ni-1;--l[a],l[i]+=ni}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,er?Ln(e,h):e):new d(0)}function mf(t,e,n){var r,i=Fr(t),a=As(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+yu(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+yu(-i-1)+a,n&&(r=n-o)>0&&(a+=yu(r))):i>=o?(a+=yu(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+yu(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=yu(r))),t.s<0?"-"+a:a}function X3(t,e){if(t.length>e)return t.length=e,!0}function mF(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Qc+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Y3(o,a.toString())}else if(typeof a!="string")throw Error(Qc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,t0e.test(a))Y3(o,a);else throw Error(Qc+a)}if(i.prototype=Je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mF,i.config=i.set=n0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function n0e(t){if(!t||typeof t!="object")throw Error(wo+"Object expected");var e,n,r,i=["precision",1,Gd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Kd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qc+n+": "+r);return this}var zP=mF(e0e);Da=new zP(1);const Tn=zP;function r0e(t){return s0e(t)||o0e(t)||a0e(t)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(t,e){if(t){if(typeof t=="string")return X5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X5(t,e)}}function o0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function s0e(t){if(Array.isArray(t))return X5(t)}function X5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l0e=function(e){return e},gF={},vF=function(e){return e===gF},Q3=function(e){return function n(){return arguments.length===0||arguments.length===1&&vF(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},u0e=function t(e,n){return e===1?n:Q3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==gF}).length;return o>=e?n.apply(void 0,i):t(e-o,Q3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return vF(f)?l.shift():f});return n.apply(void 0,r0e(c).concat(l))}))})},bb=function(e){return u0e(e.length,e)},Q5=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},c0e=bb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),f0e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return l0e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},J5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yF=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function h0e(t){var e;return t===0?e=1:e=Math.floor(new Tn(t).abs().log(10).toNumber())+1,e}function d0e(t,e,n){for(var r=new Tn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var p0e=bb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),m0e=bb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),g0e=bb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const wb={rangeStep:d0e,getDigitCount:h0e,interpolateNumber:p0e,uninterpolateNumber:m0e,uninterpolateTruncation:g0e};function Z5(t){return b0e(t)||y0e(t)||bF(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function b0e(t){if(Array.isArray(t))return eS(t)}function pg(t,e){return _0e(t)||x0e(t,e)||bF(t,e)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(t,e){if(t){if(typeof t=="string")return eS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(t,e)}}function eS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function _0e(t){if(Array.isArray(t))return t}function wF(t){var e=pg(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function xF(t,e,n){if(t.lte(0))return new Tn(0);var r=wb.getDigitCount(t.toNumber()),i=new Tn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Tn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Tn(Math.ceil(l))}function S0e(t,e,n){var r=1,i=new Tn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Tn(10).pow(wb.getDigitCount(t)-1),i=new Tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Tn(Math.floor(t)))}else t===0?i=new Tn(Math.floor((e-1)/2)):n||(i=new Tn(Math.floor(t)));var o=Math.floor((e-1)/2),s=f0e(c0e(function(l){return i.add(new Tn(l-o).mul(r)).toNumber()}),Q5);return s(0,e)}function _F(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Tn(0),tickMin:new Tn(0),tickMax:new Tn(0)};var a=xF(new Tn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Tn(0):(o=new Tn(t).add(e).div(2),o=o.sub(new Tn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Tn(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?_F(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Tn(s).mul(a)),tickMax:o.add(new Tn(l).mul(a))})}function A0e(t){var e=pg(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=wF([n,r]),l=pg(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Z5(Q5(0,i-1).map(function(){return 1/0}))):[].concat(Z5(Q5(0,i-1).map(function(){return-1/0})),[c]);return n>r?J5(f):f}if(u===c)return S0e(u,i,a);var d=_F(u,c,o,a),h=d.step,v=d.tickMin,b=d.tickMax,w=wb.rangeStep(v,b.add(new Tn(.1).mul(h)),h);return n>r?J5(w):w}function E0e(t,e){var n=pg(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=wF([r,i]),s=pg(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=xF(new Tn(u).sub(l).div(c-1),a,0),d=[].concat(Z5(wb.rangeStep(new Tn(l),new Tn(u).sub(new Tn(.99).mul(f)),f)),[u]);return r>i?J5(d):d}var P0e=yF(A0e),T0e=yF(E0e),N0e="Invariant failed";function gf(t,e){throw new Error(N0e)}var k0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1.apply(this,arguments)}function I0e(t,e){return j0e(t)||L0e(t,e)||C0e(t,e)||O0e()}function O0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(t,e){if(t){if(typeof t=="string")return J3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J3(t,e)}}function J3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function j0e(t){if(Array.isArray(t))return t}function R0e(t,e){if(t==null)return{};var n=M0e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function $0e(t,e,n){return e&&F0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B0e(t,e,n){return e=S1(e),U0e(t,SF()?Reflect.construct(e,n||[],S1(t).constructor):e.apply(t,n))}function U0e(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V0e(t)}function V0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S1(t)}function z0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tS(t,e)}function AF(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=q0e(t,"string");return vd(e)=="symbol"?e:e+""}function q0e(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xb=function(t){function e(){return D0e(this,e),B0e(this,e,arguments)}return z0e(e,t),$0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=R0e(r,k0e),h=un(d,!1);this.props.direction==="x"&&c.type!=="number"&&gf();var v=l.map(function(b){var w=u(b,s),y=w.x,_=w.y,S=w.value,N=w.errorVal;if(!N)return null;var O=[],R,k;if(Array.isArray(N)){var P=I0e(N,2);R=P[0],k=P[1]}else R=k=N;if(a==="vertical"){var E=c.scale,F=_+i,T=F+o,j=F-o,M=E(S-R),z=E(S+k);O.push({x1:z,y1:T,x2:z,y2:j}),O.push({x1:M,y1:F,x2:z,y2:F}),O.push({x1:M,y1:T,x2:M,y2:j})}else if(a==="horizontal"){var Q=f.scale,oe=y+i,ue=oe-o,X=oe+o,ae=Q(S-R),pe=Q(S+k);O.push({x1:ue,y1:pe,x2:X,y2:pe}),O.push({x1:oe,y1:ae,x2:oe,y2:pe}),O.push({x1:ue,y1:ae,x2:X,y2:ae})}return be.createElement(ai,_1({className:"recharts-errorBar",key:"bar-".concat(O.map(function(he){return"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))},h),O.map(function(he){return be.createElement("line",_1({},he,{key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)}))}))});return be.createElement(ai,{className:"recharts-errorBars"},v)}}])}(be.Component);AF(xb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AF(xb,"displayName","ErrorBar");function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function Z3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(n),!0).forEach(function(r){W0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W0e(t,e,n){return e=H0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H0e(t){var e=G0e(t,"string");return mg(e)=="symbol"?e:e+""}function G0e(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PF=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ma(n,Fh);if(!o)return null;var s=Fh.defaultProps,l=s!==void 0?Ec(Ec({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,h=f.props,v=h.sectors||h.data||[];return c.concat(v.map(function(b){return{type:o.props.iconType||d.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,h=d!==void 0?Ec(Ec({},d),f.props):{},v=h.dataKey,b=h.name,w=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:qP(f),value:b||v,payload:h}}),Ec(Ec(Ec({},l),Fh.getWithHeight(o,i)),{},{payload:u,item:o})};function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function eO(t){return Q0e(t)||X0e(t)||Y0e(t)||K0e()}function K0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y0e(t,e){if(t){if(typeof t=="string")return nS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nS(t,e)}}function X0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q0e(t){if(Array.isArray(t))return nS(t)}function nS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bh(t,e,n){return e=J0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J0e(t){var e=Z0e(t,"string");return gg(e)=="symbol"?e:e+""}function Z0e(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $s(t,e,n){return fn(t)||fn(e)?n:Kr(e)?go(t,e,n):Vt(e)?e(t):n}function xm(t,e,n,r){var i=Xge(t,function(s){return $s(s,e)});if(n==="number"){var a=i.filter(function(s){return qe(s)||parseFloat(s)});return a.length?[yb(a),vb(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!fn(s)}):i;return o.map(function(s){return Kr(s)||s instanceof Date?s:""})}var eve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if(Bo(f-c)!==Bo(d-f)){var v=[];if(Bo(d-f)===Bo(l[1]-l[0])){h=d;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{h=c;var w=d+l[1]-l[0];v[0]=Math.min(f,(w+f)/2),v[1]=Math.max(f,(w+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var _=Math.min(c,d),S=Math.max(c,d);if(e>(_+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var N=0;N<s;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===s-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},qP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},tve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),d=0,h=f.length;d<h;d++){var v=c[f[d]],b=v.items,w=v.cateAxisId,y=b.filter(function(k){return Sl(k.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,S=_!==void 0?gr(gr({},_),y[0].props):y[0].props,N=S.barSize,O=S[w];o[O]||(o[O]=[]);var R=fn(N)?n:N;o[O].push({item:y[0],stackList:y.slice(1),barSize:fn(R)?void 0:pf(R,r,0)})}}return o},nve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=pf(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var d=!1,h=i/l,v=o.reduce(function(N,O){return N+O.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&h>0&&(d=!0,h*=.9,v=l*h);var b=(i-v)/2>>0,w={offset:b-u,size:0};c=o.reduce(function(N,O){var R={item:O.item,position:{offset:w.offset+w.size+u,size:d?h:O.barSize}},k=[].concat(eO(N),[R]);return w=k[k.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){k.push({item:P,position:w})}),k},f)}else{var y=pf(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var S=s===+s?Math.min(_,s):_;c=o.reduce(function(N,O,R){var k=[].concat(eO(N),[{item:O.item,position:{offset:y+(_+u)*R+(_-S)/2,size:S}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){k.push({item:P,position:k[k.length-1].position})}),k},f)}return c},rve=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=PF({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,h=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&h!=="center"&&qe(e[h]))return gr(gr({},e),{},Bh({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&v!=="middle"&&qe(e[v]))return gr(gr({},e),{},Bh({},v,e[v]+(d||0)))}return e},ive=function(e,n,r){return fn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TF=function(e,n,r,i,a){var o=n.props.children,s=zo(o,xb).filter(function(u){return ive(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=$s(c,r);if(fn(f))return u;var d=Array.isArray(f)?[yb(f),vb(f)]:[f,f],h=l.reduce(function(v,b){var w=$s(c,b,0),y=d[0]-Math.abs(Array.isArray(w)?w[0]:w),_=d[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},ave=function(e,n,r,i,a){var o=n.map(function(s){return TF(e,s,r,a,i)}).filter(function(s){return!fn(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},NF=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&TF(e,l,u,i)||xm(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},kF=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},IF=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},bl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Bo(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=a?a.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!u0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:a?a[f]:f,index:d,offset:u}})},lx=new WeakMap,gv=function(e,n){if(typeof n!="function")return e;lx.has(e)||lx.set(e,new WeakMap);var r=lx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},ove=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:lg(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:v1(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wm(),realScaleType:"point"}:a==="category"?{scale:lg(),realScaleType:"band"}:{scale:v1(),realScaleType:"linear"};if(df(i)){var l="scale".concat(ib(i));return{scale:(K3[l]||wm)(),realScaleType:K3[l]?l:"point"}}return Vt(i)?{scale:i}:{scale:wm(),realScaleType:"point"}},nO=1e-4,sve=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-nO,o=Math.max(i[0],i[1])+nO,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},lve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uve=function(e,n){if(!n||n.length!==2||!qe(n[0])||!qe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!qe(e[0])||e[0]<r)&&(a[0]=r),(!qe(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},cve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=u0(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},fve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=u0(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},hve={sign:cve,expand:Pie,none:ud,silhouette:Tie,wiggle:Nie,positive:fve},dve=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=hve[r],o=Eie().keys(i).value(function(s,l){return+$s(s,l,0)}).order(T5).offset(a);return o(e)},pve=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,d){var h,v=(h=d.type)!==null&&h!==void 0&&h.defaultProps?gr(gr({},d.type.defaultProps),d.props):d.props,b=v.stackId,w=v.hide;if(w)return f;var y=v[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Kr(b)){var S=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(d),_.hasStack=!0,_.stackGroups[b]=S}else _.stackGroups[rb("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return gr(gr({},f),{},Bh({},y,_))},l),c={};return Object.keys(u).reduce(function(f,d){var h=u[d];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,w){var y=h.stackGroups[w];return gr(gr({},b),{},Bh({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:dve(e,y.items,a)}))},v)}return gr(gr({},f),{},Bh({},d,h))},c)},mve=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=P0e(u,a,s);return e.domain([yb(c),vb(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),d=T0e(f,a,s);return{niceTicks:d}}return null},rO=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=$s(o,n.dataKey,n.domain[s]);return fn(l)?null:n.scale(l)-a/2+i},gve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},vve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Kr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},yve=function(e){return e.reduce(function(n,r){return[yb(r.concat([n[0]]).filter(qe)),vb(r.concat([n[1]]).filter(qe))]},[1/0,-1/0])},OF=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=yve(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rS=function(e,n,r){if(Vt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(qe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(iO.test(e[0])){var a=+iO.exec(e[0])[1];i[0]=n[0]-a}else Vt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(qe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(aO.test(e[1])){var o=+aO.exec(e[1])[1];i[1]=n[1]+o}else Vt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},A1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=vP(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},oO=function(e,n,r){return!e||!e.length||UP(e,go(r,"type.defaultProps.domain"))?n:e},CF=function(e,n){var r=e.type.defaultProps?gr(gr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return gr(gr({},un(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:qP(e),value:$s(n,i),type:l,payload:n,chartType:u,hide:c})};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return e=wve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=xve(t,"string");return vg(e)=="symbol"?e:e+""}function xve(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E1=Math.PI/180,_ve=function(e){return e*180/Math.PI},vi=function(e,n,r,i){return{x:e+Math.cos(-E1*i)*r,y:n+Math.sin(-E1*i)*r}},Sve=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Ave=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Sve({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:_ve(u),angleInRadian:u}},Eve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Pve=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},uO=function(e,n){var r=e.x,i=e.y,a=Ave({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Eve(n),f=c.startAngle,d=c.endAngle,h=s,v;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;v=h>=d&&h<=f}return v?lO(lO({},n),{},{radius:o,angle:Pve(h,n)}):null};function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}var Tve=["offset"];function Nve(t){return Cve(t)||Ove(t)||Ive(t)||kve()}function kve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ive(t,e){if(t){if(typeof t=="string")return iS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(t,e)}}function Ove(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cve(t){if(Array.isArray(t))return iS(t)}function iS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lve(t,e){if(t==null)return{};var n=jve(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Rve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rve(t,e,n){return e=Mve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mve(t){var e=Dve(t,"string");return yg(e)=="symbol"?e:e+""}function Dve(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}var Fve=function(e){var n=e.value,r=e.formatter,i=fn(e.children)?n:e.children;return Vt(r)?r(i):i},$ve=function(e,n){var r=Bo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Bve=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,v=l.endAngle,b=l.clockWise,w=(f+d)/2,y=$ve(h,v),_=y>=0?1:-1,S,N;i==="insideStart"?(S=h+_*o,N=b):i==="insideEnd"?(S=v-_*o,N=!b):i==="end"&&(S=v+_*o,N=b),N=y<=0?N:!N;var O=vi(u,c,w,S),R=vi(u,c,w,S+(N?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(R.x,",").concat(R.y),P=fn(e.id)?rb("recharts-radial-line-"):e.id;return be.createElement("text",bg({},r,{dominantBaseline:"central",className:cn("recharts-radial-bar-label",s)}),be.createElement("defs",null,be.createElement("path",{id:P,d:k})),be.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Uve=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,d=(c+f)/2;if(i==="outside"){var h=vi(o,s,u+r,d),v=h.x,b=h.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=vi(o,s,w,d),_=y.x,S=y.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Vve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,d=f*i,h=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,w=b*i,y=b>0?"end":"start",_=b>0?"start":"end";if(a==="top"){var S={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return Wr(Wr({},S),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var N={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:v};return Wr(Wr({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var O={x:s-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Wr(Wr({},O),r?{width:Math.max(O.x-r.x,0),height:c}:{})}if(a==="right"){var R={x:s+u+w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Wr(Wr({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:c}:{})}var k=r?{width:u,height:c}:{};return a==="insideLeft"?Wr({x:s+w,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},k):a==="insideRight"?Wr({x:s+u-w,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideTop"?Wr({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?Wr({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:h},k):a==="insideTopLeft"?Wr({x:s+w,y:l+d,textAnchor:_,verticalAnchor:v},k):a==="insideTopRight"?Wr({x:s+u-w,y:l+d,textAnchor:y,verticalAnchor:v},k):a==="insideBottomLeft"?Wr({x:s+w,y:l+c-d,textAnchor:_,verticalAnchor:h},k):a==="insideBottomRight"?Wr({x:s+u-w,y:l+c-d,textAnchor:y,verticalAnchor:h},k):$d(a)&&(qe(a.x)||Uc(a.x))&&(qe(a.y)||Uc(a.y))?Wr({x:s+pf(a.x,u),y:l+pf(a.y,c),textAnchor:"end",verticalAnchor:"end"},k):Wr({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},zve=function(e){return"cx"in e&&qe(e.cx)};function Fi(t){var e=t.offset,n=e===void 0?5:e,r=Lve(t,Tve),i=Wr({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!a||fn(s)&&fn(l)&&!se.isValidElement(u)&&!Vt(u))return null;if(se.isValidElement(u))return se.cloneElement(u,i);var h;if(Vt(u)){if(h=se.createElement(u,i),se.isValidElement(h))return h}else h=Fve(i);var v=zve(a),b=un(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Bve(i,h,b);var w=v?Uve(i):Vve(i);return be.createElement(u1,bg({className:cn("recharts-label",f)},b,w,{breakAll:d}),h)}Fi.displayName="Label";var LF=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,h=e.top,v=e.left,b=e.width,w=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(qe(b)&&qe(w)){if(qe(f)&&qe(d))return{x:f,y:d,width:b,height:w};if(qe(h)&&qe(v))return{x:h,y:v,width:b,height:w}}return qe(f)&&qe(d)?{x:f,y:d,width:0,height:0}:qe(n)&&qe(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},qve=function(e,n){return e?e===!0?be.createElement(Fi,{key:"label-implicit",viewBox:n}):Kr(e)?be.createElement(Fi,{key:"label-implicit",viewBox:n,value:e}):se.isValidElement(e)?e.type===Fi?se.cloneElement(e,{key:"label-implicit",viewBox:n}):be.createElement(Fi,{key:"label-implicit",content:e,viewBox:n}):Vt(e)?be.createElement(Fi,{key:"label-implicit",content:e,viewBox:n}):$d(e)?be.createElement(Fi,bg({viewBox:n},e,{key:"label-implicit"})):null:null},Wve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=LF(e),o=zo(i,Fi).map(function(l,u){return se.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=qve(e.label,n||a);return[s].concat(Nve(o))};Fi.parseViewBox=LF;Fi.renderCallByParent=Wve;function Hve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Gve=Hve;const Kve=jn(Gve);function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var Yve=["valueAccessor"],Xve=["data","dataKey","clockWise","id","textBreakAll"];function Qve(t){return tye(t)||eye(t)||Zve(t)||Jve()}function Jve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zve(t,e){if(t){if(typeof t=="string")return aS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aS(t,e)}}function eye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tye(t){if(Array.isArray(t))return aS(t)}function aS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P1.apply(this,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){nye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nye(t,e,n){return e=rye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rye(t){var e=iye(t,"string");return wg(e)=="symbol"?e:e+""}function iye(t,e){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dO(t,e){if(t==null)return{};var n=aye(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oye=function(e){return Array.isArray(e.value)?Kve(e.value):e.value};function Jc(t){var e=t.valueAccessor,n=e===void 0?oye:e,r=dO(t,Yve),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=dO(r,Xve);return!i||!i.length?null:be.createElement(ai,{className:"recharts-label-list"},i.map(function(c,f){var d=fn(a)?n(c,f):$s(c&&c.payload,a),h=fn(s)?{}:{id:"".concat(s,"-").concat(f)};return be.createElement(Fi,P1({},un(c,!0),u,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Fi.parseViewBox(fn(o)?c:hO(hO({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Jc.displayName="LabelList";function sye(t,e){return t?t===!0?be.createElement(Jc,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Vt(t)?be.createElement(Jc,{key:"labelList-implicit",data:e,content:t}):$d(t)?be.createElement(Jc,P1({data:e},t,{key:"labelList-implicit"})):null:null}function lye(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=zo(r,Jc).map(function(o,s){return se.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=sye(t.label,e);return[a].concat(Qve(i))}Jc.renderCallByParent=lye;function xg(t){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(t)}function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(this,arguments)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){uye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uye(t,e,n){return e=cye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=fye(t,"string");return xg(e)=="symbol"?e:e+""}function fye(t,e){if(xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hye=function(e,n){var r=Bo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},vv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/E1,d=u?a:a+o*f,h=vi(n,r,c,d),v=vi(n,r,i,d),b=u?a-o*f:a,w=vi(n,r,c*Math.cos(f*E1),b);return{center:h,circleTangency:v,lineTangency:w,theta:f}},jF=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=hye(o,s),u=o+l,c=vi(n,r,a,o),f=vi(n,r,a,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=vi(n,r,i,o),v=vi(n,r,i,u);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},dye=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Bo(c-u),d=vv({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),h=d.circleTangency,v=d.lineTangency,b=d.theta,w=vv({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),y=w.circleTangency,_=w.lineTangency,S=w.theta,N=l?Math.abs(u-c):Math.abs(u-c)-b-S;if(N<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jF({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var R=vv({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=R.circleTangency,P=R.lineTangency,E=R.theta,F=vv({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=F.circleTangency,j=F.lineTangency,M=F.theta,z=l?Math.abs(u-c):Math.abs(u-c)-E-M;if(z<0&&o===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},pye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RF=function(e){var n=mO(mO({},pye),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(o<a||c===f)return null;var h=cn("recharts-sector",d),v=o-a,b=pf(s,v,0,!0),w;return b>0&&Math.abs(c-f)<360?w=dye({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):w=jF({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),be.createElement("path",oS({},un(n,!0),{className:h,d:w,role:"img"}))};function _g(t){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(t)}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(this,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){mye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mye(t,e,n){return e=gye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gye(t){var e=vye(t,"string");return _g(e)=="symbol"?e:e+""}function vye(t,e){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yO={curveBasisClosed:pie,curveBasisOpen:mie,curveBasis:die,curveBumpX:Zre,curveBumpY:eie,curveLinearClosed:gie,curveLinear:ob,curveMonotoneX:vie,curveMonotoneY:yie,curveNatural:bie,curveStep:wie,curveStepAfter:_ie,curveStepBefore:xie},yv=function(e){return e.x===+e.x&&e.y===+e.y},Fp=function(e){return e.x},$p=function(e){return e.y},yye=function(e,n){if(Vt(e))return e;var r="curve".concat(ib(e));return(r==="curveMonotone"||r==="curveBump")&&n?yO["".concat(r).concat(n==="vertical"?"Y":"X")]:yO[r]||ob},bye=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=yye(r,s),f=u?a.filter(function(b){return yv(b)}):a,d;if(Array.isArray(o)){var h=u?o.filter(function(b){return yv(b)}):o,v=f.map(function(b,w){return vO(vO({},b),{},{base:h[w]})});return s==="vertical"?d=lv().y($p).x1(Fp).x0(function(b){return b.base.x}):d=lv().x(Fp).y1($p).y0(function(b){return b.base.y}),d.defined(yv).curve(c),d(v)}return s==="vertical"&&qe(o)?d=lv().y($p).x1(Fp).x0(o):qe(o)?d=lv().x(Fp).y1($p).y0(o):d=M8().x(Fp).y($p),d.defined(yv).curve(c),d(f)},bO=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?bye(e):i;return se.createElement("path",sS({},un(e,!1),Ky(e),{className:cn("recharts-curve",n),d:o,ref:a}))},MF={exports:{}},wye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xye=wye,_ye=xye;function DF(){}function FF(){}FF.resetWarningCache=DF;var Sye=function(){function t(r,i,a,o,s,l){if(l!==_ye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FF,resetWarningCache:DF};return n.PropTypes=n,n};MF.exports=Sye();var Aye=MF.exports;const mn=jn(Aye),{getOwnPropertyNames:Eye,getOwnPropertySymbols:Pye}=Object,{hasOwnProperty:Tye}=Object.prototype;function ux(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function bv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:a}=i,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);const l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Nye(t){return t!=null?t[Symbol.toStringTag]:void 0}function wO(t){return Eye(t).concat(Pye(t))}const kye=Object.hasOwn||((t,e)=>Tye.call(t,e));function Cf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Iye="__v",Oye="__o",Cye="_owner",{getOwnPropertyDescriptor:xO,keys:_O}=Object;function Lye(t,e){return t.byteLength===e.byteLength&&T1(new Uint8Array(t),new Uint8Array(e))}function jye(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Rye(t,e){return t.byteLength===e.byteLength&&T1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Mye(t,e){return Cf(t.getTime(),e.getTime())}function Dye(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Fye(t,e){return t===e}function SO(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.entries();let o,s,l=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=o.value,h=s.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const $ye=Cf;function Bye(t,e,n){const r=_O(t);let i=r.length;if(_O(e).length!==i)return!1;for(;i-- >0;)if(!$F(t,e,n,r[i]))return!1;return!0}function Bp(t,e,n){const r=wO(t);let i=r.length;if(wO(e).length!==i)return!1;let a,o,s;for(;i-- >0;)if(a=r[i],!$F(t,e,n,a)||(o=xO(t,a),s=xO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Uye(t,e){return Cf(t.valueOf(),e.valueOf())}function Vye(t,e){return t.source===e.source&&t.flags===e.flags}function AO(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),a=t.values();let o,s;for(;(o=a.next())&&!o.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function T1(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function zye(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $F(t,e,n,r){return(r===Cye||r===Oye||r===Iye)&&(t.$$typeof||e.$$typeof)?!0:kye(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const qye="[object ArrayBuffer]",Wye="[object Arguments]",Hye="[object Boolean]",Gye="[object DataView]",Kye="[object Date]",Yye="[object Error]",Xye="[object Map]",Qye="[object Number]",Jye="[object Object]",Zye="[object RegExp]",e1e="[object Set]",t1e="[object String]",n1e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},r1e="[object URL]",i1e=Object.prototype.toString;function a1e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:h,unknownTagComparators:v}){return function(w,y,_){if(w===y)return!0;if(w==null||y==null)return!1;const S=typeof w;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?s(w,y,_):S==="function"?a(w,y,_):!1;const N=w.constructor;if(N!==y.constructor)return!1;if(N===Object)return l(w,y,_);if(Array.isArray(w))return e(w,y,_);if(N===Date)return r(w,y,_);if(N===RegExp)return c(w,y,_);if(N===Map)return o(w,y,_);if(N===Set)return f(w,y,_);const O=i1e.call(w);if(O===Kye)return r(w,y,_);if(O===Zye)return c(w,y,_);if(O===Xye)return o(w,y,_);if(O===e1e)return f(w,y,_);if(O===Jye)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,_);if(O===r1e)return h(w,y,_);if(O===Yye)return i(w,y,_);if(O===Wye)return l(w,y,_);if(n1e[O])return d(w,y,_);if(O===qye)return t(w,y,_);if(O===Gye)return n(w,y,_);if(O===Hye||O===Qye||O===t1e)return u(w,y,_);if(v){let R=v[O];if(!R){const k=Nye(w);k&&(R=v[k])}if(R)return R(w,y,_)}return!1}}function o1e({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Lye,areArraysEqual:n?Bp:jye,areDataViewsEqual:Rye,areDatesEqual:Mye,areErrorsEqual:Dye,areFunctionsEqual:Fye,areMapsEqual:n?ux(SO,Bp):SO,areNumbersEqual:$ye,areObjectsEqual:n?Bp:Bye,arePrimitiveWrappersEqual:Uye,areRegExpsEqual:Vye,areSetsEqual:n?ux(AO,Bp):AO,areTypedArraysEqual:n?ux(T1,Bp):T1,areUrlsEqual:zye,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=bv(r.areArraysEqual),a=bv(r.areMapsEqual),o=bv(r.areObjectsEqual),s=bv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:s})}return r}function s1e(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function l1e({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,a)}}const u1e=lc();lc({strict:!0});lc({circular:!0});lc({circular:!0,strict:!0});lc({createInternalComparator:()=>Cf});lc({strict:!0,createInternalComparator:()=>Cf});lc({circular:!0,createInternalComparator:()=>Cf});lc({circular:!0,createInternalComparator:()=>Cf,strict:!0});function lc(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,a=o1e(t),o=a1e(a),s=n?n(o):s1e(o);return l1e({circular:e,comparator:o,createState:r,equals:s,strict:i})}function c1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function EO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):c1e(i)};requestAnimationFrame(r)}function lS(t){"@babel/helpers - typeof";return lS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lS(t)}function f1e(t){return m1e(t)||p1e(t)||d1e(t)||h1e()}function h1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1e(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m1e(t){if(Array.isArray(t))return t}function g1e(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=f1e(o),l=s[0],u=s.slice(1);if(typeof l=="number"){EO(i.bind(null,u),l);return}i(l),EO(i.bind(null,u));return}lS(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){BF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BF(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=y1e(t,"string");return Sg(e)==="symbol"?e:String(e)}function y1e(t,e){if(Sg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},w1e=function(e){return e},x1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_m=function(e,n){return Object.keys(n).reduce(function(r,i){return NO(NO({},r),{},BF({},i,e(i,n[i])))},{})},kO=function(e,n,r){return e.map(function(i){return"".concat(x1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _1e(t,e){return E1e(t)||A1e(t,e)||UF(t,e)||S1e()}function S1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function E1e(t){if(Array.isArray(t))return t}function P1e(t){return k1e(t)||N1e(t)||UF(t)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(t,e){if(t){if(typeof t=="string")return uS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(t,e)}}function N1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k1e(t){if(Array.isArray(t))return uS(t)}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N1=1e-4,VF=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},zF=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},IO=function(e,n){return function(r){var i=VF(e,n);return zF(i,r)}},I1e=function(e,n){return function(r){var i=VF(e,n),a=[].concat(P1e(i.map(function(o,s){return o*s}).slice(1)),[0]);return zF(a,r)}},OO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),c=_1e(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=IO(i,o),d=IO(a,s),h=I1e(i,o),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var _=y>1?1:y,S=_,N=0;N<8;++N){var O=f(S)-_,R=h(S);if(Math.abs(O-_)<N1||R<N1)return d(S);S=v(S-O/R)}return d(S)};return b.isStepper=!1,b},O1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,d){var h=-(c-f)*r,v=d*a,b=d+(h-v)*s/1e3,w=d*s/1e3+c;return Math.abs(w-f)<N1&&Math.abs(b)<N1?[f,0]:[w,b]};return l.isStepper=!0,l.dt=s,l},C1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OO(i);case"spring":return O1e();default:if(i.split("(")[0]==="cubic-bezier")return OO(i)}return typeof i=="function"?i:null};function Ag(t){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(t)}function CO(t){return R1e(t)||j1e(t)||qF(t)||L1e()}function L1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R1e(t){if(Array.isArray(t))return fS(t)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){cS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cS(t,e,n){return e=M1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M1e(t){var e=D1e(t,"string");return Ag(e)==="symbol"?e:String(e)}function D1e(t,e){if(Ag(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1e(t,e){return U1e(t)||B1e(t,e)||qF(t,e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qF(t,e){if(t){if(typeof t=="string")return fS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fS(t,e)}}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function U1e(t){if(Array.isArray(t))return t}var k1=function(e,n,r){return e+(n-e)*r},hS=function(e){var n=e.from,r=e.to;return n!==r},V1e=function t(e,n,r){var i=_m(function(a,o){if(hS(o)){var s=e(o.from,o.to,o.velocity),l=F1e(s,2),u=l[0],c=l[1];return di(di({},o),{},{from:u,velocity:c})}return o},n);return r<1?_m(function(a,o){return hS(o)?di(di({},o),{},{velocity:k1(o.velocity,i[a].velocity,r),from:k1(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const z1e=function(t,e,n,r,i){var a=b1e(t,e),o=a.reduce(function(w,y){return di(di({},w),{},cS({},y,[t[y],e[y]]))},{}),s=a.reduce(function(w,y){return di(di({},w),{},cS({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return _m(function(y,_){return _.from},s)},h=function(){return!Object.values(s).filter(hS).length},v=function(y){u||(u=y);var _=y-u,S=_/n.dt;s=V1e(n,s,S),i(di(di(di({},t),e),d())),u=y,h()||(l=requestAnimationFrame(f))},b=function(y){c||(c=y);var _=(y-c)/r,S=_m(function(O,R){return k1.apply(void 0,CO(R).concat([n(_)]))},o);if(i(di(di(di({},t),e),S)),_<1)l=requestAnimationFrame(f);else{var N=_m(function(O,R){return k1.apply(void 0,CO(R).concat([n(1)]))},o);i(di(di(di({},t),e),N))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var q1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W1e(t,e){if(t==null)return{};var n=H1e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cx(t){return X1e(t)||Y1e(t)||K1e(t)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K1e(t,e){if(t){if(typeof t=="string")return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dS(t,e)}}function Y1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X1e(t){if(Array.isArray(t))return dS(t)}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){rm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rm(t,e,n){return e=WF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WF(r.key),r)}}function Z1e(t,e,n){return e&&J1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WF(t){var e=e2e(t,"string");return yd(e)==="symbol"?e:String(e)}function e2e(t,e){if(yd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pS(t,e)}function n2e(t){var e=r2e();return function(){var r=I1(t),i;if(e){var a=I1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return mS(this,i)}}function mS(t,e){if(e&&(yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gS(t)}function gS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I1(t)}var Xu=function(t){t2e(n,t);var e=n2e(n);function n(r,i){var a;Q1e(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,d=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(gS(a)),a.changeStyle=a.changeStyle.bind(gS(a)),!s||h<=0)return a.state={style:{}},typeof d=="function"&&(a.state={style:c}),mS(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof d=="function")return a.state={style:u},mS(a);a.state={style:l?rm({},l,u):u}}else a.state={style:{}};return a}return Z1e(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,d=this.state.style;if(s){if(!o){var h={style:l?rm({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(h);return}if(!(u1e(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&d){var w={style:l?rm({},l,b):b};(l&&d[l]!==b||!l&&d!==b)&&this.setState(w)}this.runAnimation(Co(Co({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=z1e(o,s,C1e(u),l,this.changeStyle),v=function(){a.stopJSAnimation=h()};this.manager.start([d,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,d=f===void 0?0:f,h=function(b,w,y){if(y===0)return b;var _=w.duration,S=w.easing,N=S===void 0?"ease":S,O=w.style,R=w.properties,k=w.onAnimationEnd,P=y>0?o[y-1]:w,E=R||Object.keys(O);if(typeof N=="function"||N==="spring")return[].concat(cx(b),[a.runJSAnimation.bind(a,{from:P.style,to:O,duration:_,easing:N}),_]);var F=kO(E,_,N),T=Co(Co(Co({},P.style),O),{},{transition:F});return[].concat(cx(b),[T,_,k]).filter(w1e)};return this.manager.start([l].concat(cx(o.reduce(h,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=g1e());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var b=s?rm({},s,l):l,w=kO(Object.keys(b),o,u);v.start([c,a,Co(Co({},b),{},{transition:w}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=W1e(i,q1e),u=se.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(h){var v=h.props,b=v.style,w=b===void 0?{}:b,y=v.className,_=se.cloneElement(h,Co(Co({},l),{},{style:Co(Co({},w),c),className:y}));return _};return u===1?f(se.Children.only(a)):be.createElement("div",null,se.Children.map(a,function(d){return f(d)}))}}]),n}(se.PureComponent);Xu.displayName="Animate";Xu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xu.propTypes={from:mn.oneOfType([mn.object,mn.string]),to:mn.oneOfType([mn.object,mn.string]),attributeName:mn.string,duration:mn.number,begin:mn.number,easing:mn.oneOfType([mn.string,mn.func]),steps:mn.arrayOf(mn.shape({duration:mn.number.isRequired,style:mn.object.isRequired,easing:mn.oneOfType([mn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mn.func]),properties:mn.arrayOf("string"),onAnimationEnd:mn.func})),children:mn.oneOfType([mn.node,mn.func]),isActive:mn.bool,canBegin:mn.bool,onAnimationEnd:mn.func,shouldReAnimate:mn.bool,onAnimationStart:mn.func,onAnimationReStart:mn.func};function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function i2e(t,e){return l2e(t)||s2e(t,e)||o2e(t,e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2e(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function l2e(t){if(Array.isArray(t))return t}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){u2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u2e(t,e,n){return e=c2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c2e(t){var e=f2e(t,"string");return Eg(e)=="symbol"?e:e+""}function f2e(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=a[d]>o?o:a[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},h2e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),d=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},d2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WP=function(e){var n=DO(DO({},d2e),e),r=se.useRef(),i=se.useState(-1),a=i2e(i,2),o=a[0],s=a[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&s(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,h=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var S=cn("recharts-rectangle",h);return _?be.createElement(Xu,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(N){var O=N.width,R=N.height,k=N.x,P=N.y;return be.createElement(Xu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:y,easing:v},be.createElement("path",O1({},un(n,!0),{className:S,d:FO(k,P,O,R,d),ref:r})))}):be.createElement("path",O1({},un(n,!0),{className:S,d:FO(l,u,c,f,d)}))};function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(this,arguments)}var HF=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=cn("recharts-dot",a);return n===+n&&r===+r&&i===+i?se.createElement("circle",vS({},un(e,!1),Ky(e),{className:o,cx:n,cy:r,r:i})):null};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}var p2e=["x","y","top","left","width","height","className"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m2e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){g2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g2e(t,e,n){return e=v2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v2e(t){var e=y2e(t,"string");return Pg(e)=="symbol"?e:e+""}function y2e(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b2e(t,e){if(t==null)return{};var n=w2e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var x2e=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},_2e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,h=d===void 0?0:d,v=e.className,b=b2e(e,p2e),w=m2e({x:r,y:a,top:s,left:u,width:f,height:h},b);return!qe(r)||!qe(a)||!qe(f)||!qe(h)||!qe(s)||!qe(u)?null:be.createElement("path",yS({},un(w,!0),{className:cn("recharts-cross",v),d:x2e(r,a,f,h,s,u)}))},S2e=o7,A2e=S2e(Object.getPrototypeOf,Object),E2e=A2e,P2e=Bl,T2e=E2e,N2e=Ul,k2e="[object Object]",I2e=Function.prototype,O2e=Object.prototype,GF=I2e.toString,C2e=O2e.hasOwnProperty,L2e=GF.call(Object);function j2e(t){if(!N2e(t)||P2e(t)!=k2e)return!1;var e=T2e(t);if(e===null)return!0;var n=C2e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GF.call(n)==L2e}var R2e=j2e;const M2e=jn(R2e);var D2e=Bl,F2e=Ul,$2e="[object Boolean]";function B2e(t){return t===!0||t===!1||F2e(t)&&D2e(t)==$2e}var U2e=B2e;const V2e=jn(U2e);function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C1.apply(this,arguments)}function z2e(t,e){return G2e(t)||H2e(t,e)||W2e(t,e)||q2e()}function q2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W2e(t,e){if(t){if(typeof t=="string")return BO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(t,e)}}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function G2e(t){if(Array.isArray(t))return t}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){K2e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K2e(t,e,n){return e=Y2e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y2e(t){var e=X2e(t,"string");return Tg(e)=="symbol"?e:e+""}function X2e(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zO=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Q2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J2e=function(e){var n=VO(VO({},Q2e),e),r=se.useRef(),i=se.useState(-1),a=z2e(i,2),o=a[0],s=a[1];se.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,v=n.animationEasing,b=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=cn("recharts-trapezoid",h);return y?be.createElement(Xu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:b,animationEasing:v,isActive:y},function(S){var N=S.upperWidth,O=S.lowerWidth,R=S.height,k=S.x,P=S.y;return be.createElement(Xu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},be.createElement("path",C1({},un(n,!0),{className:_,d:zO(k,P,N,O,R),ref:r})))}):be.createElement("g",null,be.createElement("path",C1({},un(n,!0),{className:_,d:zO(l,u,c,f,d)})))},Z2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function ebe(t,e){if(t==null)return{};var n=tbe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e,n){return e=rbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rbe(t){var e=ibe(t,"string");return Ng(e)=="symbol"?e:e+""}function ibe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function abe(t,e){return L1(L1({},e),t)}function obe(t,e){return t==="symbols"}function WO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return be.createElement(WP,n);case"trapezoid":return be.createElement(J2e,n);case"sector":return be.createElement(RF,n);case"symbols":if(obe(e))return be.createElement(uP,n);break;default:return null}}function sbe(t){return se.isValidElement(t)?t.props:t}function lbe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?abe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=ebe(t,Z2e),u;if(se.isValidElement(e))u=se.cloneElement(e,L1(L1({},l),sbe(e)));else if(Vt(e))u=e(l);else if(M2e(e)&&!V2e(e)){var c=i(e,l);u=be.createElement(WO,{shapeType:n,elementProps:c})}else{var f=l;u=be.createElement(WO,{shapeType:n,elementProps:f})}return s?be.createElement(ai,{className:o},u):u}function _b(t,e){return e!=null&&"trapezoids"in t.props}function Sb(t,e){return e!=null&&"sectors"in t.props}function kg(t,e){return e!=null&&"points"in t.props}function ube(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function cbe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function fbe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function hbe(t,e){var n;return _b(t,e)?n=ube:Sb(t,e)?n=cbe:kg(t,e)&&(n=fbe),n}function dbe(t,e){var n;return _b(t,e)?n="trapezoids":Sb(t,e)?n="sectors":kg(t,e)&&(n="points"),n}function pbe(t,e){if(_b(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Sb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kg(t,e)?e.payload:{}}function mbe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=dbe(n,e),a=pbe(n,e),o=r.filter(function(l,u){var c=UP(a,l),f=n.props[i].filter(function(v){var b=hbe(n,e);return b(v,e)}),d=n.props[i].indexOf(f[f.length-1]),h=u===d;return c&&h}),s=r.indexOf(o[o.length-1]);return s}var gbe=Math.ceil,vbe=Math.max;function ybe(t,e,n,r){for(var i=-1,a=vbe(gbe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var bbe=ybe,wbe=E7,HO=1/0,xbe=17976931348623157e292;function _be(t){if(!t)return t===0?t:0;if(t=wbe(t),t===HO||t===-HO){var e=t<0?-1:1;return e*xbe}return t===t?t:0}var KF=_be,Sbe=bbe,Abe=cb,fx=KF;function Ebe(t){return function(e,n,r){return r&&typeof r!="number"&&Abe(e,n,r)&&(n=r=void 0),e=fx(e),n===void 0?(n=e,e=0):n=fx(n),r=r===void 0?e<n?1:-1:fx(r),Sbe(e,n,r,t)}}var Pbe=Ebe,Tbe=Pbe,Nbe=Tbe(),kbe=Nbe;const j1=jn(kbe);function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){YF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YF(t,e,n){return e=Ibe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ibe(t){var e=Obe(t,"string");return Ig(e)=="symbol"?e:e+""}function Obe(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cbe=["Webkit","Moz","O","ms"],Lbe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Cbe.reduce(function(a,o){return KO(KO({},a),{},YF({},o+r,n))},{});return i[e]=n,i};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R1.apply(this,arguments)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QF(r.key),r)}}function Rbe(t,e,n){return e&&XO(t.prototype,e),n&&XO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mbe(t,e,n){return e=M1(e),Dbe(t,XF()?Reflect.construct(e,n||[],M1(t).constructor):e.apply(t,n))}function Dbe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbe(t)}function Fbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M1(t)}function $be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bS(t,e)}function ja(t,e,n){return e=QF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QF(t){var e=Bbe(t,"string");return bd(e)=="symbol"?e:e+""}function Bbe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ube=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=wm().domain(j1(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},QO=function(e){return e.changedTouches&&!!e.changedTouches.length},wd=function(t){function e(n){var r;return jbe(this,e),r=Mbe(this,e,[n]),ja(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ja(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ja(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ja(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ja(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ja(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ja(r,"handleSlideDragStart",function(i){var a=QO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return $be(e,t),Rbe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),d=Math.max(i,a),h=e.getIndexInRange(o,f),v=e.getIndexInRange(o,d);return{startIndex:h-h%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=$s(a[r],s,r);return Vt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,v=l.onChange,b=r.pageX-a;b>0?b=Math.min(b,u+c-f-s,u+c-f-o):b<0&&(b=Math.max(b,u-o,u-s));var w=this.getIndex({startX:o+b,endX:s+b});(w.startIndex!==d||w.endIndex!==h)&&v&&v(w),this.setState({startX:o+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=QO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,d=c.width,h=c.travellerWidth,v=c.onChange,b=c.gap,w=c.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-a;_>0?_=Math.min(_,f+d-h-u):_<0&&(_=Math.max(_,f-u)),y[o]=u+_;var S=this.getIndex(y),N=S.startIndex,O=S.endIndex,R=function(){var P=w.length-1;return o==="startX"&&(s>l?N%b===0:O%b===0)||s<l&&O===P||o==="endX"&&(s>l?O%b===0:N%b===0)||s>l&&O===P};this.setState(ja(ja({},o,u+_),"brushMoveStartX",r.pageX),function(){v&&R()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=u||i==="endX"&&h<=l||this.setState(ja({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return be.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=se.Children.only(u);return f?be.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,v=l.data,b=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),_=hx(hx({},un(this.props,!1)),{},{x:y,y:u,width:c,height:f}),S=h||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return be.createElement(ai,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),s.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,h=5,v={pointerEvents:"none",fill:u};return be.createElement(ai,{className:"recharts-brush-texts"},be.createElement(u1,R1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:o+s/2},v),this.getTextOfTick(i)),be.createElement(u1,R1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:o+s/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,v=d.endX,b=d.isTextActive,w=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!qe(s)||!qe(l)||!qe(u)||!qe(c)||u<=0||c<=0)return null;var S=cn("recharts-brush",a),N=be.Children.count(o)===1,O=Lbe("userSelect","none");return be.createElement(ai,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),be.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return be.isValidElement(r)?a=be.cloneElement(r,i):Vt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return hx({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Ube({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(se.PureComponent);ja(wd,"displayName","Brush");ja(wd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vbe=gP;function zbe(t,e){var n;return Vbe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var qbe=zbe,Wbe=J8,Hbe=ac,Gbe=qbe,Kbe=ya,Ybe=cb;function Xbe(t,e,n){var r=Kbe(t)?Wbe:Gbe;return n&&Ybe(t,e,n)&&(e=void 0),r(t,Hbe(e))}var Qbe=Xbe;const Jbe=jn(Qbe);var Rs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},JO=w7;function Zbe(t,e,n){e=="__proto__"&&JO?JO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ewe=Zbe,twe=ewe,nwe=y7,rwe=ac;function iwe(t,e){var n={};return e=rwe(e),nwe(t,function(r,i,a){twe(n,i,e(r,i,a))}),n}var awe=iwe;const owe=jn(awe);function swe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var lwe=swe,uwe=gP;function cwe(t,e){var n=!0;return uwe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var fwe=cwe,hwe=lwe,dwe=fwe,pwe=ac,mwe=ya,gwe=cb;function vwe(t,e,n){var r=mwe(t)?hwe:dwe;return n&&gwe(t,e,n)&&(e=void 0),r(t,pwe(e))}var ywe=vwe;const JF=jn(ywe);var bwe=["x","y"];function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){wwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wwe(t,e,n){return e=xwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xwe(t){var e=_we(t,"string");return Og(e)=="symbol"?e:e+""}function _we(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Swe(t,e){if(t==null)return{};var n=Awe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Awe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ewe(t,e){var n=t.x,r=t.y,i=Swe(t,bwe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Up(Up(Up(Up(Up({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function eC(t){return be.createElement(lbe,wS({shapeType:"rectangle",propTransformer:Ewe,activeClassName:"recharts-active-bar"},t))}var Pwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=qe(r)||$ne(r);return a?e(r,i):(a||gf(),n)}},Twe=["value","background"],ZF;function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Nwe(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(this,arguments)}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){Iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function Owe(t,e,n){return e&&nC(t.prototype,e),n&&nC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cwe(t,e,n){return e=F1(e),Lwe(t,e$()?Reflect.construct(e,n||[],F1(t).constructor):e.apply(t,n))}function Lwe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(t)}function jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F1(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xS(t,e)}function Iu(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=Mwe(t,"string");return xd(e)=="symbol"?e:e+""}function Mwe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lf=function(t){function e(){var n;Iwe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Cwe(this,e,[].concat(i)),Iu(n,"state",{isAnimationFinished:!1}),Iu(n,"id",rb("recharts-bar-")),Iu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Iu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Rwe(e,t),Owe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=un(this.props,!1);return r&&r.map(function(f,d){var h=d===l,v=h?u:o,b=jr(jr(jr({},c),f),{},{isActive:h,option:v,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return be.createElement(ai,D1({className:"recharts-bar-rectangle"},Yy(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),be.createElement(eC,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return be.createElement(Xu,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,b=a.map(function(w,y){var _=d&&d[y];if(_){var S=Yf(_.x,w.x),N=Yf(_.y,w.y),O=Yf(_.width,w.width),R=Yf(_.height,w.height);return jr(jr({},w),{},{x:S(v),y:N(v),width:O(v),height:R(v)})}if(o==="horizontal"){var k=Yf(0,w.height),P=k(v);return jr(jr({},w),{},{y:w.y+w.height-P,height:P})}var E=Yf(0,w.width),F=E(v);return jr(jr({},w),{},{width:F})});return be.createElement(ai,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!UP(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=un(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,d=Nwe(u,Twe);if(!f)return null;var h=jr(jr(jr(jr(jr({},d),{},{fill:"#eee"},f),l),Yy(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return be.createElement(eC,D1({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=zo(c,xb);if(!f)return null;var d=u==="vertical"?o[0].height/2:o[0].width/2,h=function(w,y){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:$s(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return be.createElement(ai,v,f.map(function(b){return be.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,h=r.isAnimationActive,v=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,y=cn("recharts-bar",o),_=s&&s.allowDataOverflow,S=l&&l.allowDataOverflow,N=_||S,O=fn(b)?this.id:b;return be.createElement(ai,{className:y},_||S?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(O)},be.createElement("rect",{x:_?u:u-f/2,y:S?c:c-d/2,width:_?f:f*2,height:S?d:d*2}))):null,be.createElement(ai,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(O,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,O),(!h||w)&&Jc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(se.PureComponent);ZF=Lf;Iu(Lf,"displayName","Bar");Iu(Lf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!f0.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Iu(Lf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,h=lve(r,n);if(!h)return null;var v=e.layout,b=n.type.defaultProps,w=b!==void 0?jr(jr({},b),n.props):n.props,y=w.dataKey,_=w.children,S=w.minPointSize,N=v==="horizontal"?o:a,O=u?N.scale.domain():null,R=gve({numericAxis:N}),k=zo(_,T7),P=f.map(function(E,F){var T,j,M,z,Q,oe;u?T=uve(u[c+F],O):(T=$s(E,y),Array.isArray(T)||(T=[R,T]));var ue=Pwe(S,ZF.defaultProps.minPointSize)(T[1],F);if(v==="horizontal"){var X,ae=[o.scale(T[0]),o.scale(T[1])],pe=ae[0],he=ae[1];j=rO({axis:a,ticks:s,bandSize:i,offset:h.offset,entry:E,index:F}),M=(X=he??pe)!==null&&X!==void 0?X:void 0,z=h.size;var $=pe-he;if(Q=Number.isNaN($)?0:$,oe={x:j,y:o.y,width:z,height:o.height},Math.abs(ue)>0&&Math.abs(Q)<Math.abs(ue)){var W=Bo(Q||ue)*(Math.abs(ue)-Math.abs(Q));M-=W,Q+=W}}else{var te=[a.scale(T[0]),a.scale(T[1])],le=te[0],ee=te[1];if(j=le,M=rO({axis:o,ticks:l,bandSize:i,offset:h.offset,entry:E,index:F}),z=ee-le,Q=h.size,oe={x:a.x,y:M,width:a.width,height:Q},Math.abs(ue)>0&&Math.abs(z)<Math.abs(ue)){var ce=Bo(z||ue)*(Math.abs(ue)-Math.abs(z));z+=ce}}return jr(jr(jr({},E),{},{x:j,y:M,width:z,height:Q,value:u?T:T[1],payload:E,background:oe},k&&k[F]&&k[F].props),{},{tooltipPayload:[CF(n,E)],tooltipPosition:{x:j+z/2,y:M+Q/2}})});return jr({data:P,layout:v},d)});function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function Dwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function Fwe(t,e,n){return e&&rC(t.prototype,e),n&&rC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){Ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ab(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=$we(t,"string");return Cg(e)=="symbol"?e:e+""}function $we(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bwe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Ma(u,Lf);return c.reduce(function(h,v){var b=n[v],w=b.orientation,y=b.domain,_=b.padding,S=_===void 0?{}:_,N=b.mirror,O=b.reversed,R="".concat(w).concat(N?"Mirror":""),k,P,E,F,T;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var j=y[1]-y[0],M=1/0,z=b.categoricalDomain.sort(Vne);if(z.forEach(function(te,le){le>0&&(M=Math.min((te||0)-(z[le-1]||0),M))}),Number.isFinite(M)){var Q=M/j,oe=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=Q*oe/2),b.padding==="no-gap"){var ue=pf(e.barCategoryGap,Q*oe),X=Q*oe/2;k=X-ue-(X-ue)/oe*ue}}}i==="xAxis"?P=[r.left+(S.left||0)+(k||0),r.left+r.width-(S.right||0)-(k||0)]:i==="yAxis"?P=l==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(k||0),r.top+r.height-(S.bottom||0)-(k||0)]:P=b.range,O&&(P=[P[1],P[0]]);var ae=ove(b,a,d),pe=ae.scale,he=ae.realScaleType;pe.domain(y).range(P),sve(pe);var $=mve(pe,Mo(Mo({},b),{},{realScaleType:he}));i==="xAxis"?(T=w==="top"&&!N||w==="bottom"&&N,E=r.left,F=f[R]-T*b.height):i==="yAxis"&&(T=w==="left"&&!N||w==="right"&&N,E=f[R]-T*b.width,F=r.top);var W=Mo(Mo(Mo({},b),$),{},{realScaleType:he,x:E,y:F,scale:pe,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return W.bandSize=A1(W,$),!b.hide&&i==="xAxis"?f[R]+=(T?-1:1)*W.height:b.hide||(f[R]+=(T?-1:1)*W.width),Mo(Mo({},h),{},Ab({},v,W))},{})},r$=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Uwe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return r$({x:n,y:r},{x:i,y:a})},i$=function(){function t(e){Dwe(this,t),this.scale=e}return Fwe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ab(i$,"EPS",1e-4);var HP=function(e){var n=Object.keys(e).reduce(function(r,i){return Mo(Mo({},r),{},Ab({},i,i$.create(e[i])))},{});return Mo(Mo({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return owe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return JF(i,function(a,o){return n[o].isInRange(a)})}})};function Vwe(t){return(t%180+180)%180}var zwe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vwe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},qwe=ac,Wwe=c0,Hwe=lb;function Gwe(t){return function(e,n,r){var i=Object(e);if(!Wwe(e)){var a=qwe(n);e=Hwe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Kwe=Gwe,Ywe=KF;function Xwe(t){var e=Ywe(t),n=e%1;return e===e?n?e-n:e:0}var Qwe=Xwe,Jwe=h7,Zwe=ac,exe=Qwe,txe=Math.max;function nxe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:exe(n);return i<0&&(i=txe(r+i,0)),Jwe(t,Zwe(e),i)}var rxe=nxe,ixe=Kwe,axe=rxe,oxe=ixe(axe),sxe=oxe;const lxe=jn(sxe);var uxe=Wte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GP=se.createContext(void 0),KP=se.createContext(void 0),a$=se.createContext(void 0),o$=se.createContext({}),s$=se.createContext(void 0),l$=se.createContext(0),u$=se.createContext(0),aC=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=uxe(a);return be.createElement(GP.Provider,{value:r},be.createElement(KP.Provider,{value:i},be.createElement(o$.Provider,{value:a},be.createElement(a$.Provider,{value:c},be.createElement(s$.Provider,{value:o},be.createElement(l$.Provider,{value:u},be.createElement(u$.Provider,{value:l},s)))))))},cxe=function(){return se.useContext(s$)},c$=function(e){var n=se.useContext(GP);n==null&&gf();var r=n[e];return r==null&&gf(),r},fxe=function(){var e=se.useContext(GP);return Eu(e)},hxe=function(){var e=se.useContext(KP),n=lxe(e,function(r){return JF(r.domain,Number.isFinite)});return n||Eu(e)},f$=function(e){var n=se.useContext(KP);n==null&&gf();var r=n[e];return r==null&&gf(),r},dxe=function(){var e=se.useContext(a$);return e},pxe=function(){return se.useContext(o$)},YP=function(){return se.useContext(u$)},XP=function(){return se.useContext(l$)};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function mxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d$(r.key),r)}}function vxe(t,e,n){return e&&gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yxe(t,e,n){return e=$1(e),bxe(t,h$()?Reflect.construct(e,n||[],$1(t).constructor):e.apply(t,n))}function bxe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wxe(t)}function wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$1(t)}function xxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_S(t,e)}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){QP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QP(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=_xe(t,"string");return _d(e)=="symbol"?e:e+""}function _xe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Sxe(t,e){return Txe(t)||Pxe(t,e)||Exe(t,e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){if(t){if(typeof t=="string")return lC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lC(t,e)}}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Txe(t){if(Array.isArray(t))return t}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}var Nxe=function(e,n){var r;return be.isValidElement(e)?r=be.cloneElement(e,n):Vt(e)?r=e(n):r=be.createElement("line",SS({},n,{className:"recharts-reference-line-line"})),r},kxe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,d=a.width,h=a.height;if(r){var v=u.y,b=e.y.apply(v,{position:o});if(Rs(u,"discard")&&!e.y.isInRange(b))return null;var w=[{x:c+d,y:b},{x:c,y:b}];return l==="left"?w.reverse():w}if(n){var y=u.x,_=e.x.apply(y,{position:o});if(Rs(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+h},{x:_,y:f}];return s==="top"?S.reverse():S}if(i){var N=u.segment,O=N.map(function(R){return e.apply(R,{position:o})});return Rs(u,"discard")&&Jbe(O,function(R){return!e.isInRange(R)})?null:O}return null};function Ixe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=cxe(),c=c$(i),f=f$(a),d=dxe();if(!u||!d)return null;Al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=HP({x:c.scale,y:f.scale}),v=Kr(e),b=Kr(n),w=r&&r.length===2,y=kxe(h,v,b,w,d,t.position,c.orientation,f.orientation,t);if(!y)return null;var _=Sxe(y,2),S=_[0],N=S.x,O=S.y,R=_[1],k=R.x,P=R.y,E=Rs(t,"hidden")?"url(#".concat(u,")"):void 0,F=sC(sC({clipPath:E},un(t,!0)),{},{x1:N,y1:O,x2:k,y2:P});return be.createElement(ai,{className:cn("recharts-reference-line",s)},Nxe(o,F),Fi.renderCallByParent(t,Uwe({x1:N,y1:O,x2:k,y2:P})))}var JP=function(t){function e(){return mxe(this,e),yxe(this,e,arguments)}return xxe(e,t),vxe(e,[{key:"render",value:function(){return be.createElement(Ixe,this.props)}}])}(be.Component);QP(JP,"displayName","ReferenceLine");QP(JP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){Eb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function Lxe(t,e,n){return e&&Cxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jxe(t,e,n){return e=B1(e),Rxe(t,p$()?Reflect.construct(e,n||[],B1(t).constructor):e.apply(t,n))}function Rxe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(t)}function Mxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p$=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B1(t)}function Dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function Eb(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=Fxe(t,"string");return Sd(e)=="symbol"?e:e+""}function Fxe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $xe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=HP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Rs(e,"discard")&&!o.isInRange(s)?null:s},Pb=function(t){function e(){return Oxe(this,e),jxe(this,e,arguments)}return Dxe(e,t),Lxe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Kr(i),c=Kr(a);if(Al(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=$xe(this.props);if(!f)return null;var d=f.x,h=f.y,v=this.props,b=v.shape,w=v.className,y=Rs(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=cC(cC({clipPath:y},un(this.props,!0)),{},{cx:d,cy:h});return be.createElement(ai,{className:cn("recharts-reference-dot",w)},e.renderDot(b,_),Fi.renderCallByParent(this.props,{x:d-o,y:h-o,width:2*o,height:2*o}))}}])}(be.Component);Eb(Pb,"displayName","ReferenceDot");Eb(Pb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Eb(Pb,"renderDot",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Vt(t)?n=t(e):n=be.createElement(HF,AS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PS.apply(this,arguments)}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){Tb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function Vxe(t,e,n){return e&&Uxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,n){return e=U1(e),qxe(t,g$()?Reflect.construct(e,n||[],U1(t).constructor):e.apply(t,n))}function qxe(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wxe(t)}function Wxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function U1(t){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U1(t)}function Hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TS(t,e)}function Tb(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=Gxe(t,"string");return Ad(e)=="symbol"?e:e+""}function Gxe(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kxe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var d=HP({x:c.scale,y:f.scale}),h={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Rs(a,"discard")&&(!d.isInRange(h)||!d.isInRange(v))?null:r$(h,v)},Nb=function(t){function e(){return Bxe(this,e),zxe(this,e,arguments)}return Hxe(e,t),Vxe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Al(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Kr(i),d=Kr(a),h=Kr(o),v=Kr(s),b=this.props.shape;if(!f&&!d&&!h&&!v&&!b)return null;var w=Kxe(f,d,h,v,this.props);if(!w&&!b)return null;var y=Rs(this.props,"hidden")?"url(#".concat(c,")"):void 0;return be.createElement(ai,{className:cn("recharts-reference-area",l)},e.renderRect(b,hC(hC({clipPath:y},un(this.props,!0)),w)),Fi.renderCallByParent(this.props,w))}}])}(be.Component);Tb(Nb,"displayName","ReferenceArea");Tb(Nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tb(Nb,"renderRect",function(t,e){var n;return be.isValidElement(t)?n=be.cloneElement(t,e):Vt(t)?n=t(e):n=be.createElement(WP,PS({},e,{className:"recharts-reference-area-rect"})),n});function y$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Yxe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zwe(r,n)}function Xxe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function V1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Qxe(t,e){return y$(t,e+1)}function Jxe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:y$(r,u)};var b=l,w,y=function(){return w===void 0&&(w=n(v,b)),w},_=v.coordinate,S=l===0||V1(t,_,y,c,s);S||(l=0,c=o,u+=1),S&&(c=_+t*(y()/2+i),l+=u)},d;u<=a.length;)if(d=f(),d)return d.v;return[]}function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){Zxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zxe(t,e,n){return e=e_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_e(t){var e=t_e(t,"string");return Lg(e)=="symbol"?e:e+""}function t_e(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n_e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(d){var h=a[d],v,b=function(){return v===void 0&&(v=n(h,d)),v};if(d===o-1){var w=t*(h.coordinate+t*b()/2-l);a[d]=h=ji(ji({},h),{},{tickCoord:w>0?h.coordinate-w*t:h.coordinate})}else a[d]=h=ji(ji({},h),{},{tickCoord:h.coordinate});var y=V1(t,h.tickCoord,b,s,l);y&&(l=h.tickCoord-t*(b()/2+i),a[d]=ji(ji({},h),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function r_e(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);o[s-1]=c=ji(ji({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var h=V1(t,c.tickCoord,function(){return f},l,u);h&&(u=c.tickCoord-t*(f/2+i),o[s-1]=ji(ji({},c),{},{isShow:!0}))}for(var v=a?s-1:s,b=function(_){var S=o[_],N,O=function(){return N===void 0&&(N=n(S,_)),N};if(_===0){var R=t*(S.coordinate-t*O()/2-l);o[_]=S=ji(ji({},S),{},{tickCoord:R<0?S.coordinate-R*t:S.coordinate})}else o[_]=S=ji(ji({},S),{},{tickCoord:S.coordinate});var k=V1(t,S.tickCoord,O,l,u);k&&(l=S.tickCoord+t*(O()/2+i),o[_]=ji(ji({},S),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function ZP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(qe(l)||f0.isSsr)return Qxe(i,typeof l=="number"&&qe(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",v=c&&h==="width"?bm(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,N){var O=Vt(u)?u(S.value,N):S.value;return h==="width"?Yxe(bm(O,{fontSize:e,letterSpacing:n}),v,f):bm(O,{fontSize:e,letterSpacing:n})[h]},w=i.length>=2?Bo(i[1].coordinate-i[0].coordinate):1,y=Xxe(a,w,h);return l==="equidistantPreserveStart"?Jxe(w,y,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?d=r_e(w,y,b,i,o,l==="preserveStartEnd"):d=n_e(w,y,b,i,o),d.filter(function(_){return _.isShow}))}var i_e=["viewBox"],a_e=["viewBox"],o_e=["ticks"];function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(this,arguments)}function pC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(n),!0).forEach(function(r){eT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dx(t,e){if(t==null)return{};var n=s_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function u_e(t,e,n){return e&&mC(t.prototype,e),n&&mC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_e(t,e,n){return e=z1(e),f_e(t,b$()?Reflect.construct(e,n||[],z1(t).constructor):e.apply(t,n))}function f_e(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b$=function(){return!!t})()}function z1(t){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z1(t)}function d_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NS(t,e)}function NS(t,e){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NS(t,e)}function eT(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=p_e(t,"string");return Ed(e)=="symbol"?e:e+""}function p_e(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yd=function(t){function e(n){var r;return l_e(this,e),r=c_e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return d_e(e,t),u_e(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=dx(r,i_e),s=this.props,l=s.viewBox,u=dx(s,a_e);return!Dh(a,l)||!Dh(o,u)||!Dh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,h,v,b,w,y,_,S=f?-1:1,N=r.tickSize||c,O=qe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=v=r.coordinate,w=o+ +!f*l,b=w-S*N,_=b-S*d,y=O;break;case"left":b=w=r.coordinate,v=a+ +!f*s,h=v-S*N,y=h-S*d,_=O;break;case"right":b=w=r.coordinate,v=a+ +f*s,h=v+S*N,y=h+S*d,_=O;break;default:h=v=r.coordinate,w=o+ +f*l,b=w+S*N,_=b+S*d,y=O;break}return{line:{x1:h,y1:b,x2:v,y2:w},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=qr(qr(qr({},un(this.props,!1)),un(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=qr(qr({},f),{},{x1:i,y1:a+d*s,x2:i+o,y2:a+d*s})}else{var h=+(l==="left"&&!u||l==="right"&&u);f=qr(qr({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+s})}return be.createElement("line",_h({},f,{className:cn("recharts-cartesian-axis-line",go(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,h=ZP(qr(qr({},this.props),{},{ticks:r}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=un(this.props,!1),y=un(c,!1),_=qr(qr({},w),{},{fill:"none"},un(l,!1)),S=h.map(function(N,O){var R=o.getTickLineCoord(N),k=R.line,P=R.tick,E=qr(qr(qr(qr({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},y),P),{},{index:O,payload:N,visibleTicksCount:h.length,tickFormatter:f});return be.createElement(ai,_h({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Yy(o.props,N,O)),l&&be.createElement("line",_h({},_,k,{className:cn("recharts-cartesian-axis-tick-line",go(l,"className"))})),c&&e.renderTickItem(c,E,"".concat(Vt(f)?f(N.value,O):N.value).concat(d||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,h=dx(f,o_e),v=d;return Vt(l)&&(v=d&&d.length>0?l(this.props):l(h)),o<=0||s<=0||!v||!v.length?null:be.createElement(ai,{className:cn("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Fi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=cn(i.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(r)?o=be.cloneElement(r,qr(qr({},i),{},{className:s})):Vt(r)?o=r(qr(qr({},i),{},{className:s})):o=be.createElement(u1,_h({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(se.Component);eT(Yd,"displayName","CartesianAxis");eT(Yd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var m_e=["x1","y1","x2","y2","key"],g_e=["offset"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){v_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v_e(t,e,n){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=b_e(t,"string");return vf(e)=="symbol"?e:e+""}function b_e(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function vC(t,e){if(t==null)return{};var n=w_e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var x_e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return be.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function x$(t,e){var n;if(be.isValidElement(t))n=be.cloneElement(t,e);else if(Vt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=vC(e,m_e),u=un(l,!1);u.offset;var c=vC(u,g_e);n=be.createElement("line",qc({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function __e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=$i($i({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return x$(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function S_e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=$i($i({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return x$(i,u)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function A_e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var v=!c[h+1],b=v?i+o-d:c[h+1]-d;if(b<=0)return null;var w=h%e.length;return be.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:b,width:a,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function E_e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+a-a)}).sort(function(d,h){return d-h});a!==c[0]&&c.unshift(0);var f=c.map(function(d,h){var v=!c[h+1],b=v?a+s-d:c[h+1]-d;if(b<=0)return null;var w=h%r.length;return be.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:b,height:l,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var P_e=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return IF(ZP($i($i($i({},Yd.defaultProps),r),{},{ticks:bl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},T_e=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return IF(ZP($i($i($i({},Yd.defaultProps),r),{},{ticks:bl(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Jf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _$(t){var e,n,r,i,a,o,s=YP(),l=XP(),u=pxe(),c=$i($i({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Jf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Jf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Jf.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Jf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Jf.verticalFill,x:qe(t.x)?t.x:u.left,y:qe(t.y)?t.y:u.top,width:qe(t.width)?t.width:u.width,height:qe(t.height)?t.height:u.height}),f=c.x,d=c.y,h=c.width,v=c.height,b=c.syncWithTicks,w=c.horizontalValues,y=c.verticalValues,_=fxe(),S=hxe();if(!qe(h)||h<=0||!qe(v)||v<=0||!qe(f)||f!==+f||!qe(d)||d!==+d)return null;var N=c.verticalCoordinatesGenerator||P_e,O=c.horizontalCoordinatesGenerator||T_e,R=c.horizontalPoints,k=c.verticalPoints;if((!R||!R.length)&&Vt(O)){var P=w&&w.length,E=O({yAxis:S?$i($i({},S),{},{ticks:P?w:S.ticks}):void 0,width:s,height:l,offset:u},P?!0:b);Al(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vf(E),"]")),Array.isArray(E)&&(R=E)}if((!k||!k.length)&&Vt(N)){var F=y&&y.length,T=N({xAxis:_?$i($i({},_),{},{ticks:F?y:_.ticks}):void 0,width:s,height:l,offset:u},F?!0:b);Al(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vf(T),"]")),Array.isArray(T)&&(k=T)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(x_e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),be.createElement(__e,qc({},c,{offset:u,horizontalPoints:R,xAxis:_,yAxis:S})),be.createElement(S_e,qc({},c,{offset:u,verticalPoints:k,xAxis:_,yAxis:S})),be.createElement(A_e,qc({},c,{horizontalPoints:R})),be.createElement(E_e,qc({},c,{verticalPoints:k})))}_$.displayName="CartesianGrid";function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function I_e(t,e,n){return e&&k_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O_e(t,e,n){return e=q1(e),C_e(t,S$()?Reflect.construct(e,n||[],q1(t).constructor):e.apply(t,n))}function C_e(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L_e(t)}function L_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}function j_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kS(t,e)}function A$(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=R_e(t,"string");return Pd(e)=="symbol"?e:e+""}function R_e(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IS.apply(this,arguments)}function M_e(t){var e=t.xAxisId,n=YP(),r=XP(),i=c$(e);return i==null?null:se.createElement(Yd,IS({},i,{className:cn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return bl(o,!0)}}))}var kb=function(t){function e(){return N_e(this,e),O_e(this,e,arguments)}return j_e(e,t),I_e(e,[{key:"render",value:function(){return se.createElement(M_e,this.props)}}])}(se.Component);A$(kb,"displayName","XAxis");A$(kb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function D_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function $_e(t,e,n){return e&&F_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,n){return e=W1(e),U_e(t,P$()?Reflect.construct(e,n||[],W1(t).constructor):e.apply(t,n))}function U_e(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(t)}function V_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function W1(t){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W1(t)}function z_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function T$(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=q_e(t,"string");return Td(e)=="symbol"?e:e+""}function q_e(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(this,arguments)}var W_e=function(e){var n=e.yAxisId,r=YP(),i=XP(),a=f$(n);return a==null?null:se.createElement(Yd,CS({},a,{className:cn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return bl(s,!0)}}))},Ib=function(t){function e(){return D_e(this,e),B_e(this,e,arguments)}return z_e(e,t),$_e(e,[{key:"render",value:function(){return se.createElement(W_e,this.props)}}])}(se.Component);T$(Ib,"displayName","YAxis");T$(Ib,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yC(t){return Y_e(t)||K_e(t)||G_e(t)||H_e()}function H_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(t,e){if(t){if(typeof t=="string")return LS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LS(t,e)}}function K_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y_e(t){if(Array.isArray(t))return LS(t)}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jS=function(e,n,r,i,a){var o=zo(e,JP),s=zo(e,Pb),l=[].concat(yC(o),yC(s)),u=zo(e,Nb),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(b,w){if(w.props[c]===r&&Rs(w.props,"extendDomain")&&qe(w.props[f])){var y=w.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},d)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");d=u.reduce(function(b,w){if(w.props[c]===r&&Rs(w.props,"extendDomain")&&qe(w.props[h])&&qe(w.props[v])){var y=w.props[h],_=w.props[v];return[Math.min(b[0],y,_),Math.max(b[1],y,_)]}return b},d)}return a&&a.length&&(d=a.reduce(function(b,w){return qe(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},d)),d},k$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,v=new Array(h);d<h;d++)v[d]=f[d].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,h,v){var b=n?n+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,_,S;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,d),!0;case 5:return w.fn.call(w.context,c,f,d,h),!0;case 6:return w.fn.call(w.context,c,f,d,h,v),!0}for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];w.fn.apply(w.context,_)}else{var N=w.length,O;for(S=0;S<N;S++)switch(w[S].once&&this.removeListener(u,w[S].fn,void 0,!0),y){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,c);break;case 3:w[S].fn.call(w[S].context,c,f);break;case 4:w[S].fn.call(w[S].context,c,f,d);break;default:if(!_)for(O=1,_=new Array(y-1);O<y;O++)_[O-1]=arguments[O];w[S].fn.apply(w[S].context,_)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===c&&(!d||v.once)&&(!f||v.context===f)&&o(this,h);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==c||d&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[h]=w.length===1?w[0]:w:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(k$);var X_e=k$.exports;const Q_e=jn(X_e);var px=new Q_e,mx="recharts.syncMouseEvents";function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function J_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I$(r.key),r)}}function e5e(t,e,n){return e&&Z_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gx(t,e,n){return e=I$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=t5e(t,"string");return jg(e)=="symbol"?e:e+""}function t5e(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n5e=function(){function t(){J_e(this,t),gx(this,"activeIndex",0),gx(this,"coordinateList",[]),gx(this,"layout","horizontal")}return e5e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,d=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function r5e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&qe(r)&&qe(i))return!0}return!1}function i5e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function O$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=vi(e,n,r,i),s=vi(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function a5e(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=vi(s,l,u,f),h=vi(s,l,c,f);r=d.x,i=d.y,a=h.x,o=h.y}else return O$(e);return[{x:r,y:i},{x:a,y:o}]}function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){o5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5e(t,e,n){return e=s5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s5e(t){var e=l5e(t,"string");return Rg(e)=="symbol"?e:e+""}function l5e(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u5e(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!o||d!=="ScatterChart"&&i!=="axis")return null;var v,b=bO;if(d==="ScatterChart")v=o,b=_2e;else if(d==="BarChart")v=i5e(f,o,l,c),b=WP;else if(f==="radial"){var w=O$(o),y=w.cx,_=w.cy,S=w.radius,N=w.startAngle,O=w.endAngle;v={cx:y,cy:_,startAngle:N,endAngle:O,innerRadius:S,outerRadius:S},b=RF}else v={points:a5e(f,o,l)},b=bO;var R=wv(wv(wv(wv({stroke:"#ccc",pointerEvents:"none"},l),v),un(h,!1)),{},{payload:s,payloadIndex:u,className:cn("recharts-tooltip-cursor",h.className)});return se.isValidElement(h)?se.cloneElement(h,R):se.createElement(b,R)}var c5e=["item"],f5e=["children","className","width","height","style","compact","title","desc"];function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}function wC(t,e){return p5e(t)||d5e(t,e)||L$(t,e)||h5e()}function h5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function p5e(t){if(Array.isArray(t))return t}function xC(t,e){if(t==null)return{};var n=m5e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j$(r.key),r)}}function y5e(t,e,n){return e&&v5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b5e(t,e,n){return e=H1(e),w5e(t,C$()?Reflect.construct(e,n||[],H1(t).constructor):e.apply(t,n))}function w5e(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x5e(t)}function x5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function H1(t){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H1(t)}function _5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function kd(t){return E5e(t)||A5e(t)||L$(t)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L$(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function A5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E5e(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){xt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t,e,n){return e=j$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=P5e(t,"string");return Nd(e)=="symbol"?e:e+""}function P5e(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T5e={xAxis:["bottom","top"],yAxis:["left","right"]},N5e={width:"100%",height:"100%"},R$={x:0,y:0};function xv(t){return t}var k5e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},I5e=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Oe(Oe(Oe({},i),vi(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Oe(Oe(Oe({},i),vi(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return R$},Ob=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(kd(s),kd(u)):s},[]);return o.length>0?o:e&&e.length&&qe(i)&&qe(a)?e.slice(i,a+1):[]};function M$(t){return t==="number"?[0,"auto"]:void 0}var DS=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ob(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?s:f;d=g5(h,o.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(kd(l),[CF(u,d)]):l},[])},SC=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=k5e(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=eve(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=DS(e,n,c,f),h=I5e(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},O5e=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,h=kF(c,a);return r.reduce(function(v,b){var w,y=b.type.defaultProps!==void 0?Oe(Oe({},b.type.defaultProps),b.props):b.props,_=y.type,S=y.dataKey,N=y.allowDataOverflow,O=y.allowDuplicatedCategory,R=y.scale,k=y.ticks,P=y.includeHidden,E=y[o];if(v[E])return v;var F=Ob(e.data,{graphicalItems:i.filter(function($){var W,te=o in $.props?$.props[o]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[o];return te===E}),dataStartIndex:l,dataEndIndex:u}),T=F.length,j,M,z;r5e(y.domain,N,_)&&(j=rS(y.domain,null,N),h&&(_==="number"||R!=="auto")&&(z=xm(F,S,"category")));var Q=M$(_);if(!j||j.length===0){var oe,ue=(oe=y.domain)!==null&&oe!==void 0?oe:Q;if(S){if(j=xm(F,S,_),_==="category"&&h){var X=Une(j);O&&X?(M=j,j=j1(0,T)):O||(j=oO(ue,j,b).reduce(function($,W){return $.indexOf(W)>=0?$:[].concat(kd($),[W])},[]))}else if(_==="category")O?j=j.filter(function($){return $!==""&&!fn($)}):j=oO(ue,j,b).reduce(function($,W){return $.indexOf(W)>=0||W===""||fn(W)?$:[].concat(kd($),[W])},[]);else if(_==="number"){var ae=ave(F,i.filter(function($){var W,te,le=o in $.props?$.props[o]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[o],ee="hide"in $.props?$.props.hide:(te=$.type.defaultProps)===null||te===void 0?void 0:te.hide;return le===E&&(P||!ee)}),S,a,c);ae&&(j=ae)}h&&(_==="number"||R!=="auto")&&(z=xm(F,S,"category"))}else h?j=j1(0,T):s&&s[E]&&s[E].hasStack&&_==="number"?j=d==="expand"?[0,1]:OF(s[E].stackGroups,l,u):j=NF(F,i.filter(function($){var W=o in $.props?$.props[o]:$.type.defaultProps[o],te="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return W===E&&(P||!te)}),_,c,!0);if(_==="number")j=jS(f,j,E,a,k),ue&&(j=rS(ue,j,N));else if(_==="category"&&ue){var pe=ue,he=j.every(function($){return pe.indexOf($)>=0});he&&(j=pe)}}return Oe(Oe({},v),{},xt({},E,Oe(Oe({},y),{},{axisType:a,domain:j,categoricalDomain:z,duplicateDomain:M,originalDomain:(w=y.domain)!==null&&w!==void 0?w:Q,isCategorical:h,layout:c})))},{})},C5e=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=Ob(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),h=d.length,v=kF(c,a),b=-1;return r.reduce(function(w,y){var _=y.type.defaultProps!==void 0?Oe(Oe({},y.type.defaultProps),y.props):y.props,S=_[o],N=M$("number");if(!w[S]){b++;var O;return v?O=j1(0,h):s&&s[S]&&s[S].hasStack?(O=OF(s[S].stackGroups,l,u),O=jS(f,O,S,a)):(O=rS(N,NF(d,r.filter(function(R){var k,P,E=o in R.props?R.props[o]:(k=R.type.defaultProps)===null||k===void 0?void 0:k[o],F="hide"in R.props?R.props.hide:(P=R.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===S&&!F}),"number",c),i.defaultProps.allowDataOverflow),O=jS(f,O,S,a)),Oe(Oe({},w),{},xt({},S,Oe(Oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:go(T5e,"".concat(a,".").concat(b%2),null),domain:O,originalDomain:N,isCategorical:v,layout:c})))}return w},{})},L5e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=zo(c,a),h={};return d&&d.length?h=O5e(e,{axes:d,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(h=C5e(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),h},j5e=function(e){var n=Eu(e),r=bl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:A1(n,r)}},AC=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ma(n,wd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},R5e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Sl(n&&n.type);return r&&r.indexOf("Bar")>=0})},EC=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},M5e=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},h=Ma(f,wd),v=Ma(f,Fh),b=Object.keys(l).reduce(function(O,R){var k=l[R],P=k.orientation;return!k.mirror&&!k.hide?Oe(Oe({},O),{},xt({},P,O[P]+k.width)):O},{left:d.left||0,right:d.right||0}),w=Object.keys(o).reduce(function(O,R){var k=o[R],P=k.orientation;return!k.mirror&&!k.hide?Oe(Oe({},O),{},xt({},P,go(O,"".concat(P))+k.height)):O},{top:d.top||0,bottom:d.bottom||0}),y=Oe(Oe({},w),b),_=y.bottom;h&&(y.bottom+=h.props.height||wd.defaultProps.height),v&&n&&(y=rve(y,i,r,n));var S=u-y.left-y.right,N=c-y.top-y.bottom;return Oe(Oe({brushBottom:_},y),{},{width:Math.max(S,0),height:Math.max(N,0)})},D5e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},F5e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(y,_){var S=_.graphicalItems,N=_.stackGroups,O=_.offset,R=_.updateId,k=_.dataStartIndex,P=_.dataEndIndex,E=y.barSize,F=y.layout,T=y.barGap,j=y.barCategoryGap,M=y.maxBarSize,z=EC(F),Q=z.numericAxisName,oe=z.cateAxisName,ue=R5e(S),X=[];return S.forEach(function(ae,pe){var he=Ob(y.data,{graphicalItems:[ae],dataStartIndex:k,dataEndIndex:P}),$=ae.type.defaultProps!==void 0?Oe(Oe({},ae.type.defaultProps),ae.props):ae.props,W=$.dataKey,te=$.maxBarSize,le=$["".concat(Q,"Id")],ee=$["".concat(oe,"Id")],ce={},Se=l.reduce(function(ze,et){var nt=_["".concat(et.axisType,"Map")],zt=$["".concat(et.axisType,"Id")];nt&&nt[zt]||et.axisType==="zAxis"||gf();var Lt=nt[zt];return Oe(Oe({},ze),{},xt(xt({},et.axisType,Lt),"".concat(et.axisType,"Ticks"),bl(Lt)))},ce),de=Se[oe],_e=Se["".concat(oe,"Ticks")],Te=N&&N[le]&&N[le].hasStack&&vve(ae,N[le].stackGroups),Z=Sl(ae.type).indexOf("Bar")>=0,xe=A1(de,_e),Ne=[],G=ue&&tve({barSize:E,stackGroups:N,totalSize:D5e(Se,oe)});if(Z){var ke,He,Ge=fn(te)?M:te,Re=(ke=(He=A1(de,_e,!0))!==null&&He!==void 0?He:Ge)!==null&&ke!==void 0?ke:0;Ne=nve({barGap:T,barCategoryGap:j,bandSize:Re!==xe?Re:xe,sizeList:G[ee],maxBarSize:Ge}),Re!==xe&&(Ne=Ne.map(function(ze){return Oe(Oe({},ze),{},{position:Oe(Oe({},ze.position),{},{offset:ze.position.offset-Re/2})})}))}var Xe=ae&&ae.type&&ae.type.getComposedData;Xe&&X.push({props:Oe(Oe({},Xe(Oe(Oe({},Se),{},{displayedData:he,props:y,dataKey:W,item:ae,bandSize:xe,barPosition:Ne,offset:O,stackedData:Te,layout:F,dataStartIndex:k,dataEndIndex:P}))),{},xt(xt(xt({key:ae.key||"item-".concat(pe)},Q,Se[Q]),oe,Se[oe]),"animationId",R)),childIndex:Zne(ae,y.children),item:ae})}),X},h=function(y,_){var S=y.props,N=y.dataStartIndex,O=y.dataEndIndex,R=y.updateId;if(!eI({props:S}))return null;var k=S.children,P=S.layout,E=S.stackOffset,F=S.data,T=S.reverseStackOrder,j=EC(P),M=j.numericAxisName,z=j.cateAxisName,Q=zo(k,r),oe=pve(F,Q,"".concat(M,"Id"),"".concat(z,"Id"),E,T),ue=l.reduce(function($,W){var te="".concat(W.axisType,"Map");return Oe(Oe({},$),{},xt({},te,L5e(S,Oe(Oe({},W),{},{graphicalItems:Q,stackGroups:W.axisType===M&&oe,dataStartIndex:N,dataEndIndex:O}))))},{}),X=M5e(Oe(Oe({},ue),{},{props:S,graphicalItems:Q}),_==null?void 0:_.legendBBox);Object.keys(ue).forEach(function($){ue[$]=c(S,ue[$],X,$.replace("Map",""),n)});var ae=ue["".concat(z,"Map")],pe=j5e(ae),he=d(S,Oe(Oe({},ue),{},{dataStartIndex:N,dataEndIndex:O,updateId:R,graphicalItems:Q,stackGroups:oe,offset:X}));return Oe(Oe({formattedGraphicalItems:he,graphicalItems:Q,offset:X,stackGroups:oe},pe),ue)},v=function(w){function y(_){var S,N,O;return g5e(this,y),O=b5e(this,y,[_]),xt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),xt(O,"accessibilityManager",new n5e),xt(O,"handleLegendBBoxUpdate",function(R){if(R){var k=O.state,P=k.dataStartIndex,E=k.dataEndIndex,F=k.updateId;O.setState(Oe({legendBBox:R},h({props:O.props,dataStartIndex:P,dataEndIndex:E,updateId:F},Oe(Oe({},O.state),{},{legendBBox:R}))))}}),xt(O,"handleReceiveSyncEvent",function(R,k,P){if(O.props.syncId===R){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(k)}}),xt(O,"handleBrushChange",function(R){var k=R.startIndex,P=R.endIndex;if(k!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var E=O.state.updateId;O.setState(function(){return Oe({dataStartIndex:k,dataEndIndex:P},h({props:O.props,dataStartIndex:k,dataEndIndex:P,updateId:E},O.state))}),O.triggerSyncEvent({dataStartIndex:k,dataEndIndex:P})}}),xt(O,"handleMouseEnter",function(R){var k=O.getMouseInfo(R);if(k){var P=Oe(Oe({},k),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var E=O.props.onMouseEnter;Vt(E)&&E(P,R)}}),xt(O,"triggeredAfterMouseMove",function(R){var k=O.getMouseInfo(R),P=k?Oe(Oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var E=O.props.onMouseMove;Vt(E)&&E(P,R)}),xt(O,"handleItemMouseEnter",function(R){O.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),xt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),xt(O,"handleMouseMove",function(R){R.persist(),O.throttleTriggeredAfterMouseMove(R)}),xt(O,"handleMouseLeave",function(R){O.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};O.setState(k),O.triggerSyncEvent(k);var P=O.props.onMouseLeave;Vt(P)&&P(k,R)}),xt(O,"handleOuterEvent",function(R){var k=Jne(R),P=go(O.props,"".concat(k));if(k&&Vt(P)){var E,F;/.*touch.*/i.test(k)?F=O.getMouseInfo(R.changedTouches[0]):F=O.getMouseInfo(R),P((E=F)!==null&&E!==void 0?E:{},R)}}),xt(O,"handleClick",function(R){var k=O.getMouseInfo(R);if(k){var P=Oe(Oe({},k),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var E=O.props.onClick;Vt(E)&&E(P,R)}}),xt(O,"handleMouseDown",function(R){var k=O.props.onMouseDown;if(Vt(k)){var P=O.getMouseInfo(R);k(P,R)}}),xt(O,"handleMouseUp",function(R){var k=O.props.onMouseUp;if(Vt(k)){var P=O.getMouseInfo(R);k(P,R)}}),xt(O,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),xt(O,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseDown(R.changedTouches[0])}),xt(O,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseUp(R.changedTouches[0])}),xt(O,"handleDoubleClick",function(R){var k=O.props.onDoubleClick;if(Vt(k)){var P=O.getMouseInfo(R);k(P,R)}}),xt(O,"handleContextMenu",function(R){var k=O.props.onContextMenu;if(Vt(k)){var P=O.getMouseInfo(R);k(P,R)}}),xt(O,"triggerSyncEvent",function(R){O.props.syncId!==void 0&&px.emit(mx,O.props.syncId,R,O.eventEmitterSymbol)}),xt(O,"applySyncEvent",function(R){var k=O.props,P=k.layout,E=k.syncMethod,F=O.state.updateId,T=R.dataStartIndex,j=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)O.setState(Oe({dataStartIndex:T,dataEndIndex:j},h({props:O.props,dataStartIndex:T,dataEndIndex:j,updateId:F},O.state)));else if(R.activeTooltipIndex!==void 0){var M=R.chartX,z=R.chartY,Q=R.activeTooltipIndex,oe=O.state,ue=oe.offset,X=oe.tooltipTicks;if(!ue)return;if(typeof E=="function")Q=E(X,R);else if(E==="value"){Q=-1;for(var ae=0;ae<X.length;ae++)if(X[ae].value===R.activeLabel){Q=ae;break}}var pe=Oe(Oe({},ue),{},{x:ue.left,y:ue.top}),he=Math.min(M,pe.x+pe.width),$=Math.min(z,pe.y+pe.height),W=X[Q]&&X[Q].value,te=DS(O.state,O.props.data,Q),le=X[Q]?{x:P==="horizontal"?X[Q].coordinate:he,y:P==="horizontal"?$:X[Q].coordinate}:R$;O.setState(Oe(Oe({},R),{},{activeLabel:W,activeCoordinate:le,activePayload:te,activeTooltipIndex:Q}))}else O.setState(R)}),xt(O,"renderCursor",function(R){var k,P=O.state,E=P.isTooltipActive,F=P.activeCoordinate,T=P.activePayload,j=P.offset,M=P.activeTooltipIndex,z=P.tooltipAxisBandSize,Q=O.getTooltipEventType(),oe=(k=R.props.active)!==null&&k!==void 0?k:E,ue=O.props.layout,X=R.key||"_recharts-cursor";return be.createElement(u5e,{key:X,activeCoordinate:F,activePayload:T,activeTooltipIndex:M,chartName:n,element:R,isActive:oe,layout:ue,offset:j,tooltipAxisBandSize:z,tooltipEventType:Q})}),xt(O,"renderPolarAxis",function(R,k,P){var E=go(R,"type.axisType"),F=go(O.state,"".concat(E,"Map")),T=R.type.defaultProps,j=T!==void 0?Oe(Oe({},T),R.props):R.props,M=F&&F[j["".concat(E,"Id")]];return se.cloneElement(R,Oe(Oe({},M),{},{className:cn(E,M.className),key:R.key||"".concat(k,"-").concat(P),ticks:bl(M,!0)}))}),xt(O,"renderPolarGrid",function(R){var k=R.props,P=k.radialLines,E=k.polarAngles,F=k.polarRadius,T=O.state,j=T.radiusAxisMap,M=T.angleAxisMap,z=Eu(j),Q=Eu(M),oe=Q.cx,ue=Q.cy,X=Q.innerRadius,ae=Q.outerRadius;return se.cloneElement(R,{polarAngles:Array.isArray(E)?E:bl(Q,!0).map(function(pe){return pe.coordinate}),polarRadius:Array.isArray(F)?F:bl(z,!0).map(function(pe){return pe.coordinate}),cx:oe,cy:ue,innerRadius:X,outerRadius:ae,key:R.key||"polar-grid",radialLines:P})}),xt(O,"renderLegend",function(){var R=O.state.formattedGraphicalItems,k=O.props,P=k.children,E=k.width,F=k.height,T=O.props.margin||{},j=E-(T.left||0)-(T.right||0),M=PF({children:P,formattedGraphicalItems:R,legendWidth:j,legendContent:u});if(!M)return null;var z=M.item,Q=xC(M,c5e);return se.cloneElement(z,Oe(Oe({},Q),{},{chartWidth:E,chartHeight:F,margin:T,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),xt(O,"renderTooltip",function(){var R,k=O.props,P=k.children,E=k.accessibilityLayer,F=Ma(P,ws);if(!F)return null;var T=O.state,j=T.isTooltipActive,M=T.activeCoordinate,z=T.activePayload,Q=T.activeLabel,oe=T.offset,ue=(R=F.props.active)!==null&&R!==void 0?R:j;return se.cloneElement(F,{viewBox:Oe(Oe({},oe),{},{x:oe.left,y:oe.top}),active:ue,label:Q,payload:ue?z:[],coordinate:M,accessibilityLayer:E})}),xt(O,"renderBrush",function(R){var k=O.props,P=k.margin,E=k.data,F=O.state,T=F.offset,j=F.dataStartIndex,M=F.dataEndIndex,z=F.updateId;return se.cloneElement(R,{key:R.key||"_recharts-brush",onChange:gv(O.handleBrushChange,R.props.onChange),data:E,x:qe(R.props.x)?R.props.x:T.left,y:qe(R.props.y)?R.props.y:T.top+T.height+T.brushBottom-(P.bottom||0),width:qe(R.props.width)?R.props.width:T.width,startIndex:j,endIndex:M,updateId:"brush-".concat(z)})}),xt(O,"renderReferenceElement",function(R,k,P){if(!R)return null;var E=O,F=E.clipPathId,T=O.state,j=T.xAxisMap,M=T.yAxisMap,z=T.offset,Q=R.type.defaultProps||{},oe=R.props,ue=oe.xAxisId,X=ue===void 0?Q.xAxisId:ue,ae=oe.yAxisId,pe=ae===void 0?Q.yAxisId:ae;return se.cloneElement(R,{key:R.key||"".concat(k,"-").concat(P),xAxis:j[X],yAxis:M[pe],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),xt(O,"renderActivePoints",function(R){var k=R.item,P=R.activePoint,E=R.basePoint,F=R.childIndex,T=R.isRange,j=[],M=k.props.key,z=k.item.type.defaultProps!==void 0?Oe(Oe({},k.item.type.defaultProps),k.item.props):k.item.props,Q=z.activeDot,oe=z.dataKey,ue=Oe(Oe({index:F,dataKey:oe,cx:P.x,cy:P.y,r:4,fill:qP(k.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},un(Q,!1)),Ky(Q));return j.push(y.renderActiveDot(Q,ue,"".concat(M,"-activePoint-").concat(F))),E?j.push(y.renderActiveDot(Q,Oe(Oe({},ue),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(F))):T&&j.push(null),j}),xt(O,"renderGraphicChild",function(R,k,P){var E=O.filterFormatItem(R,k,P);if(!E)return null;var F=O.getTooltipEventType(),T=O.state,j=T.isTooltipActive,M=T.tooltipAxis,z=T.activeTooltipIndex,Q=T.activeLabel,oe=O.props.children,ue=Ma(oe,ws),X=E.props,ae=X.points,pe=X.isRange,he=X.baseLine,$=E.item.type.defaultProps!==void 0?Oe(Oe({},E.item.type.defaultProps),E.item.props):E.item.props,W=$.activeDot,te=$.hide,le=$.activeBar,ee=$.activeShape,ce=!!(!te&&j&&ue&&(W||le||ee)),Se={};F!=="axis"&&ue&&ue.props.trigger==="click"?Se={onClick:gv(O.handleItemMouseEnter,R.props.onClick)}:F!=="axis"&&(Se={onMouseLeave:gv(O.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:gv(O.handleItemMouseEnter,R.props.onMouseEnter)});var de=se.cloneElement(R,Oe(Oe({},E.props),Se));function _e(et){return typeof M.dataKey=="function"?M.dataKey(et.payload):null}if(ce)if(z>=0){var Te,Z;if(M.dataKey&&!M.allowDuplicatedCategory){var xe=typeof M.dataKey=="function"?_e:"payload.".concat(M.dataKey.toString());Te=g5(ae,xe,Q),Z=pe&&he&&g5(he,xe,Q)}else Te=ae==null?void 0:ae[z],Z=pe&&he&&he[z];if(ee||le){var Ne=R.props.activeIndex!==void 0?R.props.activeIndex:z;return[se.cloneElement(R,Oe(Oe(Oe({},E.props),Se),{},{activeIndex:Ne})),null,null]}if(!fn(Te))return[de].concat(kd(O.renderActivePoints({item:E,activePoint:Te,basePoint:Z,childIndex:z,isRange:pe})))}else{var G,ke=(G=O.getItemByXY(O.state.activeCoordinate))!==null&&G!==void 0?G:{graphicalItem:de},He=ke.graphicalItem,Ge=He.item,Re=Ge===void 0?R:Ge,Xe=He.childIndex,ze=Oe(Oe(Oe({},E.props),Se),{},{activeIndex:Xe});return[se.cloneElement(Re,ze),null,null]}return pe?[de,null,null]:[de,null]}),xt(O,"renderCustomized",function(R,k,P){return se.cloneElement(R,Oe(Oe({key:"recharts-customized-".concat(P)},O.props),O.state))}),xt(O,"renderMap",{CartesianGrid:{handler:xv,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:xv},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:xv},YAxis:{handler:xv},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:rb("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=P7(O.triggeredAfterMouseMove,(N=_.throttleDelay)!==null&&N!==void 0?N:1e3/60),O.state={},O}return _5e(y,w),y5e(y,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,O=S.data,R=S.height,k=S.layout,P=Ma(N,ws);if(P){var E=P.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=DS(this.state,O,E,F),j=this.state.tooltipTicks[E].coordinate,M=(this.state.offset.top+R)/2,z=k==="horizontal",Q=z?{x:j,y:M}:{y:j,x:M},oe=this.state.formattedGraphicalItems.find(function(X){var ae=X.item;return ae.type.name==="Scatter"});oe&&(Q=Oe(Oe({},Q),oe.props.points[E].tooltipPosition),T=oe.props.points[E].tooltipPayload);var ue={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:F,activePayload:T,activeCoordinate:Q};this.setState(ue),this.renderCursor(P),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var O,R;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(S){y5([Ma(S.children,ws)],[Ma(this.props.children,ws)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ma(this.props.children,ws);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return s.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,O=N.getBoundingClientRect(),R=Pde(O),k={chartX:Math.round(S.pageX-R.left),chartY:Math.round(S.pageY-R.top)},P=O.width/N.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,P);if(!E)return null;var F=this.state,T=F.xAxisMap,j=F.yAxisMap,M=this.getTooltipEventType(),z=SC(this.state,this.props.data,this.props.layout,E);if(M!=="axis"&&T&&j){var Q=Eu(T).scale,oe=Eu(j).scale,ue=Q&&Q.invert?Q.invert(k.chartX):null,X=oe&&oe.invert?oe.invert(k.chartY):null;return Oe(Oe({},k),{},{xValue:ue,yValue:X},z)}return z?Oe(Oe({},k),z):null}},{key:"inRange",value:function(S,N){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,k=S/O,P=N/O;if(R==="horizontal"||R==="vertical"){var E=this.state.offset,F=k>=E.left&&k<=E.left+E.width&&P>=E.top&&P<=E.top+E.height;return F?{x:k,y:P}:null}var T=this.state,j=T.angleAxisMap,M=T.radiusAxisMap;if(j&&M){var z=Eu(j);return uO({x:k,y:P},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),O=Ma(S,ws),R={};O&&N==="axis"&&(O.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Ky(this.props,this.handleOuterEvent);return Oe(Oe({},k),R)}},{key:"addListener",value:function(){px.on(mx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){px.removeListener(mx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,O){for(var R=this.state.formattedGraphicalItems,k=0,P=R.length;k<P;k++){var E=R[k];if(E.item===S||E.props.key===S.key||N===Sl(E.item.type)&&O===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,O=N.left,R=N.top,k=N.height,P=N.width;return be.createElement("defs",null,be.createElement("clipPath",{id:S},be.createElement("rect",{x:O,y:R,height:k,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,O){var R=wC(O,2),k=R[0],P=R[1];return Oe(Oe({},N),{},xt({},k,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,O){var R=wC(O,2),k=R[0],P=R[1];return Oe(Oe({},N),{},xt({},k,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,O=N.formattedGraphicalItems,R=N.activeItem;if(O&&O.length)for(var k=0,P=O.length;k<P;k++){var E=O[k],F=E.props,T=E.item,j=T.type.defaultProps!==void 0?Oe(Oe({},T.type.defaultProps),T.props):T.props,M=Sl(T.type);if(M==="Bar"){var z=(F.data||[]).find(function(X){return h2e(S,X)});if(z)return{graphicalItem:E,payload:z}}else if(M==="RadialBar"){var Q=(F.data||[]).find(function(X){return uO(S,X)});if(Q)return{graphicalItem:E,payload:Q}}else if(_b(E,R)||Sb(E,R)||kg(E,R)){var oe=mbe({graphicalItem:E,activeTooltipItem:R,itemData:j.data}),ue=j.activeIndex===void 0?oe:j.activeIndex;return{graphicalItem:Oe(Oe({},E),{},{childIndex:ue}),payload:kg(E,R)?j.data[oe]:E.props.data[oe]}}}return null}},{key:"render",value:function(){var S=this;if(!eI(this))return null;var N=this.props,O=N.children,R=N.className,k=N.width,P=N.height,E=N.style,F=N.compact,T=N.title,j=N.desc,M=xC(N,f5e),z=un(M,!1);if(F)return be.createElement(aC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(w5,Sh({},z,{width:k,height:P,title:T,desc:j}),this.renderClipPath(),nI(O,this.renderMap)));if(this.props.accessibilityLayer){var Q,oe;z.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,z.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",z.onKeyDown=function(X){S.accessibilityManager.keyboardEvent(X)},z.onFocus=function(){S.accessibilityManager.focus()}}var ue=this.parseEventsOfWrapper();return be.createElement(aC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",Sh({className:cn("recharts-wrapper",R),style:Oe({position:"relative",cursor:"default",width:k,height:P},E)},ue,{ref:function(ae){S.container=ae}}),be.createElement(w5,Sh({},z,{width:k,height:P,title:T,desc:j,style:N5e}),this.renderClipPath(),nI(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(se.Component);xt(v,"displayName",n),xt(v,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),xt(v,"getDerivedStateFromProps",function(w,y){var _=w.dataKey,S=w.data,N=w.children,O=w.width,R=w.height,k=w.layout,P=w.stackOffset,E=w.margin,F=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var j=AC(w);return Oe(Oe(Oe({},j),{},{updateId:0},h(Oe(Oe({props:w},j),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:S,prevWidth:O,prevHeight:R,prevLayout:k,prevStackOffset:P,prevMargin:E,prevChildren:N})}if(_!==y.prevDataKey||S!==y.prevData||O!==y.prevWidth||R!==y.prevHeight||k!==y.prevLayout||P!==y.prevStackOffset||!Dh(E,y.prevMargin)){var M=AC(w),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},Q=Oe(Oe({},SC(y,S,k)),{},{updateId:y.updateId+1}),oe=Oe(Oe(Oe({},M),z),Q);return Oe(Oe(Oe({},oe),h(Oe({props:w},oe),y)),{},{prevDataKey:_,prevData:S,prevWidth:O,prevHeight:R,prevLayout:k,prevStackOffset:P,prevMargin:E,prevChildren:N})}if(!y5(N,y.prevChildren)){var ue,X,ae,pe,he=Ma(N,wd),$=he&&(ue=(X=he.props)===null||X===void 0?void 0:X.startIndex)!==null&&ue!==void 0?ue:F,W=he&&(ae=(pe=he.props)===null||pe===void 0?void 0:pe.endIndex)!==null&&ae!==void 0?ae:T,te=$!==F||W!==T,le=!fn(S),ee=le&&!te?y.updateId:y.updateId+1;return Oe(Oe({updateId:ee},h(Oe(Oe({props:w},y),{},{updateId:ee,dataStartIndex:$,dataEndIndex:W}),y)),{},{prevChildren:N,dataStartIndex:$,dataEndIndex:W})}return null}),xt(v,"renderActiveDot",function(w,y,_){var S;return se.isValidElement(w)?S=se.cloneElement(w,y):Vt(w)?S=w(y):S=be.createElement(HF,y),be.createElement(ai,{className:"recharts-active-dot",key:_},S)});var b=se.forwardRef(function(y,_){return be.createElement(v,Sh({},y,{ref:_}))});return b.displayName=v.displayName,b},$5e=F5e({chartName:"BarChart",GraphicalChild:Lf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kb},{axisType:"yAxis",AxisComp:Ib}],formatAxisMap:Bwe});const B5e="modulepreload",U5e=function(t,e){return new URL(t,e).href},PC={},vx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=U5e(u,r),u in PC)return;PC[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!r)for(let v=o.length-1;v>=0;v--){const b=o[v];if(b.href===u&&(!c||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":B5e,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((v,b)=>{h.addEventListener("load",v),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function _n(t){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(t)}var Go=Uint8Array,Ua=Uint16Array,tT=Int32Array,nT=new Go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rT=new Go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TC=new Go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D$=function(t,e){for(var n=new Ua(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new tT(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},F$=D$(nT,2),V5e=F$.b,FS=F$.r;V5e[28]=258,FS[258]=28;var z5e=D$(rT,0),NC=z5e.r,$S=new Ua(32768);for(var Gn=0;Gn<32768;++Gn){var du=(Gn&43690)>>1|(Gn&21845)<<1;du=(du&52428)>>2|(du&13107)<<2,du=(du&61680)>>4|(du&3855)<<4,$S[Gn]=((du&65280)>>8|(du&255)<<8)>>1}var Sm=function(t,e,n){for(var r=t.length,i=0,a=new Ua(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Ua(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new Ua(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)s[$S[f]>>l]=u}else for(s=new Ua(r),i=0;i<r;++i)t[i]&&(s[i]=$S[o[t[i]-1]++]>>15-t[i]);return s},yf=new Go(288);for(var Gn=0;Gn<144;++Gn)yf[Gn]=8;for(var Gn=144;Gn<256;++Gn)yf[Gn]=9;for(var Gn=256;Gn<280;++Gn)yf[Gn]=7;for(var Gn=280;Gn<288;++Gn)yf[Gn]=8;var G1=new Go(32);for(var Gn=0;Gn<32;++Gn)G1[Gn]=5;var q5e=Sm(yf,9,0),W5e=Sm(G1,5,0),$$=function(t){return(t+7)/8|0},H5e=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Go(t.subarray(e,n))},al=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Vp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},yx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:U$,l:0};if(i==1){var o=new Go(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,R){return O.f-R.f}),n.push({s:-1,f:25001});var s=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var d=a[0].s,r=1;r<i;++r)a[r].s>d&&(d=a[r].s);var h=new Ua(d+1),v=BS(n[c-1],h,0);if(v>e){var r=0,b=0,w=v-e,y=1<<w;for(a.sort(function(R,k){return h[k.s]-h[R.s]||R.f-k.f});r<i;++r){var _=a[r].s;if(h[_]>e)b+=y-(1<<v-h[_]),h[_]=e;else break}for(b>>=w;b>0;){var S=a[r].s;h[S]<e?b-=1<<e-h[S]++-1:++r}for(;r>=0&&b;--r){var N=a[r].s;h[N]==e&&(--h[N],++b)}v=e}return{t:new Go(h),l:v}},BS=function(t,e,n){return t.s==-1?Math.max(BS(t.l,e,n+1),BS(t.r,e,n+1)):e[t.s]=n},kC=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ua(++e),r=0,i=t[0],a=1,o=function(l){n[r++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:n.subarray(0,r),n:e}},zp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},B$=function(t,e,n){var r=n.length,i=$$(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},IC=function(t,e,n,r,i,a,o,s,l,u,c){al(e,c++,n),++i[256];for(var f=yx(i,15),d=f.t,h=f.l,v=yx(a,15),b=v.t,w=v.l,y=kC(d),_=y.c,S=y.n,N=kC(b),O=N.c,R=N.n,k=new Ua(19),P=0;P<_.length;++P)++k[_[P]&31];for(var P=0;P<O.length;++P)++k[O[P]&31];for(var E=yx(k,7),F=E.t,T=E.l,j=19;j>4&&!F[TC[j-1]];--j);var M=u+5<<3,z=zp(i,yf)+zp(a,G1)+o,Q=zp(i,d)+zp(a,b)+o+14+3*j+zp(k,F)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&M<=z&&M<=Q)return B$(e,c,t.subarray(l,l+u));var oe,ue,X,ae;if(al(e,c,1+(Q<z)),c+=2,Q<z){oe=Sm(d,h,0),ue=d,X=Sm(b,w,0),ae=b;var pe=Sm(F,T,0);al(e,c,S-257),al(e,c+5,R-1),al(e,c+10,j-4),c+=14;for(var P=0;P<j;++P)al(e,c+3*P,F[TC[P]]);c+=3*j;for(var he=[_,O],$=0;$<2;++$)for(var W=he[$],P=0;P<W.length;++P){var te=W[P]&31;al(e,c,pe[te]),c+=F[te],te>15&&(al(e,c,W[P]>>5&127),c+=W[P]>>12)}}else oe=q5e,ue=yf,X=W5e,ae=G1;for(var P=0;P<s;++P){var le=r[P];if(le>255){var te=le>>18&31;Vp(e,c,oe[te+257]),c+=ue[te+257],te>7&&(al(e,c,le>>23&31),c+=nT[te]);var ee=le&31;Vp(e,c,X[ee]),c+=ae[ee],ee>3&&(Vp(e,c,le>>5&8191),c+=rT[ee])}else Vp(e,c,oe[le]),c+=ue[le]}return Vp(e,c,oe[256]),c+ue[256]},G5e=new tT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U$=new Go(0),K5e=function(t,e,n,r,i,a){var o=a.z||t.length,s=new Go(r+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(r,s.length-i),u=a.l,c=(a.r||0)&7;if(e){c&&(l[0]=a.r>>3);for(var f=G5e[e-1],d=f>>13,h=f&8191,v=(1<<n)-1,b=a.p||new Ua(32768),w=a.h||new Ua(v+1),y=Math.ceil(n/3),_=2*y,S=function(Ne){return(t[Ne]^t[Ne+1]<<y^t[Ne+2]<<_)&v},N=new tT(25e3),O=new Ua(288),R=new Ua(32),k=0,P=0,E=a.i||0,F=0,T=a.w||0,j=0;E+2<o;++E){var M=S(E),z=E&32767,Q=w[M];if(b[z]=Q,w[M]=z,T<=E){var oe=o-E;if((k>7e3||F>24576)&&(oe>423||!u)){c=IC(t,l,0,N,O,R,P,F,j,E-j,c),F=k=P=0,j=E;for(var ue=0;ue<286;++ue)O[ue]=0;for(var ue=0;ue<30;++ue)R[ue]=0}var X=2,ae=0,pe=h,he=z-Q&32767;if(oe>2&&M==S(E-he))for(var $=Math.min(d,oe)-1,W=Math.min(32767,E),te=Math.min(258,oe);he<=W&&--pe&&z!=Q;){if(t[E+X]==t[E+X-he]){for(var le=0;le<te&&t[E+le]==t[E+le-he];++le);if(le>X){if(X=le,ae=he,le>$)break;for(var ee=Math.min(he,le-2),ce=0,ue=0;ue<ee;++ue){var Se=E-he+ue&32767,de=b[Se],_e=Se-de&32767;_e>ce&&(ce=_e,Q=Se)}}}z=Q,Q=b[z],he+=z-Q&32767}if(ae){N[F++]=268435456|FS[X]<<18|NC[ae];var Te=FS[X]&31,Z=NC[ae]&31;P+=nT[Te]+rT[Z],++O[257+Te],++R[Z],T=E+X,++k}else N[F++]=t[E],++O[t[E]]}}for(E=Math.max(E,T);E<o;++E)N[F++]=t[E],++O[t[E]];c=IC(t,l,u,N,O,R,P,F,j,E-j,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=w,a.p=b,a.i=E,a.w=T)}else{for(var E=a.w||0;E<o+u;E+=65535){var xe=E+65535;xe>=o&&(l[c/8|0]=u,xe=o),c=B$(l,c+1,t.subarray(E,xe))}a.i=o}return H5e(s,0,r+$$(c)+i)},V$=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Y5e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Go(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return K5e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},z$=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},X5e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=V$();i.p(e.dictionary),z$(t,2,i.d())}};function US(t,e){e||(e={});var n=V$();n.p(t);var r=Y5e(t,e,e.dictionary?6:2,4);return X5e(r,e),z$(r,r.length-4,n.d()),r}var Q5e=typeof TextDecoder<"u"&&new TextDecoder,J5e=0;try{Q5e.decode(U$,{stream:!0}),J5e=1}catch{}function Z5e(t){if(Array.isArray(t))return t}function eSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tSe(t,e){if(t){if(typeof t=="string")return OC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OC(t,e):void 0}}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CC(t,e){return Z5e(t)||eSe(t,e)||tSe(t,e)||nSe()}function LC(t,e="utf8"){return new TextDecoder(e).decode(t)}const rSe=new TextEncoder;function iSe(t){return rSe.encode(t)}const aSe=1024*8,oSe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),bx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class iT{constructor(e=aSe,n={}){bn(this,"buffer");bn(this,"byteLength");bn(this,"byteOffset");bn(this,"length");bn(this,"offset");bn(this,"lastWrittenByte");bn(this,"littleEndian");bn(this,"_data");bn(this,"_mark");bn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof iT)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=bx[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===oSe&&n!=="uint8"&&n!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+r));s.reverse();const l=new bx[n](s.buffer);return this.offset+=r,l.reverse(),l}const o=new bx[n](a);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return LC(this.readBytes(e))}decodeText(e=1,n="utf8"){return LC(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(iSe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xd(t){let e=t.length;for(;--e>=0;)t[e]=0}const sSe=3,lSe=258,q$=29,uSe=256,cSe=uSe+1+q$,W$=30,fSe=512,hSe=new Array((cSe+2)*2);Xd(hSe);const dSe=new Array(W$*2);Xd(dSe);const pSe=new Array(fSe);Xd(pSe);const mSe=new Array(lSe-sSe+1);Xd(mSe);const gSe=new Array(q$);Xd(gSe);const vSe=new Array(W$);Xd(vSe);const ySe=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var VS=ySe;const bSe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},wSe=new Uint32Array(bSe()),xSe=(t,e,n,r)=>{const i=wSe,a=r+n;t^=-1;for(let o=r;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var ms=xSe,zS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H$={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _Se=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var SSe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_Se(n,r)&&(t[r]=n[r])}}return t},ASe=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let o=t[r];n.set(o,i),i+=o.length}return n},G$={assign:SSe,flattenChunks:ASe};let K$=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K$=!1}const Mg=new Uint8Array(256);for(let t=0;t<256;t++)Mg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Mg[254]=Mg[254]=1;var ESe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const PSe=(t,e)=>{if(e<65534&&t.subarray&&K$)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var TSe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){a[i++]=o;continue}let s=Mg[o];if(s>4){a[i++]=65533,r+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&r<n;)o=o<<6|t[r++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return PSe(a,i)},NSe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Mg[t[n]]>e?n:e},qS={string2buf:ESe,buf2string:TSe,utf8border:NSe};function kSe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ISe=kSe;const _v=16209,OSe=16191;var CSe=function(e,n){let r,i,a,o,s,l,u,c,f,d,h,v,b,w,y,_,S,N,O,R,k,P,E,F;const T=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),a=e.next_out,F=e.output,o=a-(n-e.avail_out),s=a+(e.avail_out-257),l=T.dmax,u=T.wsize,c=T.whave,f=T.wnext,d=T.window,h=T.hold,v=T.bits,b=T.lencode,w=T.distcode,y=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{v<15&&(h+=E[r++]<<v,v+=8,h+=E[r++]<<v,v+=8),S=b[h&y];t:for(;;){if(N=S>>>24,h>>>=N,v-=N,N=S>>>16&255,N===0)F[a++]=S&65535;else if(N&16){O=S&65535,N&=15,N&&(v<N&&(h+=E[r++]<<v,v+=8),O+=h&(1<<N)-1,h>>>=N,v-=N),v<15&&(h+=E[r++]<<v,v+=8,h+=E[r++]<<v,v+=8),S=w[h&_];n:for(;;){if(N=S>>>24,h>>>=N,v-=N,N=S>>>16&255,N&16){if(R=S&65535,N&=15,v<N&&(h+=E[r++]<<v,v+=8,v<N&&(h+=E[r++]<<v,v+=8)),R+=h&(1<<N)-1,R>l){e.msg="invalid distance too far back",T.mode=_v;break e}if(h>>>=N,v-=N,N=a-o,R>N){if(N=R-N,N>c&&T.sane){e.msg="invalid distance too far back",T.mode=_v;break e}if(k=0,P=d,f===0){if(k+=u-N,N<O){O-=N;do F[a++]=d[k++];while(--N);k=a-R,P=F}}else if(f<N){if(k+=u+f-N,N-=f,N<O){O-=N;do F[a++]=d[k++];while(--N);if(k=0,f<O){N=f,O-=N;do F[a++]=d[k++];while(--N);k=a-R,P=F}}}else if(k+=f-N,N<O){O-=N;do F[a++]=d[k++];while(--N);k=a-R,P=F}for(;O>2;)F[a++]=P[k++],F[a++]=P[k++],F[a++]=P[k++],O-=3;O&&(F[a++]=P[k++],O>1&&(F[a++]=P[k++]))}else{k=a-R;do F[a++]=F[k++],F[a++]=F[k++],F[a++]=F[k++],O-=3;while(O>2);O&&(F[a++]=F[k++],O>1&&(F[a++]=F[k++]))}}else if(N&64){e.msg="invalid distance code",T.mode=_v;break e}else{S=w[(S&65535)+(h&(1<<N)-1)];continue n}break}}else if(N&64)if(N&32){T.mode=OSe;break e}else{e.msg="invalid literal/length code",T.mode=_v;break e}else{S=b[(S&65535)+(h&(1<<N)-1)];continue t}break}}while(r<i&&a<s);O=v>>3,r-=O,v-=O<<3,h&=(1<<v)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<s?257+(s-a):257-(a-s),T.hold=h,T.bits=v};const Zf=15,jC=852,RC=592,MC=0,wx=1,DC=2,LSe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jSe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),RSe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),MSe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DSe=(t,e,n,r,i,a,o,s)=>{const l=s.bits;let u=0,c=0,f=0,d=0,h=0,v=0,b=0,w=0,y=0,_=0,S,N,O,R,k,P=null,E;const F=new Uint16Array(Zf+1),T=new Uint16Array(Zf+1);let j=null,M,z,Q;for(u=0;u<=Zf;u++)F[u]=0;for(c=0;c<r;c++)F[e[n+c]]++;for(h=l,d=Zf;d>=1&&F[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<d&&F[f]===0;f++);for(h<f&&(h=f),w=1,u=1;u<=Zf;u++)if(w<<=1,w-=F[u],w<0)return-1;if(w>0&&(t===MC||d!==1))return-1;for(T[1]=0,u=1;u<Zf;u++)T[u+1]=T[u]+F[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[T[e[n+c]]++]=c);if(t===MC?(P=j=o,E=20):t===wx?(P=LSe,j=jSe,E=257):(P=RSe,j=MSe,E=0),_=0,c=0,u=f,k=a,v=h,b=0,O=-1,y=1<<h,R=y-1,t===wx&&y>jC||t===DC&&y>RC)return 1;for(;;){M=u-b,o[c]+1<E?(z=0,Q=o[c]):o[c]>=E?(z=j[o[c]-E],Q=P[o[c]-E]):(z=96,Q=0),S=1<<u-b,N=1<<v,f=N;do N-=S,i[k+(_>>b)+N]=M<<24|z<<16|Q|0;while(N!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,c++,--F[u]===0){if(u===d)break;u=e[n+o[c]]}if(u>h&&(_&R)!==O){for(b===0&&(b=h),k+=f,v=u-b,w=1<<v;v+b<d&&(w-=F[v+b],!(w<=0));)v++,w<<=1;if(y+=1<<v,t===wx&&y>jC||t===DC&&y>RC)return 1;O=_&R,i[O]=h<<24|v<<16|k-a|0}}return _!==0&&(i[k+_]=u-b<<24|64<<16|0),s.bits=h,0};var Am=DSe;const FSe=0,Y$=1,X$=2,{Z_FINISH:FC,Z_BLOCK:$Se,Z_TREES:Sv,Z_OK:bf,Z_STREAM_END:BSe,Z_NEED_DICT:USe,Z_STREAM_ERROR:xo,Z_DATA_ERROR:Q$,Z_MEM_ERROR:J$,Z_BUF_ERROR:VSe,Z_DEFLATED:$C}=H$,Cb=16180,BC=16181,UC=16182,VC=16183,zC=16184,qC=16185,WC=16186,HC=16187,GC=16188,KC=16189,K1=16190,ol=16191,xx=16192,YC=16193,_x=16194,XC=16195,QC=16196,JC=16197,ZC=16198,Av=16199,Ev=16200,e6=16201,t6=16202,n6=16203,r6=16204,i6=16205,Sx=16206,a6=16207,o6=16208,Jn=16209,Z$=16210,e9=16211,zSe=852,qSe=592,WSe=15,HSe=WSe,s6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function GSe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Cb||e.mode>e9?1:0},t9=t=>{if(jf(t))return xo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Cb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(zSe),e.distcode=e.distdyn=new Int32Array(qSe),e.sane=1,e.back=-1,bf},n9=t=>{if(jf(t))return xo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,t9(t)},r9=(t,e)=>{let n;if(jf(t))return xo;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,n9(t))},i9=(t,e)=>{if(!t)return xo;const n=new GSe;t.state=n,n.strm=t,n.window=null,n.mode=Cb;const r=r9(t,e);return r!==bf&&(t.state=null),r},KSe=t=>i9(t,HSe);let l6=!0,Ax,Ex;const YSe=t=>{if(l6){Ax=new Int32Array(512),Ex=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Am(Y$,t.lens,0,288,Ax,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Am(X$,t.lens,0,32,Ex,0,t.work,{bits:5}),l6=!1}t.lencode=Ax,t.lenbits=9,t.distcode=Ex,t.distbits=5},a9=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},XSe=(t,e)=>{let n,r,i,a,o,s,l,u,c,f,d,h,v,b,w=0,y,_,S,N,O,R,k,P;const E=new Uint8Array(4);let F,T;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jf(t)||!t.output||!t.input&&t.avail_in!==0)return xo;n=t.state,n.mode===ol&&(n.mode=xx),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,f=s,d=l,P=bf;e:for(;;)switch(n.mode){case Cb:if(n.wrap===0){n.mode=xx;break}for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=ms(n.check,E,2,0),u=0,c=0,n.mode=BC;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Jn;break}if((u&15)!==$C){t.msg="unknown compression method",n.mode=Jn;break}if(u>>>=4,c-=4,k=(u&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){t.msg="invalid window size",n.mode=Jn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?KC:ol,u=0,c=0;break;case BC:for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==$C){t.msg="unknown compression method",n.mode=Jn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Jn;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ms(n.check,E,2,0)),u=0,c=0,n.mode=UC;case UC:for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=ms(n.check,E,4,0)),u=0,c=0,n.mode=VC;case VC:for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ms(n.check,E,2,0)),u=0,c=0,n.mode=zC;case zC:if(n.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=ms(n.check,E,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=qC;case qC:if(n.flags&1024&&(h=n.length,h>s&&(h=s),h&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),k)),n.flags&512&&n.wrap&4&&(n.check=ms(n.check,r,h,a)),s-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=WC;case WC:if(n.flags&2048){if(s===0)break e;h=0;do k=r[a+h++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=ms(n.check,r,h,a)),s-=h,a+=h,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=HC;case HC:if(n.flags&4096){if(s===0)break e;h=0;do k=r[a+h++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&h<s);if(n.flags&512&&n.wrap&4&&(n.check=ms(n.check,r,h,a)),s-=h,a+=h,k)break e}else n.head&&(n.head.comment=null);n.mode=GC;case GC:if(n.flags&512){for(;c<16;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Jn;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=ol;break;case KC:for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}t.adler=n.check=s6(u),u=0,c=0,n.mode=K1;case K1:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,USe;t.adler=n.check=1,n.mode=ol;case ol:if(e===$Se||e===Sv)break e;case xx:if(n.last){u>>>=c&7,c-=c&7,n.mode=Sx;break}for(;c<3;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=YC;break;case 1:if(YSe(n),n.mode=Av,e===Sv){u>>>=2,c-=2;break e}break;case 2:n.mode=QC;break;case 3:t.msg="invalid block type",n.mode=Jn}u>>>=2,c-=2;break;case YC:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Jn;break}if(n.length=u&65535,u=0,c=0,n.mode=_x,e===Sv)break e;case _x:n.mode=XC;case XC:if(h=n.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(r.subarray(a,a+h),o),s-=h,a+=h,l-=h,o+=h,n.length-=h;break}n.mode=ol;break;case QC:for(;c<14;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Jn;break}n.have=0,n.mode=JC;case JC:for(;n.have<n.ncode;){for(;c<3;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.lens[j[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},P=Am(FSe,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,P){t.msg="invalid code lengths set",n.mode=Jn;break}n.have=0,n.mode=ZC;case ZC:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[u&(1<<n.lenbits)-1],y=w>>>24,_=w>>>16&255,S=w&65535,!(y<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(S<16)u>>>=y,c-=y,n.lens[n.have++]=S;else{if(S===16){for(T=y+2;c<T;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(u>>>=y,c-=y,n.have===0){t.msg="invalid bit length repeat",n.mode=Jn;break}k=n.lens[n.have-1],h=3+(u&3),u>>>=2,c-=2}else if(S===17){for(T=y+3;c<T;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=y,c-=y,k=0,h=3+(u&7),u>>>=3,c-=3}else{for(T=y+7;c<T;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=y,c-=y,k=0,h=11+(u&127),u>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Jn;break}for(;h--;)n.lens[n.have++]=k}}if(n.mode===Jn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Jn;break}if(n.lenbits=9,F={bits:n.lenbits},P=Am(Y$,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,P){t.msg="invalid literal/lengths set",n.mode=Jn;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},P=Am(X$,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,P){t.msg="invalid distances set",n.mode=Jn;break}if(n.mode=Av,e===Sv)break e;case Av:n.mode=Ev;case Ev:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,CSe(t,d),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,n.mode===ol&&(n.back=-1);break}for(n.back=0;w=n.lencode[u&(1<<n.lenbits)-1],y=w>>>24,_=w>>>16&255,S=w&65535,!(y<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(_&&!(_&240)){for(N=y,O=_,R=S;w=n.lencode[R+((u&(1<<N+O)-1)>>N)],y=w>>>24,_=w>>>16&255,S=w&65535,!(N+y<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=N,c-=N,n.back+=N}if(u>>>=y,c-=y,n.back+=y,n.length=S,_===0){n.mode=i6;break}if(_&32){n.back=-1,n.mode=ol;break}if(_&64){t.msg="invalid literal/length code",n.mode=Jn;break}n.extra=_&15,n.mode=e6;case e6:if(n.extra){for(T=n.extra;c<T;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=t6;case t6:for(;w=n.distcode[u&(1<<n.distbits)-1],y=w>>>24,_=w>>>16&255,S=w&65535,!(y<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(!(_&240)){for(N=y,O=_,R=S;w=n.distcode[R+((u&(1<<N+O)-1)>>N)],y=w>>>24,_=w>>>16&255,S=w&65535,!(N+y<=c);){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}u>>>=N,c-=N,n.back+=N}if(u>>>=y,c-=y,n.back+=y,_&64){t.msg="invalid distance code",n.mode=Jn;break}n.offset=S,n.extra=_&15,n.mode=n6;case n6:if(n.extra){for(T=n.extra;c<T;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Jn;break}n.mode=r6;case r6:if(l===0)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Jn;break}h>n.wnext?(h-=n.wnext,v=n.wsize-h):v=n.wnext-h,h>n.length&&(h=n.length),b=n.window}else b=i,v=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[o++]=b[v++];while(--h);n.length===0&&(n.mode=Ev);break;case i6:if(l===0)break e;i[o++]=n.length,l--,n.mode=Ev;break;case Sx:if(n.wrap){for(;c<32;){if(s===0)break e;s--,u|=r[a++]<<c,c+=8}if(d-=l,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?ms(n.check,i,d,o-d):VS(n.check,i,d,o-d)),d=l,n.wrap&4&&(n.flags?u:s6(u))!==n.check){t.msg="incorrect data check",n.mode=Jn;break}u=0,c=0}n.mode=a6;case a6:if(n.wrap&&n.flags){for(;c<32;){if(s===0)break e;s--,u+=r[a++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Jn;break}u=0,c=0}n.mode=o6;case o6:P=BSe;break e;case Jn:P=Q$;break e;case Z$:return J$;case e9:default:return xo}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<Jn&&(n.mode<Sx||e!==FC))&&a9(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,n.total+=d,n.wrap&4&&d&&(t.adler=n.check=n.flags?ms(n.check,i,d,t.next_out-d):VS(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===ol?128:0)+(n.mode===Av||n.mode===_x?256:0),(f===0&&d===0||e===FC)&&P===bf&&(P=VSe),P},QSe=t=>{if(jf(t))return xo;let e=t.state;return e.window&&(e.window=null),t.state=null,bf},JSe=(t,e)=>{if(jf(t))return xo;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,bf):xo},ZSe=(t,e)=>{const n=e.length;let r,i,a;return jf(t)||(r=t.state,r.wrap!==0&&r.mode!==K1)?xo:r.mode===K1&&(i=1,i=VS(i,e,n,0),i!==r.check)?Q$:(a=a9(t,e,n,n),a?(r.mode=Z$,J$):(r.havedict=1,bf))};var eAe=n9,tAe=r9,nAe=t9,rAe=KSe,iAe=i9,aAe=XSe,oAe=QSe,sAe=JSe,lAe=ZSe,uAe="pako inflate (from Nodeca project)",ul={inflateReset:eAe,inflateReset2:tAe,inflateResetKeep:nAe,inflateInit:rAe,inflateInit2:iAe,inflate:aAe,inflateEnd:oAe,inflateGetHeader:sAe,inflateSetDictionary:lAe,inflateInfo:uAe};function cAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fAe=cAe;const o9=Object.prototype.toString,{Z_NO_FLUSH:hAe,Z_FINISH:dAe,Z_OK:Dg,Z_STREAM_END:Px,Z_NEED_DICT:Tx,Z_STREAM_ERROR:pAe,Z_DATA_ERROR:u6,Z_MEM_ERROR:mAe}=H$;function g0(t){this.options=G$.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ISe,this.strm.avail_out=0;let n=ul.inflateInit2(this.strm,e.windowBits);if(n!==Dg)throw new Error(zS[n]);if(this.header=new fAe,ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=qS.string2buf(e.dictionary):o9.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ul.inflateSetDictionary(this.strm,e.dictionary),n!==Dg)))throw new Error(zS[n])}g0.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?dAe:hAe,o9.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=ul.inflate(n,o),a===Tx&&i&&(a=ul.inflateSetDictionary(n,i),a===Dg?a=ul.inflate(n,o):a===u6&&(a=Tx));n.avail_in>0&&a===Px&&n.state.wrap>0&&t[n.next_in]!==0;)ul.inflateReset(n),a=ul.inflate(n,o);switch(a){case pAe:case u6:case Tx:case mAe:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(n.avail_out===0||a===Px))if(this.options.to==="string"){let l=qS.utf8border(n.output,n.next_out),u=n.next_out-l,c=qS.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Dg&&s===0)){if(a===Px)return a=ul.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};g0.prototype.onData=function(t){this.chunks.push(t)};g0.prototype.onEnd=function(t){t===Dg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=G$.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function gAe(t,e){const n=new g0(e);if(n.push(t),n.err)throw n.msg||zS[n.err];return n.result}var vAe=g0,yAe=gAe,bAe={Inflate:vAe,inflate:yAe};const{Inflate:wAe,inflate:xAe}=bAe;var c6=wAe,_Ae=xAe;const s9=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;s9[t]=e}const f6=4294967295;function SAe(t,e,n){let r=t;for(let i=0;i<n;i++)r=s9[(r^e[i])&255]^r>>>8;return r}function AAe(t,e){return(SAe(f6,t,e)^f6)>>>0}function h6(t,e,n){const r=t.readUint32(),i=AAe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function l9(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function u9(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function c9(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function f9(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function h9(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+EAe(e[a-i],n[a],n[a-i])&255}}function EAe(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),o=Math.abs(r-n);return i<=a&&i<=o?t:a<=o?e:n}function PAe(t,e,n,r,i,a){switch(t){case 0:l9(e,n,i);break;case 1:u9(e,n,i,a);break;case 2:c9(e,n,r,i);break;case 3:f9(e,n,r,i,a);break;case 4:h9(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TAe=new Uint16Array([255]),NAe=new Uint8Array(TAe.buffer),kAe=NAe[0]===255;function IAe(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(r*n*s);let u=0;for(let c=0;c<7;c++){const f=o[c],d=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(d<=0||h<=0)continue;const v=d*s,b=new Uint8Array(v);for(let w=0;w<h;w++){const y=e[u++],_=e.subarray(u,u+v);u+=v;const S=new Uint8Array(v);PAe(y,_,S,b,v,s),b.set(S);for(let N=0;N<d;N++){const O=f.x+N*f.xStep,R=f.y+w*f.yStep;if(!(O>=n||R>=r))for(let k=0;k<s;k++)l[(R*n+O)*s+k]=S[N*s+k]}}}if(a===16){const c=new Uint16Array(l.buffer);if(kAe)for(let f=0;f<c.length;f++)c[f]=OAe(c[f]);return c}else return l}function OAe(t){return(t&255)<<8|t>>8&255}const CAe=new Uint16Array([255]),LAe=new Uint8Array(CAe.buffer),jAe=LAe[0]===255,RAe=new Uint8Array(0);function d6(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*n),l=new Uint8Array(r*s);let u=RAe,c=0,f,d;for(let h=0;h<r;h++){switch(f=e.subarray(c+1,c+1+s),d=l.subarray(h*s,(h+1)*s),e[c]){case 0:l9(f,d,s);break;case 1:u9(f,d,s,o);break;case 2:c9(f,d,u,s);break;case 3:f9(f,d,u,s,o);break;case 4:h9(f,d,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=d,c+=s+1}if(a===16){const h=new Uint16Array(l.buffer);if(jAe)for(let v=0;v<h.length;v++)h[v]=MAe(h[v]);return h}else return l}function MAe(t){return(t&255)<<8|t>>8&255}const Zv=Uint8Array.of(137,80,78,71,13,10,26,10);function p6(t){if(!DAe(t.readBytes(Zv.length)))throw new Error("wrong PNG signature")}function DAe(t){if(t.length<Zv.length)return!1;for(let e=0;e<Zv.length;e++)if(t[e]!==Zv[e])return!1;return!0}const FAe="tEXt",$Ae=0,d9=new TextDecoder("latin1");function BAe(t){if(VAe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const UAe=/^[\u0000-\u00FF]*$/;function VAe(t){if(!UAe.test(t))throw new Error("invalid latin1 text")}function zAe(t,e,n){const r=p9(e);t[r]=qAe(e,n-r.length-1)}function p9(t){for(t.mark();t.readByte()!==$Ae;);const e=t.offset;t.reset();const n=d9.decode(t.readBytes(e-t.offset-1));return t.skip(1),BAe(n),n}function qAe(t,e){return d9.decode(t.readBytes(e))}const La={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Nx={UNKNOWN:-1,DEFLATE:0},m6={UNKNOWN:-1,ADAPTIVE:0},kx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pv={NONE:0,BACKGROUND:1,PREVIOUS:2},Ix={SOURCE:0,OVER:1};class WAe extends iT{constructor(n,r={}){super(n);bn(this,"_checkCrc");bn(this,"_inflator");bn(this,"_png");bn(this,"_apng");bn(this,"_end");bn(this,"_hasPalette");bn(this,"_palette");bn(this,"_hasTransparency");bn(this,"_transparency");bn(this,"_compressionMethod");bn(this,"_filterMethod");bn(this,"_interlaceMethod");bn(this,"_colorType");bn(this,"_isAnimated");bn(this,"_numberOfFrames");bn(this,"_numberOfPlays");bn(this,"_frames");bn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new c6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Nx.UNKNOWN,this._filterMethod=m6.UNKNOWN,this._interlaceMethod=kx.UNKNOWN,this._colorType=La.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(p6(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(p6(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case FAe:zAe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?h6(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?h6(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=HAe(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case La.GREYSCALE:i=1;break;case La.TRUECOLOUR:i=3;break;case La.INDEXED_COLOUR:i=1;break;case La.GREYSCALE_ALPHA:i=2;break;case La.TRUECOLOUR_ALPHA:i=4;break;case La.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case La.GREYSCALE:case La.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case La.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case La.UNKNOWN:case La.GREYSCALE_ALPHA:case La.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=p9(this),i=this.readUint8();if(i!==Nx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:_Ae(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=d6({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Pv.NONE:break;case Pv.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case Pv.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,s)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,u=(o*r.width+s)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case Ix.SOURCE:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case Ix.OVER:for(let o=0;o<r.height;o++)for(let s=0;s<r.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++){const f=r.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:r.data[u+c],h=Math.floor(f*d+(1-f)*n.data[l+c]);n.data[l+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==m6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kx.NO_INTERLACE)this._png.data=d6({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kx.ADAM7)this._png.data=IAe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pv.NONE,blendOp:Ix.SOURCE,data:n}),this._inflator=new c6,this._writingDataChunks=!1}}function HAe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var g6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(g6||(g6={}));function GAe(t,e){return new WAe(t,e).decode()}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ox(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Cn={log:Ox,warn:function(t){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Ox.call(null,arguments))},error:function(t){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Ox(t))}};function Cx(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Lc(r.response,e,n)},r.onerror=function(){Cn.error("could not download file")},r.send()}function v6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Lc=St.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=St.URL||St.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?v6(i.href)?Cx(t,e,n):Tv(i,i.target="_blank"):Tv(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(v6(t))Cx(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Tv(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:_n(a)!=="object"&&(Cn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Cx(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(St.HTMLElement)||St.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},s.readAsDataURL(t)}else{var l=St.URL||St.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function m9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}var ey=St.atob.bind(St),y6=St.btoa.bind(St);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lx(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=Ii(n,r,i,a,e[0],7,-680876936),a=Ii(a,n,r,i,e[1],12,-389564586),i=Ii(i,a,n,r,e[2],17,606105819),r=Ii(r,i,a,n,e[3],22,-1044525330),n=Ii(n,r,i,a,e[4],7,-176418897),a=Ii(a,n,r,i,e[5],12,1200080426),i=Ii(i,a,n,r,e[6],17,-1473231341),r=Ii(r,i,a,n,e[7],22,-45705983),n=Ii(n,r,i,a,e[8],7,1770035416),a=Ii(a,n,r,i,e[9],12,-1958414417),i=Ii(i,a,n,r,e[10],17,-42063),r=Ii(r,i,a,n,e[11],22,-1990404162),n=Ii(n,r,i,a,e[12],7,1804603682),a=Ii(a,n,r,i,e[13],12,-40341101),i=Ii(i,a,n,r,e[14],17,-1502002290),n=Oi(n,r=Ii(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Oi(a,n,r,i,e[6],9,-1069501632),i=Oi(i,a,n,r,e[11],14,643717713),r=Oi(r,i,a,n,e[0],20,-373897302),n=Oi(n,r,i,a,e[5],5,-701558691),a=Oi(a,n,r,i,e[10],9,38016083),i=Oi(i,a,n,r,e[15],14,-660478335),r=Oi(r,i,a,n,e[4],20,-405537848),n=Oi(n,r,i,a,e[9],5,568446438),a=Oi(a,n,r,i,e[14],9,-1019803690),i=Oi(i,a,n,r,e[3],14,-187363961),r=Oi(r,i,a,n,e[8],20,1163531501),n=Oi(n,r,i,a,e[13],5,-1444681467),a=Oi(a,n,r,i,e[2],9,-51403784),i=Oi(i,a,n,r,e[7],14,1735328473),n=Ci(n,r=Oi(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Ci(a,n,r,i,e[8],11,-2022574463),i=Ci(i,a,n,r,e[11],16,1839030562),r=Ci(r,i,a,n,e[14],23,-35309556),n=Ci(n,r,i,a,e[1],4,-1530992060),a=Ci(a,n,r,i,e[4],11,1272893353),i=Ci(i,a,n,r,e[7],16,-155497632),r=Ci(r,i,a,n,e[10],23,-1094730640),n=Ci(n,r,i,a,e[13],4,681279174),a=Ci(a,n,r,i,e[0],11,-358537222),i=Ci(i,a,n,r,e[3],16,-722521979),r=Ci(r,i,a,n,e[6],23,76029189),n=Ci(n,r,i,a,e[9],4,-640364487),a=Ci(a,n,r,i,e[12],11,-421815835),i=Ci(i,a,n,r,e[15],16,530742520),n=Li(n,r=Ci(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Li(a,n,r,i,e[7],10,1126891415),i=Li(i,a,n,r,e[14],15,-1416354905),r=Li(r,i,a,n,e[5],21,-57434055),n=Li(n,r,i,a,e[12],6,1700485571),a=Li(a,n,r,i,e[3],10,-1894986606),i=Li(i,a,n,r,e[10],15,-1051523),r=Li(r,i,a,n,e[1],21,-2054922799),n=Li(n,r,i,a,e[8],6,1873313359),a=Li(a,n,r,i,e[15],10,-30611744),i=Li(i,a,n,r,e[6],15,-1560198380),r=Li(r,i,a,n,e[13],21,1309151649),n=Li(n,r,i,a,e[4],6,-145523070),a=Li(a,n,r,i,e[11],10,-1120210379),i=Li(i,a,n,r,e[2],15,718787259),r=Li(r,i,a,n,e[9],21,-343485551),t[0]=Ou(n,t[0]),t[1]=Ou(r,t[1]),t[2]=Ou(i,t[2]),t[3]=Ou(a,t[3])}function Lb(t,e,n,r,i,a){return e=Ou(Ou(e,t),Ou(r,a)),Ou(e<<i|e>>>32-i,n)}function Ii(t,e,n,r,i,a,o){return Lb(e&n|~e&r,t,e,i,a,o)}function Oi(t,e,n,r,i,a,o){return Lb(e&r|n&~r,t,e,i,a,o)}function Ci(t,e,n,r,i,a,o){return Lb(e^n^r,t,e,i,a,o)}function Li(t,e,n,r,i,a,o){return Lb(n^(e|~r),t,e,i,a,o)}function g9(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Lx(r,KAe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Lx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Lx(r,i),r}function KAe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var b6="0123456789abcdef".split("");function YAe(t){for(var e="",n=0;n<4;n++)e+=b6[t>>8*n+4&15]+b6[t>>8*n&15];return e}function XAe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function WS(t){return g9(t).map(XAe).join("")}var QAe=function(t){for(var e=0;e<t.length;e++)t[e]=YAe(t[e]);return t.join("")}(g9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ou(t,e){if(QAe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function HS(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}n=t,r=s}else s=r;var f=e.length,d=0,h=0,v="";for(l=0;l<f;l++)h=(h+(c=s[d=(d+1)%256]))%256,s[d]=s[h],s[h]=c,o=s[(s[d]+s[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var w6={print:4,modify:8,copy:16,"annot-forms":32};function oh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(w6.perm!==void 0)throw new Error("Invalid permission: "+s);i+=w6[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=WS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=HS(this.encryptionKey,this.padding)}function sh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function x6(t){if(_n(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(s){St.console&&Cn.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Y1(t){if(!(this instanceof Y1))return new Y1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function v9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Mc(t,e,n,r,i){if(!(this instanceof Mc))return new Mc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,v9.call(this,r,i)}function Ah(t,e,n,r,i){if(!(this instanceof Ah))return new Ah(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,v9.call(this,r,i)}function ht(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;_n(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=x6;var v="1.3",b=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(A){v=A};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return w};var y=h.__private__.getPageFormat=function(A){return w[A]};i=i||"a4";var _="compat",S="advanced",N=_;function O(){this.saveGraphicsState(),G(new gt(Pt,0,0,-Pt,0,eo()*Pt).toString()+" cm"),this.setFontSize(this.getFontSize()/Pt),u="n",N=S}function R(){this.restoreGraphicsState(),u="S",N=_}var k=h.__private__.combineFontStyleAndFontWeight=function(A,U){if(A=="bold"&&U=="normal"||A=="bold"&&U==400||A=="normal"&&U=="italic"||A=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(A=U==400||U==="normal"?A==="italic"?"italic":"normal":U!=700&&U!=="bold"||A!=="normal"?(U==700?"bold":U)+""+A:"bold"),A};h.advancedAPI=function(A){var U=N===_;return U&&O.call(this),typeof A!="function"||(A(this),U&&R.call(this)),this},h.compatAPI=function(A){var U=N===S;return U&&R.call(this),typeof A!="function"||(A(this),U&&O.call(this)),this},h.isAdvancedAPI=function(){return N===S};var P,E=function(A){if(N!==S)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(A,U){var ne=e||U;if(isNaN(A)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ne).replace(/0+$/,"")};P=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return F(A,16)};var T=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return F(A,2)},j=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return F(A,3)},M=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return N===_?A*Pt:N===S?A:void 0},z=function(A){return M(function(U){return N===_?eo()-U:N===S?U:void 0}(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var Q,oe="00000000000000000000000000000000",ue=h.__private__.getFileId=function(){return oe},X=h.__private__.setFileId=function(A){return oe=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(kn=new oh(c.userPermissions,c.userPassword,c.ownerPassword,oe)),oe};h.setFileId=function(A){return X(A),this},h.getFileId=function(){return ue()};var ae=h.__private__.convertDateToPDFDate=function(A){var U=A.getTimezoneOffset(),ne=U<0?"+":"-",fe=Math.floor(Math.abs(U/60)),ve=Math.abs(U%60),Ce=[ne,te(fe),"'",te(ve),"'"].join("");return["D:",A.getFullYear(),te(A.getMonth()+1),te(A.getDate()),te(A.getHours()),te(A.getMinutes()),te(A.getSeconds()),Ce].join("")},pe=h.__private__.convertPDFDateToDate=function(A){var U=parseInt(A.substr(2,4),10),ne=parseInt(A.substr(6,2),10)-1,fe=parseInt(A.substr(8,2),10),ve=parseInt(A.substr(10,2),10),Ce=parseInt(A.substr(12,2),10),De=parseInt(A.substr(14,2),10);return new Date(U,ne,fe,ve,Ce,De,0)},he=h.__private__.setCreationDate=function(A){var U;if(A===void 0&&(A=new Date),A instanceof Date)U=ae(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=A}return Q=U},$=h.__private__.getCreationDate=function(A){var U=Q;return A==="jsDate"&&(U=pe(Q)),U};h.setCreationDate=function(A){return he(A),this},h.getCreationDate=function(A){return $(A)};var W,te=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},le=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},ee=0,ce=[],Se=[],de=0,_e=[],Te=[],Z=!1,xe=Se;h.__private__.setCustomOutputDestination=function(A){Z=!0,xe=A};var Ne=function(A){Z||(xe=A)};h.__private__.resetCustomOutputDestination=function(){Z=!1,xe=Se};var G=h.__private__.out=function(A){return A=A.toString(),de+=A.length+1,xe.push(A),xe},ke=h.__private__.write=function(A){return G(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},He=h.__private__.getArrayBuffer=function(A){for(var U=A.length,ne=new ArrayBuffer(U),fe=new Uint8Array(ne);U--;)fe[U]=A.charCodeAt(U);return ne},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ge};var Re=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return Re=N===S?A/Pt:A,this};var Xe,ze=h.__private__.getFontSize=h.getFontSize=function(){return N===_?Re:Re*Pt},et=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return et=A,this},h.__private__.getR2L=h.getR2L=function(){return et};var nt,zt=h.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Xe=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Xe=A}else Xe=parseInt(A,10)};h.__private__.getZoomMode=function(){return Xe};var Lt,ut=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');nt=A};h.__private__.getPageMode=function(){return nt};var bt=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Lt=A};h.__private__.getLayoutMode=function(){return Lt},h.__private__.setDisplayMode=h.setDisplayMode=function(A,U,ne){return zt(A),bt(U),ut(ne),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(Mt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[A]},h.__private__.getDocumentProperties=function(){return Mt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var U in Mt)Mt.hasOwnProperty(U)&&A[U]&&(Mt[U]=A[U]);return this},h.__private__.setDocumentProperty=function(A,U){if(Object.keys(Mt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[A]=U};var rt,Pt,ct,Nn,Wt,jt={},Ot={},Rn=[],dt={},hn={},vt={},At={},dn=null,Rt=0,pt=[],$t=new x6(h),Jo=t.hotfixes||[],br={},Ha={},_i=[],gt=function A(U,ne,fe,ve,Ce,De){if(!(this instanceof A))return new A(U,ne,fe,ve,Ce,De);isNaN(U)&&(U=1),isNaN(ne)&&(ne=0),isNaN(fe)&&(fe=0),isNaN(ve)&&(ve=1),isNaN(Ce)&&(Ce=0),isNaN(De)&&(De=0),this._matrix=[U,ne,fe,ve,Ce,De]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(A)},gt.prototype.multiply=function(A){var U=A.sx*this.sx+A.shy*this.shx,ne=A.sx*this.shy+A.shy*this.sy,fe=A.shx*this.sx+A.sy*this.shx,ve=A.shx*this.shy+A.sy*this.sy,Ce=A.tx*this.sx+A.ty*this.shx+this.tx,De=A.tx*this.shy+A.ty*this.sy+this.ty;return new gt(U,ne,fe,ve,Ce,De)},gt.prototype.decompose=function(){var A=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ce=this.ty,De=Math.sqrt(A*A+U*U),Ye=(A/=De)*ne+(U/=De)*fe;ne-=A*Ye,fe-=U*Ye;var it=Math.sqrt(ne*ne+fe*fe);return Ye/=it,A*(fe/=it)<U*(ne/=it)&&(A=-A,U=-U,Ye=-Ye,De=-De),{scale:new gt(De,0,0,it,0,0),translate:new gt(1,0,0,1,ve,Ce),rotate:new gt(A,U,-U,A,0,0),skew:new gt(1,0,Ye,1,0,0)}},gt.prototype.toString=function(A){return this.join(" ")},gt.prototype.inversed=function(){var A=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ce=this.ty,De=1/(A*fe-U*ne),Ye=fe*De,it=-U*De,wt=-ne*De,Tt=A*De;return new gt(Ye,it,wt,Tt,-Ye*ve-wt*Ce,-it*ve-Tt*Ce)},gt.prototype.applyToPoint=function(A){var U=A.x*this.sx+A.y*this.shx+this.tx,ne=A.x*this.shy+A.y*this.sy+this.ty;return new Ja(U,ne)},gt.prototype.applyToRectangle=function(A){var U=this.applyToPoint(A),ne=this.applyToPoint(new Ja(A.x+A.w,A.y+A.h));return new Yl(U.x,U.y,ne.x-U.x,ne.y-U.y)},gt.prototype.clone=function(){var A=this.sx,U=this.shy,ne=this.shx,fe=this.sy,ve=this.tx,Ce=this.ty;return new gt(A,U,ne,fe,ve,Ce)},h.Matrix=gt;var Un=h.matrixMult=function(A,U){return U.multiply(A)},Ga=new gt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ga;var Qr=function(A,U){if(!hn[A]){var ne=(U instanceof Mc?"Sh":"P")+(Object.keys(dt).length+1).toString(10);U.id=ne,hn[A]=ne,dt[ne]=U,$t.publish("addPattern",U)}};h.ShadingPattern=Mc,h.TilingPattern=Ah,h.addShadingPattern=function(A,U){return E("addShadingPattern()"),Qr(A,U),this},h.beginTilingPattern=function(A){E("beginTilingPattern()"),os(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,U){E("endTilingPattern()"),U.stream=Te[W].join(`
`),Qr(A,U),$t.publish("endTilingPattern",U),_i.pop().restore()};var Jr,Xn=h.__private__.newObject=function(){var A=Cr();return Qn(A,!0),A},Cr=h.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return de},ee},Qn=function(A,U){return U=typeof U=="boolean"&&U,ce[A]=de,U&&G(A+" 0 obj"),A},qs=h.__private__.newAdditionalObject=function(){var A={objId:Cr(),content:""};return _e.push(A),A},Zo=Cr(),Si=Cr(),wa=h.__private__.decodeColorString=function(A){var U=A.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var ne=parseFloat(U[0]);U=[ne,ne,ne,"r"]}for(var fe="#",ve=0;ve<3;ve++)fe+=("0"+Math.floor(255*parseFloat(U[ve])).toString(16)).slice(-2);return fe},Vi=h.__private__.encodeColorString=function(A){var U;typeof A=="string"&&(A={ch1:A});var ne=A.ch1,fe=A.ch2,ve=A.ch3,Ce=A.ch4,De=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var Ye=new m9(ne);if(Ye.ok)ne=Ye.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var it=parseInt(ne.substr(1),16);ne=it>>16&255,fe=it>>8&255,ve=255&it}if(fe===void 0||Ce===void 0&&ne===fe&&fe===ve)U=typeof ne=="string"?ne+" "+De[0]:A.precision===2?T(ne/255)+" "+De[0]:j(ne/255)+" "+De[0];else if(Ce===void 0||_n(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",De[1]].join(" ");U=typeof ne=="string"?[ne,fe,ve,De[1]].join(" "):A.precision===2?[T(ne/255),T(fe/255),T(ve/255),De[1]].join(" "):[j(ne/255),j(fe/255),j(ve/255),De[1]].join(" ")}else U=typeof ne=="string"?[ne,fe,ve,Ce,De[2]].join(" "):A.precision===2?[T(ne),T(fe),T(ve),T(Ce),De[2]].join(" "):[j(ne),j(fe),j(ve),j(Ce),De[2]].join(" ");return U},Ai=h.__private__.getFilters=function(){return o},wr=h.__private__.putStream=function(A){var U=(A=A||{}).data||"",ne=A.filters||Ai(),fe=A.alreadyAppliedFilters||[],ve=A.addLength1||!1,Ce=U.length,De=A.objectId,Ye=function(cr){return cr};if(c!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=kn.encryptor(De,0));var it={};ne===!0&&(ne=["FlateEncode"]);var wt=A.additionalKeyValues||[],Tt=(it=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(U,ne):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(it.data.length!==0&&(wt.push({key:"Length",value:it.data.length}),ve===!0&&wt.push({key:"Length1",value:Ce})),Tt.length!=0)if(Tt.split("/").length-1==1)wt.push({key:"Filter",value:Tt});else{wt.push({key:"Filter",value:"["+Tt+"]"});for(var Gt=0;Gt<wt.length;Gt+=1)if(wt[Gt].key==="DecodeParms"){for(var sn=[],nr=0;nr<it.reverseChain.split("/").length-1;nr+=1)sn.push("null");sn.push(wt[Gt].value),wt[Gt].value="["+sn.join(" ")+"]"}}G("<<");for(var gn=0;gn<wt.length;gn++)G("/"+wt[gn].key+" "+wt[gn].value);G(">>"),it.data.length!==0&&(G("stream"),G(Ye(it.data)),G("endstream"))},es=h.__private__.putPage=function(A){var U=A.number,ne=A.data,fe=A.objId,ve=A.contentsObjId;Qn(fe,!0),G("<</Type /Page"),G("/Parent "+A.rootDictionaryObjId+" 0 R"),G("/Resources "+A.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(P(A.mediaBox.bottomLeftX))+" "+parseFloat(P(A.mediaBox.bottomLeftY))+" "+P(A.mediaBox.topRightX)+" "+P(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&G("/CropBox ["+P(A.cropBox.bottomLeftX)+" "+P(A.cropBox.bottomLeftY)+" "+P(A.cropBox.topRightX)+" "+P(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&G("/BleedBox ["+P(A.bleedBox.bottomLeftX)+" "+P(A.bleedBox.bottomLeftY)+" "+P(A.bleedBox.topRightX)+" "+P(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&G("/TrimBox ["+P(A.trimBox.bottomLeftX)+" "+P(A.trimBox.bottomLeftY)+" "+P(A.trimBox.topRightX)+" "+P(A.trimBox.topRightY)+"]"),A.artBox!==null&&G("/ArtBox ["+P(A.artBox.bottomLeftX)+" "+P(A.artBox.bottomLeftY)+" "+P(A.artBox.topRightX)+" "+P(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&G("/UserUnit "+A.userUnit),$t.publish("putPage",{objId:fe,pageContext:pt[U],pageNumber:U,page:ne}),G("/Contents "+ve+" 0 R"),G(">>"),G("endobj");var Ce=ne.join(`
`);return N===S&&(Ce+=`
Q`),Qn(ve,!0),wr({data:Ce,filters:Ai(),objectId:ve}),G("endobj"),fe},xa=h.__private__.putPages=function(){var A,U,ne=[];for(A=1;A<=Rt;A++)pt[A].objId=Cr(),pt[A].contentsObjId=Cr();for(A=1;A<=Rt;A++)ne.push(es({number:A,data:Te[A],objId:pt[A].objId,contentsObjId:pt[A].contentsObjId,mediaBox:pt[A].mediaBox,cropBox:pt[A].cropBox,bleedBox:pt[A].bleedBox,trimBox:pt[A].trimBox,artBox:pt[A].artBox,userUnit:pt[A].userUnit,rootDictionaryObjId:Zo,resourceDictionaryObjId:Si}));Qn(Zo,!0),G("<</Type /Pages");var fe="/Kids [";for(U=0;U<Rt;U++)fe+=ne[U]+" 0 R ";G(fe+"]"),G("/Count "+Rt),G(">>"),G("endobj"),$t.publish("postPutPages")},Ao=function(A){$t.publish("putFont",{font:A,out:G,newObject:Xn,putStream:wr}),A.isAlreadyPutted!==!0&&(A.objectNumber=Xn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+sh(A.postScriptName)),G("/Subtype /Type1"),typeof A.encoding=="string"&&G("/Encoding /"+A.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},ts=function(A){A.objectNumber=Xn();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[P(A.x),P(A.y),P(A.x+A.width),P(A.y+A.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ne=A.pages[1].join(`
`);wr({data:ne,additionalKeyValues:U,objectId:A.objectNumber}),G("endobj")},Ws=function(A,U){U||(U=21);var ne=Xn(),fe=function(De,Ye){var it,wt=[],Tt=1/(Ye-1);for(it=0;it<1;it+=Tt)wt.push(it);if(wt.push(1),De[0].offset!=0){var Gt={offset:0,color:De[0].color};De.unshift(Gt)}if(De[De.length-1].offset!=1){var sn={offset:1,color:De[De.length-1].color};De.push(sn)}for(var nr="",gn=0,cr=0;cr<wt.length;cr++){for(it=wt[cr];it>De[gn+1].offset;)gn++;var rr=De[gn].offset,fr=(it-rr)/(De[gn+1].offset-rr),ir=De[gn].color,oa=De[gn+1].color;nr+=le(Math.round((1-fr)*ir[0]+fr*oa[0]).toString(16))+le(Math.round((1-fr)*ir[1]+fr*oa[1]).toString(16))+le(Math.round((1-fr)*ir[2]+fr*oa[2]).toString(16))}return nr.trim()}(A.colors,U),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+U+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wr({data:fe,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),G("endobj"),A.objectNumber=Xn(),G("<< /ShadingType "+A.type),G("/ColorSpace /DeviceRGB");var Ce="/Coords ["+P(parseFloat(A.coords[0]))+" "+P(parseFloat(A.coords[1]))+" ";A.type===2?Ce+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3])):Ce+=P(parseFloat(A.coords[2]))+" "+P(parseFloat(A.coords[3]))+" "+P(parseFloat(A.coords[4]))+" "+P(parseFloat(A.coords[5])),G(Ce+="]"),A.matrix&&G("/Matrix ["+A.matrix.toString()+"]"),G("/Function "+ne+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Hs=function(A,U){var ne=Cr(),fe=Xn();U.push({resourcesOid:ne,objectOid:fe}),A.objectNumber=fe;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+A.boundingBox.map(P).join(" ")+"]"}),ve.push({key:"XStep",value:P(A.xStep)}),ve.push({key:"YStep",value:P(A.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),A.matrix&&ve.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),wr({data:A.stream,additionalKeyValues:ve,objectId:A.objectNumber}),G("endobj")},Qd=function(A){for(var U in A.objectNumber=Xn(),G("<<"),A)switch(U){case"opacity":G("/ca "+T(A[U]));break;case"stroke-opacity":G("/CA "+T(A[U]))}G(">>"),G("endobj")},ns=function(A){Qn(A.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in G("/Font <<"),jt)jt.hasOwnProperty(U)&&(f===!1||f===!0&&d.hasOwnProperty(U))&&G("/"+U+" "+jt[U].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(dt).length>0){for(var U in G("/Shading <<"),dt)dt.hasOwnProperty(U)&&dt[U]instanceof Mc&&dt[U].objectNumber>=0&&G("/"+U+" "+dt[U].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),G(">>")}}(),function(U){if(Object.keys(dt).length>0){for(var ne in G("/Pattern <<"),dt)dt.hasOwnProperty(ne)&&dt[ne]instanceof h.TilingPattern&&dt[ne].objectNumber>=0&&dt[ne].objectNumber<U&&G("/"+ne+" "+dt[ne].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),G(">>")}}(A.objectOid),function(){if(Object.keys(vt).length>0){var U;for(U in G("/ExtGState <<"),vt)vt.hasOwnProperty(U)&&vt[U].objectNumber>=0&&G("/"+U+" "+vt[U].objectNumber+" 0 R");$t.publish("putGStateDict"),G(">>")}}(),function(){for(var U in G("/XObject <<"),br)br.hasOwnProperty(U)&&br[U].objectNumber>=0&&G("/"+U+" "+br[U].objectNumber+" 0 R");$t.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},uc=function(A){Ot[A.fontName]=Ot[A.fontName]||{},Ot[A.fontName][A.fontStyle]=A.id},zl=function(A,U,ne,fe,ve){var Ce={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:A,fontName:U,fontStyle:ne,encoding:fe,isStandardFont:ve||!1,metadata:{}};return $t.publish("addFont",{font:Ce,instance:this}),jt[Ce.id]=Ce,uc(Ce),Ce.id},Zr=h.__private__.pdfEscape=h.pdfEscape=function(A,U){return function(ne,fe){var ve,Ce,De,Ye,it,wt,Tt,Gt,sn;if(De=(fe=fe||{}).sourceEncoding||"Unicode",it=fe.outputEncoding,(fe.autoencode||it)&&jt[rt].metadata&&jt[rt].metadata[De]&&jt[rt].metadata[De].encoding&&(Ye=jt[rt].metadata[De].encoding,!it&&jt[rt].encoding&&(it=jt[rt].encoding),!it&&Ye.codePages&&(it=Ye.codePages[0]),typeof it=="string"&&(it=Ye[it]),it)){for(Tt=!1,wt=[],ve=0,Ce=ne.length;ve<Ce;ve++)(Gt=it[ne.charCodeAt(ve)])?wt.push(String.fromCharCode(Gt)):wt.push(ne[ve]),wt[ve].charCodeAt(0)>>8&&(Tt=!0);ne=wt.join("")}for(ve=ne.length;Tt===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(Tt=!0),ve--;if(!Tt)return ne;for(wt=fe.noBOM?[]:[254,255],ve=0,Ce=ne.length;ve<Ce;ve++){if((sn=(Gt=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(sn),wt.push(Gt-(sn<<8))}return String.fromCharCode.apply(void 0,wt)}(A,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_a=h.__private__.beginPage=function(A){Te[++Rt]=[],pt[Rt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},fc(Rt),Ne(Te[W])},ql=function(A,U){var ne,fe,ve;switch(n=U||n,typeof A=="string"&&(ne=y(A.toLowerCase()),Array.isArray(ne)&&(fe=ne[0],ve=ne[1])),Array.isArray(A)&&(fe=A[0]*Pt,ve=A[1]*Pt),isNaN(fe)&&(fe=i[0],ve=i[1]),(fe>14400||ve>14400)&&(Cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ve=Math.min(14400,ve)),i=[fe,ve],n.substr(0,1)){case"l":ve>fe&&(i=[ve,fe]);break;case"p":fe>ve&&(i=[ve,fe])}_a(i),yt(Hl),G(Po),Pn!==0&&G(Pn+" J"),vc!==0&&G(vc+" j"),$t.publish("addPage",{pageNumber:Rt})},cc=function(A){A>0&&A<=Rt&&(Te.splice(A,1),pt.splice(A,1),Rt--,W>Rt&&(W=Rt),this.setPage(W))},fc=function(A){A>0&&A<=Rt&&(W=A)},hc=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Te.length-1},dc=function(A,U,ne){var fe,ve=void 0;return ne=ne||{},A=A!==void 0?A:jt[rt].fontName,U=U!==void 0?U:jt[rt].fontStyle,fe=A.toLowerCase(),Ot[fe]!==void 0&&Ot[fe][U]!==void 0?ve=Ot[fe][U]:Ot[A]!==void 0&&Ot[A][U]!==void 0?ve=Ot[A][U]:ne.disableWarning===!1&&Cn.warn("Unable to look up font label for font '"+A+"', '"+U+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=Ot.times[U])==null&&(ve=Ot.times.normal),ve},ia=h.__private__.putInfo=function(){var A=Xn(),U=function(fe){return fe};for(var ne in c!==null&&(U=kn.encryptor(A,0)),G("<<"),G("/Producer ("+Zr(U("jsPDF "+ht.version))+")"),Mt)Mt.hasOwnProperty(ne)&&Mt[ne]&&G("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Zr(U(Mt[ne]))+")");G("/CreationDate ("+Zr(U(Q))+")"),G(">>"),G("endobj")},rs=h.__private__.putCatalog=function(A){var U=(A=A||{}).rootDictionaryObjId||Zo;switch(Xn(),G("<<"),G("/Type /Catalog"),G("/Pages "+U+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Xe;ne.substr(ne.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&G("/OpenAction [3 0 R /XYZ null null "+T(Xe)+"]")}switch(Lt||(Lt="continuous"),Lt){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}nt&&G("/PageMode /"+nt),$t.publish("putCatalog"),G(">>"),G("endobj")},Df=h.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(ee+1)),G("/Root "+ee+" 0 R"),G("/Info "+(ee-1)+" 0 R"),c!==null&&G("/Encrypt "+kn.oid+" 0 R"),G("/ID [ <"+oe+"> <"+oe+"> ]"),G(">>")},tr=h.__private__.putHeader=function(){G("%PDF-"+v),G("%")},Ff=h.__private__.putXRef=function(){var A="0000000000";G("xref"),G("0 "+(ee+1)),G("0000000000 65535 f ");for(var U=1;U<=ee;U++)typeof ce[U]=="function"?G((A+ce[U]()).slice(-10)+" 00000 n "):ce[U]!==void 0?G((A+ce[U]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Ka=h.__private__.buildDocument=function(){var A;ee=0,de=0,Se=[],ce=[],_e=[],Zo=Cr(),Si=Cr(),Ne(Se),$t.publish("buildDocument"),tr(),xa(),function(){$t.publish("putAdditionalObjects");for(var ne=0;ne<_e.length;ne++){var fe=_e[ne];Qn(fe.objId,!0),G(fe.content),G("endobj")}$t.publish("postPutAdditionalObjects")}(),A=[],function(){for(var ne in jt)jt.hasOwnProperty(ne)&&(f===!1||f===!0&&d.hasOwnProperty(ne))&&Ao(jt[ne])}(),function(){var ne;for(ne in vt)vt.hasOwnProperty(ne)&&Qd(vt[ne])}(),function(){for(var ne in br)br.hasOwnProperty(ne)&&ts(br[ne])}(),function(ne){var fe;for(fe in dt)dt.hasOwnProperty(fe)&&(dt[fe]instanceof Mc?Ws(dt[fe]):dt[fe]instanceof Ah&&Hs(dt[fe],ne))}(A),$t.publish("putResources"),A.forEach(ns),ns({resourcesOid:Si,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),c!==null&&(kn.oid=Xn(),G("<<"),G("/Filter /Standard"),G("/V "+kn.v),G("/R "+kn.r),G("/U <"+kn.toHexString(kn.U)+">"),G("/O <"+kn.toHexString(kn.O)+">"),G("/P "+kn.P),G(">>"),G("endobj")),ia(),rs();var U=de;return Ff(),Df(),G("startxref"),G(""+U),G("%%EOF"),Ne(Te[W]),Se.join(`
`)},Gs=h.__private__.getBlob=function(A){return new Blob([He(A)],{type:"application/pdf"})},pc=h.output=h.__private__.output=(Jr=function(A,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",A){case void 0:return Ka();case"save":h.save(U.filename);break;case"arraybuffer":return He(Ka());case"blob":return Gs(Ka());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(Gs(Ka()))||void 0;Cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",fe=Ka();try{ne=y6(fe)}catch{ne=y6(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+U.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(ve=U.pdfObjectUrl,Ce="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",Ye=St.open();return Ye!==null&&Ye.document.write(De),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',wt=St.open();if(wt!==null){wt.document.write(it);var Tt=this;wt.document.documentElement.querySelector("#pdfViewer").onload=function(){wt.document.title=U.filename,wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Tt.output("bloburl"))}}return wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',sn=St.open();if(sn!==null&&(sn.document.write(Gt),sn.document.title=U.filename),sn||typeof safari>"u")return sn;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",U);default:return null}},Jr.foo=function(){try{return Jr.apply(this,arguments)}catch(ne){var A=ne.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var U="Error in function "+A.split(`
`)[0].split("<")[0]+": "+ne.message;if(!St.console)throw new Error(U);St.console.error(U,ne),St.alert&&alert(U)}},Jr.foo.bar=Jr,Jr.foo),aa=function(A){return Array.isArray(Jo)===!0&&Jo.indexOf(A)>-1};switch(r){case"pt":Pt=1;break;case"mm":Pt=72/25.4;break;case"cm":Pt=72/2.54;break;case"in":Pt=72;break;case"px":Pt=aa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pt=12;break;case"ex":Pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Pt=r}var kn=null;he(),X();var $r=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[A].objId,pageNumber:A,pageContext:pt[A]}},Ks=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in pt)if(pt[U].objId===A)break;return $r(U)},Wl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:pt[W].objId,pageNumber:W,pageContext:pt[W]}};h.addPage=function(){return ql.apply(this,arguments),this},h.setPage=function(){return fc.apply(this,arguments),Ne.call(this,Te[W]),this},h.insertPage=function(A){return this.addPage(),this.movePage(W,A),this},h.movePage=function(A,U){var ne,fe;if(A>U){ne=Te[A],fe=pt[A];for(var ve=A;ve>U;ve--)Te[ve]=Te[ve-1],pt[ve]=pt[ve-1];Te[U]=ne,pt[U]=fe,this.setPage(U)}else if(A<U){ne=Te[A],fe=pt[A];for(var Ce=A;Ce<U;Ce++)Te[Ce]=Te[Ce+1],pt[Ce]=pt[Ce+1];Te[U]=ne,pt[U]=fe,this.setPage(U)}return this},h.deletePage=function(){return cc.apply(this,arguments),this},h.__private__.text=h.text=function(A,U,ne,fe,ve){var Ce,De,Ye,it,wt,Tt,Gt,sn,nr,gn=(fe=fe||{}).scope||this;if(typeof A=="number"&&typeof U=="number"&&(typeof ne=="string"||Array.isArray(ne))){var cr=ne;ne=U,U=A,A=cr}if(arguments[3]instanceof gt==0?(Ye=arguments[4],it=arguments[5],_n(Gt=arguments[3])==="object"&&Gt!==null||(typeof Ye=="string"&&(it=Ye,Ye=null),typeof Gt=="string"&&(it=Gt,Gt=null),typeof Gt=="number"&&(Ye=Gt,Gt=null),fe={flags:Gt,angle:Ye,align:it})):(E("The transform parameter of text() with a Matrix value"),nr=ve),isNaN(U)||isNaN(ne)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return gn;var rr,fr="",ir=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:as,oa=gn.internal.scaleFactor;function to(pn){return pn=pn.split("	").join(Array(fe.TabLen||9).join(" ")),Zr(pn,Gt)}function no(pn){for(var In,_r=pn.concat(),Br=[],el=_r.length;el--;)typeof(In=_r.shift())=="string"?Br.push(In):Array.isArray(pn)&&(In.length===1||In[1]===void 0&&In[2]===void 0)?Br.push(In[0]):Br.push([In[0],In[1],In[2]]);return Br}function m(pn,In){var _r;if(typeof pn=="string")_r=In(pn)[0];else if(Array.isArray(pn)){for(var Br,el,fp=pn.concat(),Hf=[],b0=fp.length;b0--;)typeof(Br=fp.shift())=="string"?Hf.push(In(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(el=In(Br[0],Br[1],Br[2]),Hf.push([el[0],el[1],el[2]]));_r=Hf}return _r}var C=!1,B=!0;if(typeof A=="string")C=!0;else if(Array.isArray(A)){var Y=A.concat();De=[];for(var ye,Pe=Y.length;Pe--;)(typeof(ye=Y.shift())!="string"||Array.isArray(ye)&&typeof ye[0]!="string")&&(B=!1);C=B}if(C===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ve=Re/gn.internal.scaleFactor,Yt=Ve*(ir-1);switch(fe.baseline){case"bottom":ne-=Yt;break;case"top":ne+=Ve-Yt;break;case"hanging":ne+=Ve-2*Yt;break;case"middle":ne+=Ve/2-Yt}if((Tt=fe.maxWidth||0)>0&&(typeof A=="string"?A=gn.splitTextToSize(A,Tt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(pn,In){return pn.concat(gn.splitTextToSize(In,Tt))},[]))),Ce={text:A,x:U,y:ne,options:fe,mutex:{pdfEscape:Zr,activeFontKey:rt,fonts:jt,activeFontSize:Re}},$t.publish("preProcessText",Ce),A=Ce.text,Ye=(fe=Ce.options).angle,nr instanceof gt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,fe.rotationDirection===0&&(Ye=-Ye),N===S&&(Ye=-Ye);var ar=Math.cos(Ye),Bt=Math.sin(Ye);nr=new gt(ar,Bt,-Bt,ar,0,0)}else Ye&&Ye instanceof gt&&(nr=Ye);N!==S||nr||(nr=Ga),(wt=fe.charSpace||Qa)!==void 0&&(fr+=P(M(wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sn=fe.horizontalScale)!==void 0&&(fr+=P(100*sn)+` Tz
`),fe.lang;var nn=-1,Mn=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Aa=gn.internal.getCurrentPageInfo().pageContext;switch(Mn){case 0:case!1:case"fill":nn=0;break;case 1:case!0:case"stroke":nn=1;break;case 2:case"fillThenStroke":nn=2;break;case 3:case"invisible":nn=3;break;case 4:case"fillAndAddForClipping":nn=4;break;case 5:case"strokeAndAddPathForClipping":nn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":nn=6;break;case 7:case"addToPathForClipping":nn=7}var Ei=Aa.usedRenderingMode!==void 0?Aa.usedRenderingMode:-1;nn!==-1?fr+=nn+` Tr
`:Ei!==-1&&(fr+=`0 Tr
`),nn!==-1&&(Aa.usedRenderingMode=nn),it=fe.align||"left";var ui,To=Re*ir,ip=gn.internal.pageSize.getWidth(),ap=jt[rt];wt=fe.charSpace||Qa,Tt=fe.maxWidth||0,Gt=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Ql=[],wc=function(pn){return gn.getStringUnitWidth(pn,{font:ap,charSpace:wt,fontSize:Re,doKerning:!1})*Re/oa};if(Object.prototype.toString.call(A)==="[object Array]"){var Ea;De=no(A),it!=="left"&&(ui=De.map(wc));var Pa,Jl=0;if(it==="right"){U-=ui[0],A=[],Pe=De.length;for(var Zs=0;Zs<Pe;Zs++)Zs===0?(Pa=ei(U),Ea=Eo(ne)):(Pa=M(Jl-ui[Zs]),Ea=-To),A.push([De[Zs],Pa,Ea]),Jl=ui[Zs]}else if(it==="center"){U-=ui[0]/2,A=[],Pe=De.length;for(var Zl=0;Zl<Pe;Zl++)Zl===0?(Pa=ei(U),Ea=Eo(ne)):(Pa=M((Jl-ui[Zl])/2),Ea=-To),A.push([De[Zl],Pa,Ea]),Jl=ui[Zl]}else if(it==="left"){A=[],Pe=De.length;for(var op=0;op<Pe;op++)A.push(De[op])}else if(it==="justify"&&ap.encoding==="Identity-H"){A=[],Pe=De.length,Tt=Tt!==0?Tt:ip;for(var Wf=0,xr=0;xr<Pe;xr++)if(Ea=xr===0?Eo(ne):-To,Pa=xr===0?ei(U):Wf,xr<Pe-1){var y0=M((Tt-ui[xr])/(De[xr].split(" ").length-1)),ls=De[xr].split(" ");A.push([ls[0]+" ",Pa,Ea]),Wf=0;for(var us=1;us<ls.length;us++){var sp=(wc(ls[us-1]+" "+ls[us])-wc(ls[us]))*oa+y0;us==ls.length-1?A.push([ls[us],sp,0]):A.push([ls[us]+" ",sp,0]),Wf-=sp}}else A.push([De[xr],Pa,Ea]);A.push(["",Wf,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Pe=De.length,Tt=Tt!==0?Tt:ip,xr=0;xr<Pe;xr++){Ea=xr===0?Eo(ne):-To,Pa=xr===0?ei(U):0;var lp=De[xr].split(" ").length-1,up=lp>0?(Tt-ui[xr])/lp:0;xr<Pe-1?Ql.push(P(M(up))):Ql.push(0),A.push([De[xr],Pa,Ea])}}}(typeof fe.R2L=="boolean"?fe.R2L:et)===!0&&(A=m(A,function(pn,In,_r){return[pn.split("").reverse().join(""),In,_r]})),Ce={text:A,x:U,y:ne,options:fe,mutex:{pdfEscape:Zr,activeFontKey:rt,fonts:jt,activeFontSize:Re}},$t.publish("postProcessText",Ce),A=Ce.text,rr=Ce.mutex.isHex||!1;var cp=jt[rt].encoding;cp!=="WinAnsiEncoding"&&cp!=="StandardEncoding"||(A=m(A,function(pn,In,_r){return[to(pn),In,_r]})),De=no(A),A=[];for(var eu,tu,nu,xc=Array.isArray(De[0])?1:0,ru="",_c=function(pn,In,_r){var Br="";return _r instanceof gt?(_r=typeof fe.angle=="number"?Un(_r,new gt(1,0,0,1,pn,In)):Un(new gt(1,0,0,1,pn,In),_r),N===S&&(_r=Un(new gt(1,0,0,-1,0,0),_r)),Br=_r.join(" ")+` Tm
`):Br=P(pn)+" "+P(In)+` Td
`,Br},ro=0;ro<De.length;ro++){switch(ru="",xc){case 1:nu=(rr?"<":"(")+De[ro][0]+(rr?">":")"),eu=parseFloat(De[ro][1]),tu=parseFloat(De[ro][2]);break;case 0:nu=(rr?"<":"(")+De[ro]+(rr?">":")"),eu=ei(U),tu=Eo(ne)}Ql!==void 0&&Ql[ro]!==void 0&&(ru=Ql[ro]+` Tw
`),ro===0?A.push(ru+_c(eu,tu,nr)+nu):xc===0?A.push(ru+nu):xc===1&&A.push(ru+_c(eu,tu,nr)+nu)}A=xc===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var cs=`BT
/`;return cs+=rt+" "+Re+` Tf
`,cs+=P(Re*ir)+` TL
`,cs+=Sa+`
`,cs+=fr,cs+=A,G(cs+="ET"),d[rt]=!0,gn};var $f=h.__private__.clip=h.clip=function(A){return G(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return $f("evenodd")},h.__private__.discardPath=h.discardPath=function(){return G("n"),this};var Ht=h.__private__.isValidStyle=function(A){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(U=!0),U};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return Ht(A)&&(u=A),this};var Ys=h.__private__.getStyle=h.getStyle=function(A){var U=u;switch(A){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=A}return U},is=h.close=function(){return G("h"),this};h.stroke=function(){return G("S"),this},h.fill=function(A){return Ya("f",A),this},h.fillEvenOdd=function(A){return Ya("f*",A),this},h.fillStroke=function(A){return Ya("B",A),this},h.fillStrokeEvenOdd=function(A){return Ya("B*",A),this};var Ya=function(A,U){_n(U)==="object"?Jd(U,A):G(A)},Xs=function(A){A===null||N===S&&A===void 0||(A=Ys(A),G(A))};function Bf(A,U,ne,fe,ve){var Ce=new Ah(U||this.boundingBox,ne||this.xStep,fe||this.yStep,this.gState,ve||this.matrix);Ce.stream=this.stream;var De=A+"$$"+this.cloneIndex+++"$$";return Qr(De,Ce),Ce}var Jd=function(A,U){var ne=hn[A.key],fe=dt[ne];if(fe instanceof Mc)G("q"),G(Zd(U)),fe.gState&&h.setGState(fe.gState),G(A.matrix.toString()+" cm"),G("/"+ne+" sh"),G("Q");else if(fe instanceof Ah){var ve=new gt(1,0,0,-1,0,eo());A.matrix&&(ve=ve.multiply(A.matrix||Ga),ne=Bf.call(fe,A.key,A.boundingBox,A.xStep,A.yStep,ve).id),G("q"),G("/Pattern cs"),G("/"+ne+" scn"),fe.gState&&h.setGState(fe.gState),G(U),G("Q")}},Zd=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},mc=h.moveTo=function(A,U){return G(P(M(A))+" "+P(z(U))+" m"),this},Uf=h.lineTo=function(A,U){return G(P(M(A))+" "+P(z(U))+" l"),this},li=h.curveTo=function(A,U,ne,fe,ve,Ce){return G([P(M(A)),P(z(U)),P(M(ne)),P(z(fe)),P(M(ve)),P(z(Ce)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,U,ne,fe,ve){if(isNaN(A)||isNaN(U)||isNaN(ne)||isNaN(fe)||!Ht(ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===_?this.lines([[ne-A,fe-U]],A,U,[1,1],ve||"S"):this.lines([[ne-A,fe-U]],A,U,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,U,ne,fe,ve,Ce){var De,Ye,it,wt,Tt,Gt,sn,nr,gn,cr,rr,fr;if(typeof A=="number"&&(fr=ne,ne=U,U=A,A=fr),fe=fe||[1,1],Ce=Ce||!1,isNaN(U)||isNaN(ne)||!Array.isArray(A)||!Array.isArray(fe)||!Ht(ve)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mc(U,ne),De=fe[0],Ye=fe[1],wt=A.length,cr=U,rr=ne,it=0;it<wt;it++)(Tt=A[it]).length===2?(cr=Tt[0]*De+cr,rr=Tt[1]*Ye+rr,Uf(cr,rr)):(Gt=Tt[0]*De+cr,sn=Tt[1]*Ye+rr,nr=Tt[2]*De+cr,gn=Tt[3]*Ye+rr,cr=Tt[4]*De+cr,rr=Tt[5]*Ye+rr,li(Gt,sn,nr,gn,cr,rr));return Ce&&is(),Xs(ve),this},h.path=function(A){for(var U=0;U<A.length;U++){var ne=A[U],fe=ne.c;switch(ne.op){case"m":mc(fe[0],fe[1]);break;case"l":Uf(fe[0],fe[1]);break;case"c":li.apply(this,fe);break;case"h":is()}}return this},h.__private__.rect=h.rect=function(A,U,ne,fe,ve){if(isNaN(A)||isNaN(U)||isNaN(ne)||isNaN(fe)||!Ht(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===_&&(fe=-fe),G([P(M(A)),P(z(U)),P(M(ne)),P(M(fe)),"re"].join(" ")),Xs(ve),this},h.__private__.triangle=h.triangle=function(A,U,ne,fe,ve,Ce,De){if(isNaN(A)||isNaN(U)||isNaN(ne)||isNaN(fe)||isNaN(ve)||isNaN(Ce)||!Ht(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-A,fe-U],[ve-ne,Ce-fe],[A-ve,U-Ce]],A,U,[1,1],De,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,U,ne,fe,ve,Ce,De){if(isNaN(A)||isNaN(U)||isNaN(ne)||isNaN(fe)||isNaN(ve)||isNaN(Ce)||!Ht(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),Ce=Math.min(Ce,.5*fe),this.lines([[ne-2*ve,0],[ve*Ye,0,ve,Ce-Ce*Ye,ve,Ce],[0,fe-2*Ce],[0,Ce*Ye,-ve*Ye,Ce,-ve,Ce],[2*ve-ne,0],[-ve*Ye,0,-ve,-Ce*Ye,-ve,-Ce],[0,2*Ce-fe],[0,-Ce*Ye,ve*Ye,-Ce,ve,-Ce]],A+ve,U,[1,1],De,!0),this},h.__private__.ellipse=h.ellipse=function(A,U,ne,fe,ve){if(isNaN(A)||isNaN(U)||isNaN(ne)||isNaN(fe)||!Ht(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*ne,De=4/3*(Math.SQRT2-1)*fe;return mc(A+ne,U),li(A+ne,U-De,A+Ce,U-fe,A,U-fe),li(A-Ce,U-fe,A-ne,U-De,A-ne,U),li(A-ne,U+De,A-Ce,U+fe,A,U+fe),li(A+Ce,U+fe,A+ne,U+De,A+ne,U),Xs(ve),this},h.__private__.circle=h.circle=function(A,U,ne,fe){if(isNaN(A)||isNaN(U)||isNaN(ne)||!Ht(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,U,ne,ne,fe)},h.setFont=function(A,U,ne){return ne&&(U=k(U,ne)),rt=dc(A,U,{disableWarning:!1}),this};var Xa=h.__private__.getFont=h.getFont=function(){return jt[dc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,U,ne={};for(A in Ot)if(Ot.hasOwnProperty(A))for(U in ne[A]=[],Ot[A])Ot[A].hasOwnProperty(U)&&ne[A].push(U);return ne},h.addFont=function(A,U,ne,fe,ve){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(ne=k(ne,fe)),zl.call(this,A,U,ne,ve=ve||"Identity-H")};var as,Hl=t.lineWidth||.200025,Vf=h.__private__.getLineWidth=h.getLineWidth=function(){return Hl},yt=h.__private__.setLineWidth=h.setLineWidth=function(A){return Hl=A,G(P(M(A))+" w"),this};h.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(A,U){if(A=A||[],U=U||0,isNaN(U)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ne){return P(M(ne))}).join(" "),U=P(M(U)),G("["+A+"] "+U+" d"),this};var ep=h.__private__.getLineHeight=h.getLineHeight=function(){return Re*as};h.__private__.getLineHeight=h.getLineHeight=function(){return Re*as};var tp=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(as=A),this},np=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return as};tp(t.lineHeight);var ei=h.__private__.getHorizontalCoordinate=function(A){return M(A)},Eo=h.__private__.getVerticalCoordinate=function(A){return N===S?A:pt[W].mediaBox.topRightY-pt[W].mediaBox.bottomLeftY-M(A)},rp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return P(ei(A))},Gl=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return P(Eo(A))},Po=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return wa(Po)},h.__private__.setStrokeColor=h.setDrawColor=function(A,U,ne,fe){return Po=Vi({ch1:A,ch2:U,ch3:ne,ch4:fe,pdfColorType:"draw",precision:2}),G(Po),this};var Kl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return wa(Kl)},h.__private__.setFillColor=h.setFillColor=function(A,U,ne,fe){return Kl=Vi({ch1:A,ch2:U,ch3:ne,ch4:fe,pdfColorType:"fill",precision:2}),G(Kl),this};var Sa=t.textColor||"0 g",Qs=h.__private__.getTextColor=h.getTextColor=function(){return wa(Sa)};h.__private__.setTextColor=h.setTextColor=function(A,U,ne,fe){return Sa=Vi({ch1:A,ch2:U,ch3:ne,ch4:fe,pdfColorType:"text",precision:3}),this};var Qa=t.charSpace,gc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Qa||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qa=A,this};var Pn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var U=h.CapJoinStyles[A];if(U===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pn=U,G(U+" J"),this};var vc=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var U=h.CapJoinStyles[A];if(U===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=U,G(U+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(P(M(A))+" M"),this},h.GState=Y1,h.setGState=function(A){(A=typeof A=="string"?vt[At[A]]:zf(null,A)).equals(dn)||(G("/"+A.id+" gs"),dn=A)};var zf=function(A,U){if(!A||!At[A]){var ne=!1;for(var fe in vt)if(vt.hasOwnProperty(fe)&&vt[fe].equals(U)){ne=!0;break}if(ne)U=vt[fe];else{var ve="GS"+(Object.keys(vt).length+1).toString(10);vt[ve]=U,U.id=ve}return A&&(At[A]=U.id),$t.publish("addGState",U),U}};h.addGState=function(A,U){return zf(A,U),this},h.saveGraphicsState=function(){return G("q"),Rn.push({key:rt,size:Re,color:Sa}),this},h.restoreGraphicsState=function(){G("Q");var A=Rn.pop();return rt=A.key,Re=A.size,Sa=A.color,dn=null,this},h.setCurrentTransformationMatrix=function(A){return G(A.toString()+" cm"),this},h.comment=function(A){return G("#"+A),this};var Ja=function(A,U){var ne=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Ce){isNaN(Ce)||(ne=parseFloat(Ce))}});var fe=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ce){isNaN(Ce)||(fe=parseFloat(Ce))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ce){ve=Ce.toString()}}),this},Yl=function(A,U,ne,fe){Ja.call(this,A,U),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(De){isNaN(De)||(ve=parseFloat(De))}});var Ce=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(De){isNaN(De)||(Ce=parseFloat(De))}}),this},Js=function(){this.page=Rt,this.currentPage=W,this.pages=Te.slice(0),this.pagesContext=pt.slice(0),this.x=ct,this.y=Nn,this.matrix=Wt,this.width=zi(W),this.height=qf(W),this.outputDestination=xe,this.id="",this.objectNumber=-1};Js.prototype.restore=function(){Rt=this.page,W=this.currentPage,pt=this.pagesContext,Te=this.pages,ct=this.x,Nn=this.y,Wt=this.matrix,yc(W,this.width),qi(W,this.height),xe=this.outputDestination};var os=function(A,U,ne,fe,ve){_i.push(new Js),Rt=W=0,Te=[],ct=A,Nn=U,Wt=ve,_a([ne,fe])};for(var ss in h.beginFormObject=function(A,U,ne,fe,ve){return os(A,U,ne,fe,ve),this},h.endFormObject=function(A){return function(U){if(Ha[U])_i.pop().restore();else{var ne=new Js,fe="Xo"+(Object.keys(br).length+1).toString(10);ne.id=fe,Ha[U]=fe,br[fe]=ne,$t.publish("addFormObject",ne),_i.pop().restore()}}(A),this},h.doFormObject=function(A,U){var ne=br[Ha[A]];return G("q"),G(U.toString()+" cm"),G("/"+ne.id+" Do"),G("Q"),this},h.getFormObject=function(A){var U=br[Ha[A]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},h.save=function(A,U){return A=A||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(Lc(Gs(Ka()),A),typeof Lc.unload=="function"&&St.setTimeout&&setTimeout(Lc.unload,911),this):new Promise(function(ne,fe){try{var ve=Lc(Gs(Ka()),A);typeof Lc.unload=="function"&&St.setTimeout&&setTimeout(Lc.unload,911),ne(ve)}catch(Ce){fe(Ce.message)}})},ht.API)ht.API.hasOwnProperty(ss)&&(ss==="events"&&ht.API.events.length?function(A,U){var ne,fe,ve;for(ve=U.length-1;ve!==-1;ve--)ne=U[ve][0],fe=U[ve][1],A.subscribe.apply(A,[ne].concat(typeof fe=="function"?[fe]:fe))}($t,ht.API.events):h[ss]=ht.API[ss]);function zi(A){return pt[A].mediaBox.topRightX-pt[A].mediaBox.bottomLeftX}function yc(A,U){pt[A].mediaBox.topRightX=U+pt[A].mediaBox.bottomLeftX}function qf(A){return pt[A].mediaBox.topRightY-pt[A].mediaBox.bottomLeftY}function qi(A,U){pt[A].mediaBox.topRightY=U+pt[A].mediaBox.bottomLeftY}var Za=h.getPageWidth=function(A){return zi(A=A||W)/Pt},Xl=h.setPageWidth=function(A,U){yc(A,U*Pt)},eo=h.getPageHeight=function(A){return qf(A=A||W)/Pt},bc=h.setPageHeight=function(A,U){qi(A,U*Pt)};return h.internal={pdfEscape:Zr,getStyle:Ys,getFont:Xa,getFontSize:ze,getCharSpace:gc,getTextColor:Qs,getLineHeight:ep,getLineHeightFactor:np,getLineWidth:Vf,write:ke,getHorizontalCoordinate:ei,getVerticalCoordinate:Eo,getCoordinateString:rp,getVerticalCoordinateString:Gl,collections:{},newObject:Xn,newAdditionalObject:qs,newObjectDeferred:Cr,newObjectDeferredBegin:Qn,getFilters:Ai,putStream:wr,events:$t,scaleFactor:Pt,pageSize:{getWidth:function(){return Za(W)},setWidth:function(A){Xl(W,A)},getHeight:function(){return eo(W)},setHeight:function(A){bc(W,A)}},encryptionOptions:c,encryption:kn,getEncryptor:function(A){return c!==null?kn.encryptor(A,0):function(U){return U}},output:pc,getNumberOfPages:hc,get pages(){return Te},out:G,f2:T,f3:j,getPageInfo:$r,getPageInfoByObjId:Ks,getCurrentPageInfo:Wl,getPDFVersion:b,Point:Ja,Rectangle:Yl,Matrix:gt,hasHotfix:aa},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Za(W)},set:function(A){Xl(W,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return eo(W)},set:function(A){bc(W,A)},enumerable:!0,configurable:!0}),(function(A){for(var U=0,ne=Ge.length;U<ne;U++){var fe=zl.call(this,A[U][0],A[U][1],A[U][2],Ge[U][3],!0);f===!1&&(d[fe]=!0);var ve=A[U][0].split("-");uc({id:fe,fontName:ve[0],fontStyle:ve[1]||""})}$t.publish("addFonts",{fonts:jt,dictionary:Ot})}).call(h,Ge),rt="F1",ql(i,n),$t.publish("initialized"),h}oh.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},oh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},oh.prototype.processOwnerPassword=function(t,e){return HS(WS(e).substr(0,5),t)},oh.prototype.encryptor=function(t,e){var n=WS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return HS(n,r)}},Y1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||_n(t)!==_n(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ht.API={events:[]},ht.version="3.0.4";var pr=ht.API,aT=1,Rf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(t){return t.toFixed(2)},pu=function(t){return t.toFixed(5)};pr.__acroform__={};var ba=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},_6=function(t){return t*aT},ys=function(t){var e=new b9,n=tt.internal.getHeight(t)||0,r=tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nt(r)),Number(Nt(n))],e},JAe=pr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},ZAe=pr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eEe=pr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Nr=pr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eEe(t,e-1)},kr=pr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JAe(t,e-1)},Ir=pr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZAe(t,e-1)},tEe=pr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(a+s)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(a)||0,[Number(Nt(l.lowerLeft_X)),Number(Nt(l.lowerLeft_Y)),Number(Nt(l.upperRight_X)),Number(Nt(l.upperRight_Y))]},nEe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=GS(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Nt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=ys(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},GS=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=n,o=tt.internal.getHeight(t)||0;o=o<0?-o:o;var s=tt.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(T,j,M){if(T+1<i.length){var z=j+" "+i[T+1][0];return Nv(z,t,M).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,c,f=Nv("3",t,a).height,d=t.multiline?o-a:(o-f)/2,h=d+=2,v=0,b=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Nv(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var y="",_=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var N=!1;if(i[S].length!==1&&w!==i[S].length-1){if((f+2)*(_+2)+2>o)continue e;y+=i[S][w],N=!0,b=S,S--}else{y=(y+=i[S][w]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(S),R=l(O,y,a),k=S>=i.length-1;if(R&&!k){y+=" ",w=0;continue}if(R||k){if(k)b=O;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;b=O}}for(var P="",E=v;E<=b;E++){var F=i[E];if(t.multiline){if(E===b){P+=F[w]+" ",w=(w+1)%F.length;continue}if(E===v){P+=F[F.length-1]+" ";continue}}P+=F[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,c=Nv(P,t,a).width,t.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;default:u=2}e+=Nt(u)+" "+Nt(h)+` Td
`,e+="("+Rf(P)+`) Tj
`,e+=-Nt(u)+` 0 Td
`,h=-(a+2),c=0,v=N?b:b+1,_++,y=""}break}return r.text=e,r.fontSize=a,r},Nv=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rEe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iEe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},aEe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rEe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");aT=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new w9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&iEe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var s=r[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=tEe(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=tt.createDefaultAppearanceStream(s),_n(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=nEe(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var f="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var h=s.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,s)),f+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&function(b,w){for(var y in b)if(b.hasOwnProperty(y)){var _=y,S=b[y];w.internal.newObjectDeferredBegin(S.objId,!0),_n(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete b[_]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},y9=pr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),_n(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Rf(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jx=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Rf(r(t))+")"},Es=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Es.prototype.toString=function(){return this.objId+" 0 R"},Es.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Es.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:y9(i,this.objId,this.scope)}):i instanceof Es?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var b9=function(){Es.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ba(b9,Es);var w9=function(){Es.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Rf(n(t))+")"}},set:function(n){t=n}})};ba(w9,Es);var Xo=function t(){Es.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Nr(e,3)},set:function(y){y?this.F=kr(e,3):this.F=Ir(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof X1)return;a="FieldObject"+t.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Rf(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/aT:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof X1||this instanceof Zc))return jx(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ii==0?jx(d,this.objId,this.scope):d},set:function(y){y=y.toString(),d=this instanceof ii==0?y.substr(0,1)==="("?eh(y.substr(1,y.length-2)):eh(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii==1?eh(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof ii==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ii==0?jx(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof ii==0?y.substr(0,1)==="("?eh(y.substr(1,y.length-2)):eh(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ii==1?eh(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof ii==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(y){y=!!y,b=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,1)},set:function(y){y?this.Ff=kr(this.Ff,1):this.Ff=Ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,2)},set:function(y){y?this.Ff=kr(this.Ff,2):this.Ff=Ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,3)},set:function(y){y?this.Ff=kr(this.Ff,3):this.Ff=Ir(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');w=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(w){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};ba(Xo,Es);var Uh=function(){Xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return y9(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=Ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=Ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),e.sort()):this.Ff=Ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=Ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=Ir(this.Ff,27)}}),this.hasAppearanceStream=!1};ba(Uh,Xo);var Vh=function(){Uh.call(this),this.fontName="helvetica",this.combo=!1};ba(Vh,Uh);var zh=function(){Vh.call(this),this.combo=!0};ba(zh,Vh);var ty=function(){zh.call(this),this.edit=!0};ba(ty,zh);var ii=function(){Xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=Ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=Ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=Ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Rf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){_n(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ba(ii,Xo);var ny=function(){ii.call(this),this.pushButton=!0};ba(ny,ii);var qh=function(){ii.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ba(qh,ii);var X1=function(){var t,e;Xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Rf(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){_n(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ba(X1,Xo),qh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},qh.prototype.createOption=function(t){var e=new X1;return e.Parent=this,e.optionName=t,this.Kids.push(e),oEe.call(this.scope,e),e};var ry=function(){ii.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};ba(ry,ii);var Zc=function(){Xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,13)},set:function(e){e?this.Ff=kr(this.Ff,13):this.Ff=Ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,21)},set:function(e){e?this.Ff=kr(this.Ff,21):this.Ff=Ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,23)},set:function(e){e?this.Ff=kr(this.Ff,23):this.Ff=Ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,24)},set:function(e){e?this.Ff=kr(this.Ff,24):this.Ff=Ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,25)},set:function(e){e?this.Ff=kr(this.Ff,25):this.Ff=Ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,26)},set:function(e){e?this.Ff=kr(this.Ff,26):this.Ff=Ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ba(Zc,Xo);var iy=function(){Zc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Nr(this.Ff,14)},set:function(t){t?this.Ff=kr(this.Ff,14):this.Ff=Ir(this.Ff,14)}}),this.password=!0};ba(iy,Zc);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=GS(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Nt(tt.internal.getWidth(t))+" "+Nt(tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nt(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=tt.internal.getHeight(t),o=tt.internal.getWidth(t),s=GS(t,t.caption);return i.push("1 g"),i.push("0 0 "+Nt(o)+" "+Nt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nt(o-1)+" "+Nt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Nt(s.fontSize)+" Tf "+r),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(tt.internal.getWidth(t))+" "+Nt(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Circle.YesNormal,e.D[t]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+pu(tt.internal.getWidth(t)/2)+" "+pu(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pu(tt.internal.getWidth(t)/2)+" "+pu(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+pu(tt.internal.getWidth(t)/2)+" "+pu(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pu(tt.internal.getWidth(t)/2)+" "+pu(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Cross.YesNormal,e.D[t]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ys(t);e.scope=t.scope;var n=[],r=tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Nt(tt.internal.getWidth(t)-2)+" "+Nt(tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(tt.internal.getWidth(t))+" "+Nt(tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nt(tt.internal.getWidth(t)-2)+" "+Nt(tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ys(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(tt.internal.getWidth(t))+" "+Nt(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=tt.internal.getWidth(t),n=tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},tt.internal.getWidth=function(t){var e=0;return _n(t)==="object"&&(e=_6(t.Rect[2])),e},tt.internal.getHeight=function(t){var e=0;return _n(t)==="object"&&(e=_6(t.Rect[3])),e};var oEe=pr.addField=function(t){if(aEe(this,t),!(t instanceof Xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};pr.AcroFormChoiceField=Uh,pr.AcroFormListBox=Vh,pr.AcroFormComboBox=zh,pr.AcroFormEditBox=ty,pr.AcroFormButton=ii,pr.AcroFormPushButton=ny,pr.AcroFormRadioButton=qh,pr.AcroFormCheckBox=ry,pr.AcroFormTextField=Zc,pr.AcroFormPasswordField=iy,pr.AcroFormAppearance=tt,pr.AcroForm={ChoiceField:Uh,ListBox:Vh,ComboBox:zh,EditBox:ty,Button:ii,PushButton:ny,RadioButton:qh,CheckBox:ry,TextField:Zc,PasswordField:iy,Appearance:tt},ht.AcroForm={ChoiceField:Uh,ListBox:Vh,ComboBox:zh,EditBox:ty,Button:ii,PushButton:ny,RadioButton:qh,CheckBox:ry,TextField:Zc,PasswordField:iy,Appearance:tt};ht.AcroForm;function x9(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,j){var M,z,Q,oe,ue,X=n;if((j=j||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(R(T))for(ue in r)for(Q=r[ue],M=0;M<Q.length;M+=1){for(oe=!0,z=0;z<Q[M].length;z+=1)if(Q[M][z]!==void 0&&Q[M][z]!==T[z]){oe=!1;break}if(oe===!0){X=ue;break}}else for(ue in r)for(Q=r[ue],M=0;M<Q.length;M+=1){for(oe=!0,z=0;z<Q[M].length;z+=1)if(Q[M][z]!==void 0&&Q[M][z]!==T.charCodeAt(z)){oe=!1;break}if(oe===!0){X=ue;break}}return X===n&&j!==n&&(X=j),X},a=function T(j){for(var M=this.internal.write,z=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:j.width}),oe.push({key:"Height",value:j.height}),j.colorSpace===y.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===y.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var ue="",X=0,ae=j.transparency.length;X<ae;X++)ue+=j.transparency[X]+" "+j.transparency[X]+" ";oe.push({key:"Mask",value:"["+ue+"]"})}j.sMask!==void 0&&oe.push({key:"SMask",value:j.objectId+1+" 0 R"});var pe=j.filter!==void 0?["/"+j.filter]:void 0;if(z({data:j.data,additionalKeyValues:oe,alreadyAppliedFilters:pe,objectId:j.objectId}),M("endobj"),"sMask"in j&&j.sMask!==void 0){var he,$=(he=j.sMaskBitsPerComponent)!==null&&he!==void 0?he:j.bitsPerComponent,W={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:j.sMask};"filter"in j&&(W.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(j.width),W.filter=j.filter),T.call(this,W)}if(j.colorSpace===y.INDEXED){var te=this.internal.newObject();z({data:P(new Uint8Array(j.palette)),objectId:te}),M("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var j in T)a.call(this,T[j])},s=function(){var T,j=this.internal.collections[e+"images"],M=this.internal.write;for(var z in j)M("/I"+(T=j[z]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},d=function(T){return _n(T)==="object"&&T.nodeType===1},h=function(T,j){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var M=""+T.getAttribute("src");if(M.indexOf("data:image/")===0)return ey(unescape(M).split("base64,").pop());var z=t.loadFile(M,!0);if(z!==void 0)return z}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Q;switch(j){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return ey(T.toDataURL(Q,1).split("base64,").pop())}},v=function(T){var j=this.internal.collections[e+"images"];if(j){for(var M in j)if(T===j[M].alias)return j[M]}},b=function(T,j,M){return T||j||(T=-96,j=-96),T<0&&(T=-1*M.width*72/T/this.internal.scaleFactor),j<0&&(j=-1*M.height*72/j/this.internal.scaleFactor),T===0&&(T=j*M.width/M.height),j===0&&(j=T*M.height/M.width),[T,j]},w=function(T,j,M,z,Q,oe){var ue=b.call(this,M,z,Q),X=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,pe=u.call(this);if(M=ue[0],z=ue[1],pe[Q.index]=Q,oe){oe*=Math.PI/180;var he=Math.cos(oe),$=Math.sin(oe),W=function(le){return le.toFixed(4)},te=[W(he),W($),W(-1*$),W(he),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,X(T),ae(j+z),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([X(M),"0","0",X(z),"0","0","cm"].join(" "))):this.internal.write([X(M),"0","0",X(z),X(T),ae(j+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(T){var j,M,z=0;if(typeof T=="string")for(M=T.length,j=0;j<M;j++)z=(z<<5)-z+T.charCodeAt(j),z|=0;else if(R(T))for(M=T.byteLength/2,j=0;j<M;j++)z=(z<<5)-z+T[j],z|=0;return z},N=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var j=!0;return T.length===0&&(j=!1),T.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(j=!1),j},O=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var j=T.indexOf(",");return j<0?null:T.substring(0,j).trim().endsWith("base64")?T.substring(j+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},k=t.__addimage__.binaryStringToUint8Array=function(T){for(var j=T.length,M=new Uint8Array(j),z=0;z<j;z++)M[z]=T.charCodeAt(z);return M},P=t.__addimage__.arrayBufferToBinaryString=function(T){for(var j="",M=R(T)?T:new Uint8Array(T),z=0;z<M.length;z+=8192)j+=String.fromCharCode.apply(null,M.subarray(z,z+8192));return j};t.addImage=function(){var T,j,M,z,Q,oe,ue,X,ae;if(typeof arguments[1]=="number"?(j=n,M=arguments[1],z=arguments[2],Q=arguments[3],oe=arguments[4],ue=arguments[5],X=arguments[6],ae=arguments[7]):(j=arguments[1],M=arguments[2],z=arguments[3],Q=arguments[4],oe=arguments[5],ue=arguments[6],X=arguments[7],ae=arguments[8]),_n(T=arguments[0])==="object"&&!d(T)&&"imageData"in T){var pe=T;T=pe.imageData,j=pe.format||j||n,M=pe.x||M||0,z=pe.y||z||0,Q=pe.w||pe.width||Q,oe=pe.h||pe.height||oe,ue=pe.alias||ue,X=pe.compression||X,ae=pe.rotation||pe.angle||ae}var he=this.internal.getFilters();if(X===void 0&&he.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(M)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=E.call(this,T,j,ue,X);return w.call(this,M,z,Q,oe,$,ae),this};var E=function(T,j,M,z){var Q,oe,ue;if(typeof T=="string"&&i(T)===n){T=unescape(T);var X=F(T,!1);(X!==""||(X=t.loadFile(T,!0))!==void 0)&&(T=X)}if(d(T)&&(T=h(T,j)),j=i(T,j),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((ue=M)==null||ue.length===0)&&(M=function(ae){return typeof ae=="string"||R(ae)?S(ae):R(ae.data)?S(ae.data):null}(T)),(Q=v.call(this,M))||(T instanceof Uint8Array||j==="RGBA"||(oe=T,T=k(T)),Q=this["process"+j.toUpperCase()](T,c.call(this),M,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in t.image_compression?ae:_.NONE}(z),oe)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},F=t.__addimage__.convertBase64ToBinaryString=function(T,j){j=typeof j!="boolean"||j;var M,z="";if(typeof T=="string"){var Q;M=(Q=O(T))!==null&&Q!==void 0?Q:T;try{z=ey(M)}catch(oe){if(j)throw N(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(T){var j,M,z="";if(d(T)&&(T=h(T)),typeof T=="string"&&i(T)===n&&((z=F(T,!1))===""&&(z=t.loadFile(T)||""),T=z),M=i(T),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(T instanceof Uint8Array||(T=k(T)),!(j=this["process"+M.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=M,j}})(ht.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ht.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((r=u[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){r=u[d];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(b.objId),_=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(y(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(_))+") >>",b.content=a;var S=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(b.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var R=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+R+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,s,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(n,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=l/2),a.align==="right"&&(r-=l),this.link(r,i-u,s,o,a),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ht.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(b){var w=0,y=n,_="",S=0;for(w=0;w<b.length;w+=1)y[b.charCodeAt(w)]!==void 0?(S++,typeof(y=y[b.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(y),y=n,S=0),w===b.length-1&&(y=n,_+=b.charAt(w-(S-1)),w-=S-1,S=0)):(y=n,_+=b.charAt(w-S),w-=S,S=0);return _};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(b,w,y){return o(b)?a(b)===!1?-1:!u(b)||!o(w)&&!o(y)||!o(y)&&s(w)||s(b)&&!o(w)||s(b)&&l(w)||s(b)&&s(w)?0:c(b)&&o(w)&&!s(w)&&o(y)&&u(y)?3:s(b)||!o(y)?1:2:-1},h=function(b){var w=0,y=0,_=0,S="",N="",O="",R=(b=b||"").split("\\s+"),k=[];for(w=0;w<R.length;w+=1){for(k.push(""),y=0;y<R[w].length;y+=1)S=R[w][y],N=R[w][y-1],O=R[w][y+1],o(S)?(_=d(S,N,O),k[w]+=_!==-1?String.fromCharCode(e[S.charCodeAt(0)][_]):S):k[w]+=S;k[w]=f(k[w])}return k.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var b,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(w)){var _=0;for(y=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?y.push([h(w[_][0]),w[_][1],w[_][2]]):y.push([h(w[_])]);b=y}else b=h(w);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",v])}(ht.API),ht.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(s){n=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ht.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,b=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,N){return S.concat(w.splitTextToSize(N,y))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)h<(b=this.getStringUnitWidth(l[_],{font:f})*c)&&(h=b);return h!==0&&(v=l.length),{w:h/=d,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,d){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,v,b,w,y=[],_=[],S=[],N={},O={},R=[],k=[],P=(d=d||{}).autoSize||!1,E=d.printHeaders!==!1,F=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,T=d.margins||Object.assign({width:this.getPageWidth()},e),j=typeof d.padding=="number"?d.padding:3,M=d.headerBackgroundColor||"#c8c8c8",z=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=z,this.setFontSize(F),f==null)_=y=Object.keys(c[0]),S=y.map(function(){return"left"});else if(Array.isArray(f)&&_n(f[0])==="object")for(y=f.map(function(pe){return pe.name}),_=f.map(function(pe){return pe.prompt||pe.name||""}),S=f.map(function(pe){return pe.align||"left"}),h=0;h<f.length;h+=1)O[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=y=f,S=y.map(function(){return"left"}));if(P||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(N[w=y[h]]=c.map(function(pe){return pe[w]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=N[w],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)R.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,R)+j+j,R=[]}if(E){var Q={};for(h=0;h<y.length;h+=1)Q[y[h]]={},Q[y[h]].text=_[h],Q[y[h]].align=S[h];var oe=s.call(this,Q,O);k=y.map(function(pe){return new a(l,u,O[pe],oe,Q[pe].text,void 0,Q[pe].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ue=f.reduce(function(pe,he){return pe[he.name]=he.align,pe},{});for(h=0;h<c.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:c[h]},this);var X=s.call(this,c[h],O);for(b=0;b<y.length;b+=1){var ae=c[h][y[b]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:b,data:ae},this),o.call(this,new a(l,u,O[y[b]],X,ae,h+2,ue[y[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+c+c},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),n=!1}}(ht.API);var _9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},S9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KS=x9(S9),A9=[100,200,300,400,500,600,700,800,900],sEe=x9(A9);function Rx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return _9[a=a||"normal"]?a:"normal"}(t.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof KS[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function S6(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var lEe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},A6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function E6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function P6(t){return t.trimLeft()}function uEe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function cEe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var kv,T6,N6,th,Iv,k6,I6,O6,Mx=["times"];function C6(t,e,n,r,i){var a=4,o=j6;switch(i){case ht.API.image_compression.FAST:a=1,o=L6;break;case ht.API.image_compression.MEDIUM:a=6,o=R6;break;case ht.API.image_compression.SLOW:a=9,o=M6}t=function(l,u,c,f){for(var d,h=l.length/u,v=new Uint8Array(l.length+h),b=[fEe,L6,j6,R6,M6],w=0;w<h;w+=1){var y=w*u,_=l.subarray(y,y+u);if(f)v.set(f(_,c,d),y+w);else{for(var S=b.length,N=[],O=0;O<S;O+=1)N[O]=b[O](_,c,d);var R=dEe(N.concat());v.set(N[R],y+w)}d=_}return v}(t,e,Math.ceil(n*r/8),o);var s=US(t,{level:a});return ht.API.__addimage__.arrayBufferToBinaryString(s)}function fEe(t){var e=Array.apply([],t);return e.unshift(0),e}function L6(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function j6(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=t[a]-o+256&255}return i}function R6(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=t[a-e]||0,s=n&&n[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function M6(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=hEe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function hEe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function dEe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Dx(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return E9(t,i)>>a&o}function D6(t,e,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),s=(1<<r)-1,l=(e&s)<<o;(function(u,c,f){if(c+1<u.byteLength)u.setUint16(c,f,!1);else{var d=f>>8&255;u.setUint8(c,d)}})(t,a,E9(t,a)&~(s<<o)&65535|l)}function E9(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function pEe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,c=[],f=0,d=null,h=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],1&b||(d=null),h=b>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,N=t[e++],O=N>>6&1,R=1<<1+(7&N),k=s,P=l,E=!1;N>>7&&(E=!0,k=e,P=R,e+=3*R);var F=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}c.push({x:w,y,width:_,height:S,has_local_palette:E,palette_offset:k,palette_size:P,data_offset:F,data_length:e-F,transparent_index:d,interlaced:!!O,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(j){if(j<0||j>=c.length)throw new Error("Frame index out of range.");return c[j]},this.decodeAndBlitFrameBGRA=function(j,M){var z=this.frameInfo(j),Q=z.width*z.height,oe=new Uint8Array(Q);F6(t,z.data_offset,oe,Q);var ue=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var ae=z.width,pe=n-ae,he=ae,$=4*(z.y*n+z.x),W=4*((z.y+z.height)*n+z.x),te=$,le=4*pe;z.interlaced===!0&&(le+=4*n*7);for(var ee=8,ce=0,Se=oe.length;ce<Se;++ce){var de=oe[ce];if(he===0&&(he=ae,(te+=le)>=W&&(le=4*pe+4*n*(ee-1),te=$+(ae+pe)*(ee<<1),ee>>=1)),de===X)te+=4;else{var _e=t[ue+3*de],Te=t[ue+3*de+1],Z=t[ue+3*de+2];M[te++]=Z,M[te++]=Te,M[te++]=_e,M[te++]=255}--he}},this.decodeAndBlitFrameRGBA=function(j,M){var z=this.frameInfo(j),Q=z.width*z.height,oe=new Uint8Array(Q);F6(t,z.data_offset,oe,Q);var ue=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var ae=z.width,pe=n-ae,he=ae,$=4*(z.y*n+z.x),W=4*((z.y+z.height)*n+z.x),te=$,le=4*pe;z.interlaced===!0&&(le+=4*n*7);for(var ee=8,ce=0,Se=oe.length;ce<Se;++ce){var de=oe[ce];if(he===0&&(he=ae,(te+=le)>=W&&(le=4*pe+4*n*(ee-1),te=$+(ae+pe)*(ee<<1),ee>>=1)),de===X)te+=4;else{var _e=t[ue+3*de],Te=t[ue+3*de+1],Z=t[ue+3*de+2];M[te++]=_e,M[te++]=Te,M[te++]=Z,M[te++]=255}--he}}}function F6(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,f=0,d=0,h=t[e++],v=new Int32Array(4096),b=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var w=f&u;if(f>>=l,c-=l,w!==a){if(w===o)break;for(var y=w<s?w:b,_=0,S=y;S>a;)S=v[S]>>8,++_;var N=S;if(d+_+(y!==w?1:0)>r)return void Cn.log("Warning, gif stream longer than expected.");n[d++]=N;var O=d+=_;for(y!==w&&(n[d++]=N),S=y;_--;)S=v[S],n[--O]=255&S,S>>=8;b!==null&&s<4096&&(v[s++]=b<<8|N,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=w}else s=o+1,u=(1<<(l=i+1))-1,b=null}return d!==r&&Cn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fx(t){var e,n,r,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),v=new Array(64),b=[],w=0,y=7,_=new Array(64),S=new Array(64),N=new Array(64),O=new Array(256),R=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe($,W){for(var te=0,le=0,ee=new Array,ce=1;ce<=16;ce++){for(var Se=1;Se<=$[ce];Se++)ee[W[le]]=[],ee[W[le]][0]=te,ee[W[le]][1]=ce,le++,te++;te*=2}return ee}function ue($){for(var W=$[0],te=$[1]-1;te>=0;)W&1<<te&&(w|=1<<y),te--,--y<0&&(w==255?(X(255),X(0)):X(w),y=7,w=0)}function X($){b.push($)}function ae($){X($>>8&255),X(255&$)}function pe($,W,te,le,ee){for(var ce,Se=ee[0],de=ee[240],_e=function(Re,Xe){var ze,et,nt,zt,Lt,ut,bt,Mt,rt,Pt,ct=0;for(rt=0;rt<8;++rt){ze=Re[ct],et=Re[ct+1],nt=Re[ct+2],zt=Re[ct+3],Lt=Re[ct+4],ut=Re[ct+5],bt=Re[ct+6];var Nn=ze+(Mt=Re[ct+7]),Wt=ze-Mt,jt=et+bt,Ot=et-bt,Rn=nt+ut,dt=nt-ut,hn=zt+Lt,vt=zt-Lt,At=Nn+hn,dn=Nn-hn,Rt=jt+Rn,pt=jt-Rn;Re[ct]=At+Rt,Re[ct+4]=At-Rt;var $t=.707106781*(pt+dn);Re[ct+2]=dn+$t,Re[ct+6]=dn-$t;var Jo=.382683433*((At=vt+dt)-(pt=Ot+Wt)),br=.5411961*At+Jo,Ha=1.306562965*pt+Jo,_i=.707106781*(Rt=dt+Ot),gt=Wt+_i,Un=Wt-_i;Re[ct+5]=Un+br,Re[ct+3]=Un-br,Re[ct+1]=gt+Ha,Re[ct+7]=gt-Ha,ct+=8}for(ct=0,rt=0;rt<8;++rt){ze=Re[ct],et=Re[ct+8],nt=Re[ct+16],zt=Re[ct+24],Lt=Re[ct+32],ut=Re[ct+40],bt=Re[ct+48];var Ga=ze+(Mt=Re[ct+56]),Qr=ze-Mt,Jr=et+bt,Xn=et-bt,Cr=nt+ut,Qn=nt-ut,qs=zt+Lt,Zo=zt-Lt,Si=Ga+qs,wa=Ga-qs,Vi=Jr+Cr,Ai=Jr-Cr;Re[ct]=Si+Vi,Re[ct+32]=Si-Vi;var wr=.707106781*(Ai+wa);Re[ct+16]=wa+wr,Re[ct+48]=wa-wr;var es=.382683433*((Si=Zo+Qn)-(Ai=Xn+Qr)),xa=.5411961*Si+es,Ao=1.306562965*Ai+es,ts=.707106781*(Vi=Qn+Xn),Ws=Qr+ts,Hs=Qr-ts;Re[ct+40]=Hs+xa,Re[ct+24]=Hs-xa,Re[ct+8]=Ws+Ao,Re[ct+56]=Ws-Ao,ct++}for(rt=0;rt<64;++rt)Pt=Re[rt]*Xe[rt],h[rt]=Pt>0?Pt+.5|0:Pt-.5|0;return h}($,W),Te=0;Te<64;++Te)v[k[Te]]=_e[Te];var Z=v[0]-te;te=v[0],Z==0?ue(le[0]):(ue(le[d[ce=32767+Z]]),ue(f[ce]));for(var xe=63;xe>0&&v[xe]==0;)xe--;if(xe==0)return ue(Se),te;for(var Ne,G=1;G<=xe;){for(var ke=G;v[G]==0&&G<=xe;)++G;var He=G-ke;if(He>=16){Ne=He>>4;for(var Ge=1;Ge<=Ne;++Ge)ue(de);He&=15}ce=32767+v[G],ue(ee[(He<<4)+d[ce]]),ue(f[ce]),G++}return xe!=63&&ue(Se),te}function he($){$=Math.min(Math.max($,1),100),a!=$&&(function(W){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ee=o((te[le]*W+50)/100);ee=Math.min(Math.max(ee,1),255),s[k[le]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var de=o((ce[Se]*W+50)/100);de=Math.min(Math.max(de,1),255),l[k[Se]]=de}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Z=0;Z<8;Z++)for(var xe=0;xe<8;xe++)u[Te]=1/(s[k[Te]]*_e[Z]*_e[xe]*8),c[Te]=1/(l[k[Te]]*_e[Z]*_e[xe]*8),Te++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),a=$)}this.encode=function($,W){W&&he(W),b=new Array,w=0,y=7,ae(65496),ae(65504),ae(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ae(1),ae(1),X(0),X(0),function(){ae(65499),ae(132),X(0);for(var et=0;et<64;et++)X(s[et]);X(1);for(var nt=0;nt<64;nt++)X(l[nt])}(),function(et,nt){ae(65472),ae(17),X(8),ae(nt),ae(et),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}($.width,$.height),function(){ae(65476),ae(418),X(0);for(var et=0;et<16;et++)X(P[et+1]);for(var nt=0;nt<=11;nt++)X(E[nt]);X(16);for(var zt=0;zt<16;zt++)X(F[zt+1]);for(var Lt=0;Lt<=161;Lt++)X(T[Lt]);X(1);for(var ut=0;ut<16;ut++)X(j[ut+1]);for(var bt=0;bt<=11;bt++)X(M[bt]);X(17);for(var Mt=0;Mt<16;Mt++)X(z[Mt+1]);for(var rt=0;rt<=161;rt++)X(Q[rt])}(),ae(65498),ae(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var te=0,le=0,ee=0;w=0,y=7,this.encode.displayName="_encode_";for(var ce,Se,de,_e,Te,Z,xe,Ne,G,ke=$.data,He=$.width,Ge=$.height,Re=4*He,Xe=0;Xe<Ge;){for(ce=0;ce<Re;){for(Te=Re*Xe+ce,xe=-1,Ne=0,G=0;G<64;G++)Z=Te+(Ne=G>>3)*Re+(xe=4*(7&G)),Xe+Ne>=Ge&&(Z-=Re*(Xe+1+Ne-Ge)),ce+xe>=Re&&(Z-=ce+xe-Re+4),Se=ke[Z++],de=ke[Z++],_e=ke[Z++],_[G]=(R[Se]+R[de+256|0]+R[_e+512|0]>>16)-128,S[G]=(R[Se+768|0]+R[de+1024|0]+R[_e+1280|0]>>16)-128,N[G]=(R[Se+1280|0]+R[de+1536|0]+R[_e+1792|0]>>16)-128;te=pe(_,u,te,e,r),le=pe(S,c,le,n,i),ee=pe(N,c,ee,n,i),ce+=32}Xe+=8}if(y>=0){var ze=[];ze[1]=y+1,ze[0]=(1<<y+1)-1,ue(ze)}return ae(65497),new Uint8Array(b)},t=t||50,function(){for(var $=String.fromCharCode,W=0;W<256;W++)O[W]=$(W)}(),e=oe(P,E),n=oe(j,M),r=oe(F,T),i=oe(z,Q),function(){for(var $=1,W=2,te=1;te<=15;te++){for(var le=$;le<W;le++)d[32767+le]=te,f[32767+le]=[],f[32767+le][1]=te,f[32767+le][0]=le;for(var ee=-(W-1);ee<=-$;ee++)d[32767+ee]=te,f[32767+ee]=[],f[32767+ee][1]=te,f[32767+ee][0]=W-1+ee;$<<=1,W<<=1}}(),function(){for(var $=0;$<256;$++)R[$]=19595*$,R[$+256|0]=38470*$,R[$+512|0]=7471*$+32768,R[$+768|0]=-11059*$,R[$+1024|0]=-21709*$,R[$+1280|0]=32768*$+8421375,R[$+1536|0]=-27439*$,R[$+1792|0]=-5329*$}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $6(t){function e(E){if(!E)throw Error("assert :P")}function n(E,F,T){for(var j=0;4>j;j++)if(E[F+j]!=T.charCodeAt(j))return!0;return!1}function r(E,F,T,j,M){for(var z=0;z<M;z++)E[F+z]=T[j+z]}function i(E,F,T,j){for(var M=0;M<j;M++)E[F+M]=T}function a(E){return new Int32Array(E)}function o(E,F){for(var T=[],j=0;j<E;j++)T.push(new F);return T}function s(E,F){var T=[];return function j(M,z,Q){for(var oe=Q[z],ue=0;ue<oe&&(M.push(Q.length>z+1?[]:new F),!(Q.length<z+1));ue++)j(M[ue],z+1,Q)}(T,0,E),T}var l=function(){var E=this;function F(p,g){for(var I=1<<g-1>>>0;p&I;)I>>>=1;return I?(p&I-1)+I:p}function T(p,g,I,D,V){e(!(D%I));do p[g+(D-=I)]=V;while(0<D)}function j(p,g,I,D,V){if(e(2328>=V),512>=V)var q=a(512);else if((q=a(V))==null)return 0;return function(H,K,J,re,me,Ee){var ie,ge,we=K,Ie=1<<J,Ae=a(16),Le=a(16);for(e(me!=0),e(re!=null),e(H!=null),e(0<J),ge=0;ge<me;++ge){if(15<re[ge])return 0;++Ae[re[ge]]}if(Ae[0]==me)return 0;for(Le[1]=0,ie=1;15>ie;++ie){if(Ae[ie]>1<<ie)return 0;Le[ie+1]=Le[ie]+Ae[ie]}for(ge=0;ge<me;++ge)ie=re[ge],0<re[ge]&&(Ee[Le[ie]++]=ge);if(Le[15]==1)return(re=new M).g=0,re.value=Ee[0],T(H,we,1,Ie,re),Ie;var je,Be=-1,Fe=Ie-1,ft=0,Ze=1,Dt=1,ot=1<<J;for(ge=0,ie=1,me=2;ie<=J;++ie,me<<=1){if(Ze+=Dt<<=1,0>(Dt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie])(re=new M).g=ie,re.value=Ee[ge++],T(H,we+ft,me,ot,re),ft=F(ft,ie)}for(ie=J+1,me=2;15>=ie;++ie,me<<=1){if(Ze+=Dt<<=1,0>(Dt-=Ae[ie]))return 0;for(;0<Ae[ie];--Ae[ie]){if(re=new M,(ft&Fe)!=Be){for(we+=ot,je=1<<(Be=ie)-J;15>Be&&!(0>=(je-=Ae[Be]));)++Be,je<<=1;Ie+=ot=1<<(je=Be-J),H[K+(Be=ft&Fe)].g=je+J,H[K+Be].value=we-K-Be}re.g=ie-J,re.value=Ee[ge++],T(H,we+(ft>>J),me,ot,re),ft=F(ft,ie)}}return Ze!=2*Le[15]-1?0:Ie}(p,g,I,D,V,q)}function M(){this.value=this.g=0}function z(){this.value=this.g=0}function Q(){this.G=o(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wc,z)}function oe(p,g,I,D){e(p!=null),e(g!=null),e(2147483648>D),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=g,p.pa=I,p.Jd=g,p.Yc=I+D,p.Zc=4<=D?I+D-4+1:I,Se(p)}function ue(p,g){for(var I=0;0<g--;)I|=_e(p,128)<<g;return I}function X(p,g){var I=ue(p,g);return de(p)?-I:I}function ae(p,g,I,D){var V,q=0;for(e(p!=null),e(g!=null),e(4294967288>D),p.Sb=D,p.Ra=0,p.u=0,p.h=0,4<D&&(D=4),V=0;V<D;++V)q+=g[I+V]<<8*V;p.Ra=q,p.bb=D,p.oa=g,p.pa=I}function pe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Jl-8>>>0,++p.bb,p.u-=8;le(p)&&(p.h=1,p.u=0)}function he(p,g){if(e(0<=g),!p.h&&g<=Pa){var I=te(p)&Ea[g];return p.u+=g,pe(p),I}return p.h=1,p.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(p){return p.Ra>>>(p.u&Jl-1)>>>0}function le(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Jl}function ee(p,g){p.u=g,p.h=le(p)}function ce(p){p.u>=Zs&&(e(p.u>=Zs),pe(p))}function Se(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function de(p){return ue(p,1)}function _e(p,g){var I=p.Ca;0>p.b&&Se(p);var D=p.b,V=I*g>>>8,q=(p.I>>>D>V)+0;for(q?(I-=V,p.I-=V+1<<D>>>0):I=V+1,D=I,V=0;256<=D;)V+=8,D>>=8;return D=7^V+Zl[D],p.b-=D,p.Ca=(I<<D)-1,q}function Te(p,g,I){p[g+0]=I>>24&255,p[g+1]=I>>16&255,p[g+2]=I>>8&255,p[g+3]=255&I}function Z(p,g){return p[g+0]|p[g+1]<<8}function xe(p,g){return Z(p,g)|p[g+2]<<16}function Ne(p,g){return Z(p,g)|Z(p,g+2)<<16}function G(p,g){var I=1<<g;return e(p!=null),e(0<g),p.X=a(I),p.X==null?0:(p.Mb=32-g,p.Xa=g,1)}function ke(p,g){e(p!=null),e(g!=null),e(p.Xa==g.Xa),r(g.X,0,p.X,0,1<<g.Xa)}function He(){this.X=[],this.Xa=this.Mb=0}function Ge(p,g,I,D){e(I!=null),e(D!=null);var V=I[0],q=D[0];return V==0&&(V=(p*q+g/2)/g),q==0&&(q=(g*V+p/2)/p),0>=V||0>=q?0:(I[0]=V,D[0]=q,1)}function Re(p,g){return p+(1<<g)-1>>>g}function Xe(p,g){return((4278255360&p)+(4278255360&g)>>>0&4278255360)+((16711935&p)+(16711935&g)>>>0&16711935)>>>0}function ze(p,g){E[g]=function(I,D,V,q,H,K,J){var re;for(re=0;re<H;++re){var me=E[p](K[J+re-1],V,q+re);K[J+re]=Xe(I[D+re],me)}}}function et(){this.ud=this.hd=this.jd=0}function nt(p,g){return((4278124286&(p^g))>>>1)+(p&g)>>>0}function zt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Lt(p,g){return zt(p+(p-g+.5>>1))}function ut(p,g,I){return Math.abs(g-I)-Math.abs(p-I)}function bt(p,g,I,D,V,q,H){for(D=q[H-1],I=0;I<V;++I)q[H+I]=D=Xe(p[g+I],D)}function Mt(p,g,I,D,V){var q;for(q=0;q<I;++q){var H=p[g+q],K=H>>8&255,J=16711935&(J=(J=16711935&H)+((K<<16)+K));D[V+q]=(4278255360&H)+J>>>0}}function rt(p,g){g.jd=255&p,g.hd=p>>8&255,g.ud=p>>16&255}function Pt(p,g,I,D,V,q){var H;for(H=0;H<D;++H){var K=g[I+H],J=K>>>8,re=K,me=255&(me=(me=K>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(me<<24>>24)>>>5)),V[q+H]=(4278255360&K)+(me<<16)+re}}function ct(p,g,I,D,V){E[g]=function(q,H,K,J,re,me,Ee,ie,ge){for(J=Ee;J<ie;++J)for(Ee=0;Ee<ge;++Ee)re[me++]=V(K[D(q[H++])])},E[p]=function(q,H,K,J,re,me,Ee){var ie=8>>q.b,ge=q.Ea,we=q.K[0],Ie=q.w;if(8>ie)for(q=(1<<q.b)-1,Ie=(1<<ie)-1;H<K;++H){var Ae,Le=0;for(Ae=0;Ae<ge;++Ae)Ae&q||(Le=D(J[re++])),me[Ee++]=V(we[Le&Ie]),Le>>=ie}else E["VP8LMapColor"+I](J,re,we,Ie,me,Ee,H,K,ge)}}function Nn(p,g,I,D,V){for(I=g+I;g<I;){var q=p[g++];D[V++]=q>>16&255,D[V++]=q>>8&255,D[V++]=255&q}}function Wt(p,g,I,D,V){for(I=g+I;g<I;){var q=p[g++];D[V++]=q>>16&255,D[V++]=q>>8&255,D[V++]=255&q,D[V++]=q>>24&255}}function jt(p,g,I,D,V){for(I=g+I;g<I;){var q=(H=p[g++])>>16&240|H>>12&15,H=240&H|H>>28&15;D[V++]=q,D[V++]=H}}function Ot(p,g,I,D,V){for(I=g+I;g<I;){var q=(H=p[g++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;D[V++]=q,D[V++]=H}}function Rn(p,g,I,D,V){for(I=g+I;g<I;){var q=p[g++];D[V++]=255&q,D[V++]=q>>8&255,D[V++]=q>>16&255}}function dt(p,g,I,D,V,q){if(q==0)for(I=g+I;g<I;)Te(D,((q=p[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else r(D,V,p,g,I)}function hn(p,g){E[g][0]=E[p+"0"],E[g][1]=E[p+"1"],E[g][2]=E[p+"2"],E[g][3]=E[p+"3"],E[g][4]=E[p+"4"],E[g][5]=E[p+"5"],E[g][6]=E[p+"6"],E[g][7]=E[p+"7"],E[g][8]=E[p+"8"],E[g][9]=E[p+"9"],E[g][10]=E[p+"10"],E[g][11]=E[p+"11"],E[g][12]=E[p+"12"],E[g][13]=E[p+"13"],E[g][14]=E[p+"0"],E[g][15]=E[p+"0"]}function vt(p){return p==Db||p==Fb||p==E0||p==$b}function At(){this.eb=[],this.size=this.A=this.fb=0}function dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new dn,this.sd=null}function pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jo(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function br(p,g){var I=p.T,D=g.ba.f.RGBA,V=D.eb,q=D.fb+p.ka*D.A,H=ao[g.ba.S],K=p.y,J=p.O,re=p.f,me=p.N,Ee=p.ea,ie=p.W,ge=g.cc,we=g.dc,Ie=g.Mc,Ae=g.Nc,Le=p.ka,je=p.ka+p.T,Be=p.U,Fe=Be+1>>1;for(Le==0?H(K,J,null,null,re,me,Ee,ie,re,me,Ee,ie,V,q,null,null,Be):(H(g.ec,g.fc,K,J,ge,we,Ie,Ae,re,me,Ee,ie,V,q-D.A,V,q,Be),++I);Le+2<je;Le+=2)ge=re,we=me,Ie=Ee,Ae=ie,me+=p.Rc,ie+=p.Rc,q+=2*D.A,H(K,(J+=2*p.fa)-p.fa,K,J,ge,we,Ie,Ae,re,me,Ee,ie,V,q-D.A,V,q,Be);return J+=p.fa,p.j+je<p.o?(r(g.ec,g.fc,K,J,Be),r(g.cc,g.dc,re,me,Fe),r(g.Mc,g.Nc,Ee,ie,Fe),I--):1&je||H(K,J,null,null,re,me,Ee,ie,re,me,Ee,ie,V,q+D.A,null,null,Be),I}function Ha(p,g,I){var D=p.F,V=[p.J];if(D!=null){var q=p.U,H=g.ba.S,K=H==A0||H==E0;g=g.ba.f.RGBA;var J=[0],re=p.ka;J[0]=p.T,p.Kb&&(re==0?--J[0]:(--re,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-re));var me=g.eb;re=g.fb+re*g.A,p=dT(D,V[0],p.width,q,J,me,re+(K?0:3),g.A),e(I==J),p&&vt(H)&&hp(me,re,K,q,J,g.A)}return 0}function _i(p){var g=p.ma,I=g.ba.S,D=11>I,V=I==_0||I==S0||I==A0||I==Mb||I==12||vt(I);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!ip(g.Oa,p,V?11:12))return 0;if(V&&vt(I)&&no(),p.da)alert("todo:use_scaling");else{if(D){if(g.Ib=Jo,p.Kb){if(I=p.U+1>>1,g.memory=a(p.U+2*I),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+p.U,g.Mc=g.cc,g.Nc=g.dc+I,g.Ib=br,no()}}else alert("todo:EmitYUV");V&&(g.Jb=Ha,D&&oa())}if(D&&!kT){for(p=0;256>p;++p)vB[p]=89858*(p-128)+T0>>P0,wB[p]=-22014*(p-128)+T0,bB[p]=-45773*(p-128),yB[p]=113618*(p-128)+T0>>P0;for(p=pp;p<Vb;++p)g=76283*(p-16)+T0>>P0,xB[p-pp]=ia(g,255),_B[p-pp]=ia(g+8>>4,15);kT=1}return 1}function gt(p){var g=p.ma,I=p.U,D=p.T;return e(!(1&p.ka)),0>=I||0>=D?0:(I=g.Ib(p,g),g.Jb!=null&&g.Jb(p,g,I),g.Dc+=I,1)}function Un(p){p.ma.memory=null}function Ga(p,g,I,D){return he(p,8)!=47?0:(g[0]=he(p,14)+1,I[0]=he(p,14)+1,D[0]=he(p,1),he(p,3)!=0?0:!p.h)}function Qr(p,g){if(4>p)return p+1;var I=p-2>>1;return(2+(1&p)<<I)+he(g,I)+1}function Jr(p,g){return 120<g?g-120:1<=(I=((I=rB[g-1])>>4)*p+(8-(15&I)))?I:1;var I}function Xn(p,g,I){var D=te(I),V=p[g+=255&D].g-8;return 0<V&&(ee(I,I.u+8),D=te(I),g+=p[g].value,g+=D&(1<<V)-1),ee(I,I.u+p[g].g),p[g].value}function Cr(p,g,I){return I.g+=p.g,I.value+=p.value<<g>>>0,e(8>=I.g),p.g}function Qn(p,g,I){var D=p.xc;return e((g=D==0?0:p.vc[p.md*(I>>D)+(g>>D)])<p.Wb),p.Ya[g]}function qs(p,g,I,D){var V=p.ab,q=p.c*g,H=p.C;g=H+g;var K=I,J=D;for(D=p.Ta,I=p.Ua;0<V--;){var re=p.gc[V],me=H,Ee=g,ie=K,ge=J,we=(J=D,K=I,re.Ea);switch(e(me<Ee),e(Ee<=re.nc),re.hc){case 2:xr(ie,ge,(Ee-me)*we,J,K);break;case 0:var Ie=me,Ae=Ee,Le=J,je=K,Be=(ot=re).Ea;Ie==0&&(op(ie,ge,null,null,1,Le,je),bt(ie,ge+1,0,0,Be-1,Le,je+1),ge+=Be,je+=Be,++Ie);for(var Fe=1<<ot.b,ft=Fe-1,Ze=Re(Be,ot.b),Dt=ot.K,ot=ot.w+(Ie>>ot.b)*Ze;Ie<Ae;){var Xt=Dt,Ur=ot,Ft=1;for(Wf(ie,ge,Le,je-Be,1,Le,je);Ft<Be;){var st=(Ft&~ft)+Fe;st>Be&&(st=Be),(0,lp[Xt[Ur++]>>8&15])(ie,ge+ +Ft,Le,je+Ft-Be,st-Ft,Le,je+Ft),Ft=st}ge+=Be,je+=Be,++Ie&ft||(ot+=Ze)}Ee!=re.nc&&r(J,K-we,J,K+(Ee-me-1)*we,we);break;case 1:for(we=ie,Ae=ge,Be=(ie=re.Ea)-(je=ie&~(Le=(ge=1<<re.b)-1)),Ie=Re(ie,re.b),Fe=re.K,re=re.w+(me>>re.b)*Ie;me<Ee;){for(ft=Fe,Ze=re,Dt=new et,ot=Ae+je,Xt=Ae+ie;Ae<ot;)rt(ft[Ze++],Dt),up(Dt,we,Ae,ge,J,K),Ae+=ge,K+=ge;Ae<Xt&&(rt(ft[Ze++],Dt),up(Dt,we,Ae,Be,J,K),Ae+=Be,K+=Be),++me&Le||(re+=Ie)}break;case 3:if(ie==J&&ge==K&&0<re.b){for(Ae=J,ie=we=K+(Ee-me)*we-(je=(Ee-me)*Re(re.Ea,re.b)),ge=J,Le=K,Ie=[],je=(Be=je)-1;0<=je;--je)Ie[je]=ge[Le+je];for(je=Be-1;0<=je;--je)Ae[ie+je]=Ie[je];y0(re,me,Ee,J,we,J,K)}else y0(re,me,Ee,ie,ge,J,K)}K=D,J=I}J!=I&&r(D,I,K,J,q)}function Zo(p,g){var I=p.V,D=p.Ba+p.c*p.C,V=g-p.C;if(e(g<=p.l.o),e(16>=V),0<V){var q=p.l,H=p.Ta,K=p.Ua,J=q.width;if(qs(p,V,I,D),V=K=[K],e((I=p.C)<(D=g)),e(q.v<q.va),D>q.o&&(D=q.o),I<q.j){var re=q.j-I;I=q.j,V[0]+=re*J}if(I>=D?I=0:(V[0]+=4*q.v,q.ka=I-q.j,q.U=q.va-q.v,q.T=D-I,I=1),I){if(K=K[0],11>(I=p.ca).S){var me=I.f.RGBA,Ee=(D=I.S,V=q.U,q=q.T,re=me.eb,me.A),ie=q;for(me=me.fb+p.Ma*me.A;0<ie--;){var ge=H,we=K,Ie=V,Ae=re,Le=me;switch(D){case x0:cp(ge,we,Ie,Ae,Le);break;case _0:eu(ge,we,Ie,Ae,Le);break;case Db:eu(ge,we,Ie,Ae,Le),hp(Ae,Le,0,Ie,1,0);break;case wT:xc(ge,we,Ie,Ae,Le);break;case S0:dt(ge,we,Ie,Ae,Le,1);break;case Fb:dt(ge,we,Ie,Ae,Le,1),hp(Ae,Le,0,Ie,1,0);break;case A0:dt(ge,we,Ie,Ae,Le,0);break;case E0:dt(ge,we,Ie,Ae,Le,0),hp(Ae,Le,1,Ie,1,0);break;case Mb:tu(ge,we,Ie,Ae,Le);break;case $b:tu(ge,we,Ie,Ae,Le),hT(Ae,Le,Ie,1,0);break;case xT:nu(ge,we,Ie,Ae,Le);break;default:e(0)}K+=J,me+=Ee}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=I.height)}}p.C=g,e(p.C<=p.i)}function Si(p){var g;if(0<p.ua)return 0;for(g=0;g<p.Wb;++g){var I=p.Ya[g].G,D=p.Ya[g].H;if(0<I[1][D[1]+0].g||0<I[2][D[2]+0].g||0<I[3][D[3]+0].g)return 0}return 1}function wa(p,g,I,D,V,q){if(p.Z!=0){var H=p.qd,K=p.rd;for(e(au[p.Z]!=null);g<I;++g)au[p.Z](H,K,D,V,D,V,q),H=D,K=V,V+=q;p.qd=H,p.rd=K}}function Vi(p,g){var I=p.l.ma,D=I.Z==0||I.Z==1?p.l.j:p.C;if(D=p.C<D?D:p.C,e(g<=p.l.o),g>D){var V=p.l.width,q=I.ca,H=I.tb+V*D,K=p.V,J=p.Ba+p.c*D,re=p.gc;e(p.ab==1),e(re[0].hc==3),us(re[0],D,g,K,J,q,H),wa(I,D,g,q,H,V)}p.C=p.Ma=g}function Ai(p,g,I,D,V,q,H){var K=p.$/D,J=p.$%D,re=p.m,me=p.s,Ee=I+p.$,ie=Ee;V=I+D*V;var ge=I+D*q,we=280+me.ua,Ie=p.Pb?K:16777216,Ae=0<me.ua?me.Wa:null,Le=me.wc,je=Ee<ge?Qn(me,J,K):null;e(p.C<q),e(ge<=V);var Be=!1;e:for(;;){for(;Be||Ee<ge;){var Fe=0;if(K>=Ie){var ft=Ee-I;e((Ie=p).Pb),Ie.wd=Ie.m,Ie.xd=ft,0<Ie.s.ua&&ke(Ie.s.Wa,Ie.s.vb),Ie=K+aB}if(J&Le||(je=Qn(me,J,K)),e(je!=null),je.Qb&&(g[Ee]=je.qb,Be=!0),!Be)if(ce(re),je.jc){Fe=re,ft=g;var Ze=Ee,Dt=je.pd[te(Fe)&wc-1];e(je.jc),256>Dt.g?(ee(Fe,Fe.u+Dt.g),ft[Ze]=Dt.value,Fe=0):(ee(Fe,Fe.u+Dt.g-256),e(256<=Dt.value),Fe=Dt.value),Fe==0&&(Be=!0)}else Fe=Xn(je.G[0],je.H[0],re);if(re.h)break;if(Be||256>Fe){if(!Be)if(je.nd)g[Ee]=(je.qb|Fe<<8)>>>0;else{if(ce(re),Be=Xn(je.G[1],je.H[1],re),ce(re),ft=Xn(je.G[2],je.H[2],re),Ze=Xn(je.G[3],je.H[3],re),re.h)break;g[Ee]=(Ze<<24|Be<<16|Fe<<8|ft)>>>0}if(Be=!1,++Ee,++J>=D&&(J=0,++K,H!=null&&K<=q&&!(K%16)&&H(p,K),Ae!=null))for(;ie<Ee;)Fe=g[ie++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe}else if(280>Fe){if(Fe=Qr(Fe-256,re),ft=Xn(je.G[4],je.H[4],re),ce(re),ft=Jr(D,ft=Qr(ft,re)),re.h)break;if(Ee-I<ft||V-Ee<Fe)break e;for(Ze=0;Ze<Fe;++Ze)g[Ee+Ze]=g[Ee+Ze-ft];for(Ee+=Fe,J+=Fe;J>=D;)J-=D,++K,H!=null&&K<=q&&!(K%16)&&H(p,K);if(e(Ee<=V),J&Le&&(je=Qn(me,J,K)),Ae!=null)for(;ie<Ee;)Fe=g[ie++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe}else{if(!(Fe<we))break e;for(Be=Fe-280,e(Ae!=null);ie<Ee;)Fe=g[ie++],Ae.X[(506832829*Fe&4294967295)>>>Ae.Mb]=Fe;Fe=Ee,e(!(Be>>>(ft=Ae).Xa)),g[Fe]=ft.X[Be],Be=!0}Be||e(re.h==le(re))}if(p.Pb&&re.h&&Ee<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ke(p.s.vb,p.s.Wa);else{if(re.h)break e;H!=null&&H(p,K>q?q:K),p.a=0,p.$=Ee-I}return 1}return p.a=3,0}function wr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var g=p.Wa;g!=null&&(g.X=null),p.vb=null,e(p!=null)}function es(){var p=new wt;return p==null?null:(p.a=0,p.xb=AT,hn("Predictor","VP8LPredictors"),hn("Predictor","VP8LPredictors_C"),hn("PredictorAdd","VP8LPredictorsAdd"),hn("PredictorAdd","VP8LPredictorsAdd_C"),xr=Mt,up=Pt,cp=Nn,eu=Wt,tu=jt,nu=Ot,xc=Rn,E.VP8LMapColor32b=ls,E.VP8LMapColor8b=sp,p)}function xa(p,g,I,D,V){var q=1,H=[p],K=[g],J=D.m,re=D.s,me=null,Ee=0;e:for(;;){if(I)for(;q&&he(J,1);){var ie=H,ge=K,we=D,Ie=1,Ae=we.m,Le=we.gc[we.ab],je=he(Ae,2);if(we.Oc&1<<je)q=0;else{switch(we.Oc|=1<<je,Le.hc=je,Le.Ea=ie[0],Le.nc=ge[0],Le.K=[null],++we.ab,e(4>=we.ab),je){case 0:case 1:Le.b=he(Ae,3)+2,Ie=xa(Re(Le.Ea,Le.b),Re(Le.nc,Le.b),0,we,Le.K),Le.K=Le.K[0];break;case 3:var Be,Fe=he(Ae,8)+1,ft=16<Fe?0:4<Fe?1:2<Fe?2:3;if(ie[0]=Re(Le.Ea,ft),Le.b=ft,Be=Ie=xa(Fe,1,0,we,Le.K)){var Ze,Dt=Fe,ot=Le,Xt=1<<(8>>ot.b),Ur=a(Xt);if(Ur==null)Be=0;else{var Ft=ot.K[0],st=ot.w;for(Ur[0]=ot.K[0][0],Ze=1;Ze<1*Dt;++Ze)Ur[Ze]=Xe(Ft[st+Ze],Ur[Ze-1]);for(;Ze<4*Xt;++Ze)Ur[Ze]=0;ot.K[0]=null,ot.K[0]=Ur,Be=1}}Ie=Be;break;case 2:break;default:e(0)}q=Ie}}if(H=H[0],K=K[0],q&&he(J,1)&&!(q=1<=(Ee=he(J,4))&&11>=Ee)){D.a=3;break e}var We;if(We=q)t:{var Sr,Ct,Jt,Vn=D,ci=H,Wi=K,hr=Ee,Pi=I,Hi=Vn.m,Vr=Vn.s,en=[null],vn=1,dr=0,yn=iB[hr];n:for(;;){if(Pi&&he(Hi,1)){var fi=he(Hi,3)+2,ko=Re(ci,fi),Ar=Re(Wi,fi),sa=ko*Ar;if(!xa(ko,Ar,0,Vn,en))break n;for(en=en[0],Vr.xc=fi,Sr=0;Sr<sa;++Sr){var On=en[Sr]>>8&65535;en[Sr]=On,On>=vn&&(vn=On+1)}}if(Hi.h)break n;for(Ct=0;5>Ct;++Ct){var zr=_T[Ct];!Ct&&0<hr&&(zr+=1<<hr),dr<zr&&(dr=zr)}var Na=o(vn*yn,M),Gi=vn,ka=o(Gi,Q);if(ka==null)var Ia=null;else e(65536>=Gi),Ia=ka;var la=a(dr);if(Ia==null||la==null||Na==null){Vn.a=1;break n}var Oa=Na;for(Sr=Jt=0;Sr<vn;++Sr){var Dn=Ia[Sr],Ca=Dn.G,Io=Dn.H,Sc=0,nl=1,hi=0;for(Ct=0;5>Ct;++Ct){zr=_T[Ct],Ca[Ct]=Oa,Io[Ct]=Jt,!Ct&&0<hr&&(zr+=1<<hr);i:{var k0,zb=zr,I0=Vn,mp=la,EB=Oa,PB=Jt,qb=0,ou=I0.m,TB=he(ou,1);if(i(mp,0,0,zb),TB){var NB=he(ou,1)+1,kB=he(ou,1),CT=he(ou,kB==0?1:8);mp[CT]=1,NB==2&&(mp[CT=he(ou,8)]=1);var O0=1}else{var LT=a(19),jT=he(ou,4)+4;if(19<jT){I0.a=3;var C0=0;break i}for(k0=0;k0<jT;++k0)LT[nB[k0]]=he(ou,3);var Wb=void 0,gp=void 0,RT=I0,IB=LT,L0=zb,MT=mp,Hb=0,su=RT.m,DT=8,FT=o(128,M);r:for(;j(FT,0,7,IB,19);){if(he(su,1)){var OB=2+2*he(su,3);if((Wb=2+he(su,OB))>L0)break r}else Wb=L0;for(gp=0;gp<L0&&Wb--;){ce(su);var $T=FT[0+(127&te(su))];ee(su,su.u+$T.g);var Gf=$T.value;if(16>Gf)MT[gp++]=Gf,Gf!=0&&(DT=Gf);else{var CB=Gf==16,BT=Gf-16,LB=eB[BT],UT=he(su,Z9[BT])+LB;if(gp+UT>L0)break r;for(var jB=CB?DT:0;0<UT--;)MT[gp++]=jB}}Hb=1;break r}Hb||(RT.a=3),O0=Hb}(O0=O0&&!ou.h)&&(qb=j(EB,PB,8,mp,zb)),O0&&qb!=0?C0=qb:(I0.a=3,C0=0)}if(C0==0)break n;if(nl&&tB[Ct]==1&&(nl=Oa[Jt].g==0),Sc+=Oa[Jt].g,Jt+=C0,3>=Ct){var vp,Gb=la[0];for(vp=1;vp<zr;++vp)la[vp]>Gb&&(Gb=la[vp]);hi+=Gb}}if(Dn.nd=nl,Dn.Qb=0,nl&&(Dn.qb=(Ca[3][Io[3]+0].value<<24|Ca[1][Io[1]+0].value<<16|Ca[2][Io[2]+0].value)>>>0,Sc==0&&256>Ca[0][Io[0]+0].value&&(Dn.Qb=1,Dn.qb+=Ca[0][Io[0]+0].value<<8)),Dn.jc=!Dn.Qb&&6>hi,Dn.jc){var j0,rl=Dn;for(j0=0;j0<wc;++j0){var lu=j0,uu=rl.pd[lu],R0=rl.G[0][rl.H[0]+lu];256<=R0.value?(uu.g=R0.g+256,uu.value=R0.value):(uu.g=0,uu.value=0,lu>>=Cr(R0,8,uu),lu>>=Cr(rl.G[1][rl.H[1]+lu],16,uu),lu>>=Cr(rl.G[2][rl.H[2]+lu],0,uu),Cr(rl.G[3][rl.H[3]+lu],24,uu))}}}Vr.vc=en,Vr.Wb=vn,Vr.Ya=Ia,Vr.yc=Na,We=1;break t}We=0}if(!(q=We)){D.a=3;break e}if(0<Ee){if(re.ua=1<<Ee,!G(re.Wa,Ee)){D.a=1,q=0;break e}}else re.ua=0;var Kb=D,VT=H,RB=K,Yb=Kb.s,Xb=Yb.xc;if(Kb.c=VT,Kb.i=RB,Yb.md=Re(VT,Xb),Yb.wc=Xb==0?-1:(1<<Xb)-1,I){D.xb=hB;break e}if((me=a(H*K))==null){D.a=1,q=0;break e}q=(q=Ai(D,me,0,H,K,K,null))&&!J.h;break e}return q?(V!=null?V[0]=me:(e(me==null),e(I)),D.$=0,I||wr(re)):wr(re),q}function Ao(p,g){var I=p.c*p.i,D=I+g+16*g;return e(p.c<=g),p.V=a(D),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+I+g,1)}function ts(p,g){var I=p.C,D=g-I,V=p.V,q=p.Ba+p.c*I;for(e(g<=p.l.o);0<D;){var H=16<D?16:D,K=p.l.ma,J=p.l.width,re=J*H,me=K.ca,Ee=K.tb+J*I,ie=p.Ta,ge=p.Ua;qs(p,H,V,q),pT(ie,ge,me,Ee,re),wa(K,I,I+H,me,Ee,J),D-=H,V+=H*p.c,I+=H}e(I==g),p.C=p.Ma=g}function Ws(){this.ub=this.yd=this.td=this.Rb=0}function Hs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qd(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ns(){this.Yb=function(){var p=[];return function g(I,D,V){for(var q=V[D],H=0;H<q&&(I.push(V.length>D+1?[]:0),!(V.length<D+1));H++)g(I[H],D+1,V)}(p,0,[3,11]),p}()}function uc(){this.jb=a(3),this.Wc=s([4,8],ns),this.Xc=s([4,17],ns)}function zl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Zr(){this.ld=this.La=this.dd=this.tc=0}function _a(){this.Na=this.la=0}function ql(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zr),this.Y=0,this.ya=Array(new cc),this.aa=0,this.l=new rs}function hc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function dc(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new Ws,this.Kc=new Hs,this.ed=new zl,this.Qa=new Qd,this.Ic=this.$c=this.Aa=0,this.D=new fc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,ql),this.Pa=new uc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hc),this.Hd=0,this.rb=Array(new _a),this.sb=0,this.wa=Array(new Zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cc),this.L=this.aa=0,this.gd=s([4,2],Zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ia(p,g){return 0>p?0:p>g?g:p}function rs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Df(){var p=new dc;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,dp||(dp=Gs)),p}function tr(p,g,I){return p.a==0&&(p.a=g,p.sc=I,p.cb=0),0}function Ff(p,g,I){return 3<=I&&p[g+0]==157&&p[g+1]==1&&p[g+2]==42}function Ka(p,g){if(p==null)return 0;if(p.a=0,p.sc="OK",g==null)return tr(p,2,"null VP8Io passed to VP8GetHeaders()");var I=g.data,D=g.w,V=g.ha;if(4>V)return tr(p,7,"Truncated header.");var q=I[D+0]|I[D+1]<<8|I[D+2]<<16,H=p.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return tr(p,3,"Incorrect keyframe parameters.");if(!H.yd)return tr(p,4,"Frame not displayable.");D+=3,V-=3;var K=p.Kc;if(H.Rb){if(7>V)return tr(p,7,"cannot parse picture header");if(!Ff(I,D,V))return tr(p,3,"Bad code word");K.c=16383&(I[D+4]<<8|I[D+3]),K.Td=I[D+4]>>6,K.i=16383&(I[D+6]<<8|I[D+5]),K.Ud=I[D+6]>>6,D+=7,V-=7,p.za=K.c+15>>4,p.Ub=K.i+15>>4,g.width=K.c,g.height=K.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(H.ub>V)return tr(p,7,"bad partition length");oe(q=p.m,I,D,H.ub),D+=H.ub,V-=H.ub,H.Rb&&(K.Ld=de(q),K.Kd=de(q)),K=p.Qa;var J,re=p.Pa;if(e(q!=null),e(K!=null),K.Cb=de(q),K.Cb){if(K.Bb=de(q),de(q)){for(K.Fb=de(q),J=0;4>J;++J)K.Zb[J]=de(q)?X(q,7):0;for(J=0;4>J;++J)K.Lb[J]=de(q)?X(q,6):0}if(K.Bb)for(J=0;3>J;++J)re.jb[J]=de(q)?ue(q,8):255}else K.Bb=0;if(q.Ka)return tr(p,3,"cannot parse segment header");if((K=p.ed).zd=de(q),K.Tb=ue(q,6),K.wb=ue(q,3),K.Pc=de(q),K.Pc&&de(q)){for(re=0;4>re;++re)de(q)&&(K.vd[re]=X(q,6));for(re=0;4>re;++re)de(q)&&(K.od[re]=X(q,6))}if(p.L=K.Tb==0?0:K.zd?1:2,q.Ka)return tr(p,3,"cannot parse filter header");var me=V;if(V=J=D,D=J+me,K=me,p.Xb=(1<<ue(p.m,2))-1,me<3*(re=p.Xb))I=7;else{for(J+=3*re,K-=3*re,me=0;me<re;++me){var Ee=I[V+0]|I[V+1]<<8|I[V+2]<<16;Ee>K&&(Ee=K),oe(p.Jc[+me],I,J,Ee),J+=Ee,K-=Ee,V+=3}oe(p.Jc[+re],I,J,K),I=J<D?0:5}if(I!=0)return tr(p,I,"cannot parse partitions");for(I=ue(J=p.m,7),V=de(J)?X(J,4):0,D=de(J)?X(J,4):0,K=de(J)?X(J,4):0,re=de(J)?X(J,4):0,J=de(J)?X(J,4):0,me=p.Qa,Ee=0;4>Ee;++Ee){if(me.Cb){var ie=me.Zb[Ee];me.Fb||(ie+=I)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}ie=I}var ge=p.pb[Ee];ge.Sc[0]=Bb[ia(ie+V,127)],ge.Sc[1]=Ub[ia(ie+0,127)],ge.Eb[0]=2*Bb[ia(ie+D,127)],ge.Eb[1]=101581*Ub[ia(ie+K,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=Bb[ia(ie+re,117)],ge.Qc[1]=Ub[ia(ie+J,127)],ge.lc=ie+J}if(!H.Rb)return tr(p,4,"Not a key frame.");for(de(q),H=p.Pa,I=0;4>I;++I){for(V=0;8>V;++V)for(D=0;3>D;++D)for(K=0;11>K;++K)re=_e(q,cB[I][V][D][K])?ue(q,8):lB[I][V][D][K],H.Wc[I][V].Yb[D][K]=re;for(V=0;17>V;++V)H.Xc[I][V]=H.Wc[I][fB[V]]}return p.kc=de(q),p.kc&&(p.Bd=ue(q,8)),p.cb=1}function Gs(p,g,I,D,V,q,H){var K=g[V].Yb[I];for(I=0;16>V;++V){if(!_e(p,K[I+0]))return V;for(;!_e(p,K[I+1]);)if(K=g[++V].Yb[0],I=0,V==16)return 16;var J=g[V+1].Yb;if(_e(p,K[I+2])){var re=p,me=0;if(_e(re,(ie=K)[(Ee=I)+3]))if(_e(re,ie[Ee+6])){for(K=0,Ee=2*(me=_e(re,ie[Ee+8]))+(ie=_e(re,ie[Ee+9+me])),me=0,ie=oB[Ee];ie[K];++K)me+=me+_e(re,ie[K]);me+=3+(8<<Ee)}else _e(re,ie[Ee+7])?(me=7+2*_e(re,165),me+=_e(re,145)):me=5+_e(re,159);else me=_e(re,ie[Ee+4])?3+_e(re,ie[Ee+5]):2;K=J[2]}else me=1,K=J[1];J=H+sB[V],0>(re=p).b&&Se(re);var Ee,ie=re.b,ge=(Ee=re.Ca>>1)-(re.I>>ie)>>31;--re.b,re.Ca+=ge,re.Ca|=1,re.I-=(Ee+1&ge)<<ie,q[J]=((me^ge)-ge)*D[(0<V)+0]}return 16}function pc(p){var g=p.rb[p.sb-1];g.la=0,g.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function aa(p,g,I,D,V){V=p[g+I+32*D]+(V>>3),p[g+I+32*D]=-256&V?0>V?0:255:V}function kn(p,g,I,D,V,q){aa(p,g,0,I,D+V),aa(p,g,1,I,D+q),aa(p,g,2,I,D-q),aa(p,g,3,I,D-V)}function $r(p){return(20091*p>>16)+p}function Ks(p,g,I,D){var V,q=0,H=a(16);for(V=0;4>V;++V){var K=p[g+0]+p[g+8],J=p[g+0]-p[g+8],re=(35468*p[g+4]>>16)-$r(p[g+12]),me=$r(p[g+4])+(35468*p[g+12]>>16);H[q+0]=K+me,H[q+1]=J+re,H[q+2]=J-re,H[q+3]=K-me,q+=4,g++}for(V=q=0;4>V;++V)K=(p=H[q+0]+4)+H[q+8],J=p-H[q+8],re=(35468*H[q+4]>>16)-$r(H[q+12]),aa(I,D,0,0,K+(me=$r(H[q+4])+(35468*H[q+12]>>16))),aa(I,D,1,0,J+re),aa(I,D,2,0,J-re),aa(I,D,3,0,K-me),q++,D+=32}function Wl(p,g,I,D){var V=p[g+0]+4,q=35468*p[g+4]>>16,H=$r(p[g+4]),K=35468*p[g+1]>>16;kn(I,D,0,V+H,p=$r(p[g+1]),K),kn(I,D,1,V+q,p,K),kn(I,D,2,V-q,p,K),kn(I,D,3,V-H,p,K)}function $f(p,g,I,D,V){Ks(p,g,I,D),V&&Ks(p,g+16,I,D+4)}function Ht(p,g,I,D){_c(p,g+0,I,D,1),_c(p,g+32,I,D+128,1)}function Ys(p,g,I,D){var V;for(p=p[g+0]+4,V=0;4>V;++V)for(g=0;4>g;++g)aa(I,D,g,V,p)}function is(p,g,I,D){p[g+0]&&pn(p,g+0,I,D),p[g+16]&&pn(p,g+16,I,D+4),p[g+32]&&pn(p,g+32,I,D+128),p[g+48]&&pn(p,g+48,I,D+128+4)}function Ya(p,g,I,D){var V,q=a(16);for(V=0;4>V;++V){var H=p[g+0+V]+p[g+12+V],K=p[g+4+V]+p[g+8+V],J=p[g+4+V]-p[g+8+V],re=p[g+0+V]-p[g+12+V];q[0+V]=H+K,q[8+V]=H-K,q[4+V]=re+J,q[12+V]=re-J}for(V=0;4>V;++V)H=(p=q[0+4*V]+3)+q[3+4*V],K=q[1+4*V]+q[2+4*V],J=q[1+4*V]-q[2+4*V],re=p-q[3+4*V],I[D+0]=H+K>>3,I[D+16]=re+J>>3,I[D+32]=H-K>>3,I[D+48]=re-J>>3,D+=64}function Xs(p,g,I){var D,V=g-32,q=Ta,H=255-p[V-1];for(D=0;D<I;++D){var K,J=q,re=H+p[g-1];for(K=0;K<I;++K)p[g+K]=J[re+p[V+K]];g+=32}}function Bf(p,g){Xs(p,g,4)}function Jd(p,g){Xs(p,g,8)}function Zd(p,g){Xs(p,g,16)}function mc(p,g){var I;for(I=0;16>I;++I)r(p,g+32*I,p,g-32,16)}function Uf(p,g){var I;for(I=16;0<I;--I)i(p,g,p[g-1],16),g+=32}function li(p,g,I){var D;for(D=0;16>D;++D)i(g,I+32*D,p,16)}function Xa(p,g){var I,D=16;for(I=0;16>I;++I)D+=p[g-1+32*I]+p[g+I-32];li(D>>5,p,g)}function as(p,g){var I,D=8;for(I=0;16>I;++I)D+=p[g-1+32*I];li(D>>4,p,g)}function Hl(p,g){var I,D=8;for(I=0;16>I;++I)D+=p[g+I-32];li(D>>4,p,g)}function Vf(p,g){li(128,p,g)}function yt(p,g,I){return p+2*g+I+2>>2}function ep(p,g){var I,D=g-32;for(D=new Uint8Array([yt(p[D-1],p[D+0],p[D+1]),yt(p[D+0],p[D+1],p[D+2]),yt(p[D+1],p[D+2],p[D+3]),yt(p[D+2],p[D+3],p[D+4])]),I=0;4>I;++I)r(p,g+32*I,D,0,D.length)}function tp(p,g){var I=p[g-1],D=p[g-1+32],V=p[g-1+64],q=p[g-1+96];Te(p,g+0,16843009*yt(p[g-1-32],I,D)),Te(p,g+32,16843009*yt(I,D,V)),Te(p,g+64,16843009*yt(D,V,q)),Te(p,g+96,16843009*yt(V,q,q))}function np(p,g){var I,D=4;for(I=0;4>I;++I)D+=p[g+I-32]+p[g-1+32*I];for(D>>=3,I=0;4>I;++I)i(p,g+32*I,D,4)}function ei(p,g){var I=p[g-1+0],D=p[g-1+32],V=p[g-1+64],q=p[g-1-32],H=p[g+0-32],K=p[g+1-32],J=p[g+2-32],re=p[g+3-32];p[g+0+96]=yt(D,V,p[g-1+96]),p[g+1+96]=p[g+0+64]=yt(I,D,V),p[g+2+96]=p[g+1+64]=p[g+0+32]=yt(q,I,D),p[g+3+96]=p[g+2+64]=p[g+1+32]=p[g+0+0]=yt(H,q,I),p[g+3+64]=p[g+2+32]=p[g+1+0]=yt(K,H,q),p[g+3+32]=p[g+2+0]=yt(J,K,H),p[g+3+0]=yt(re,J,K)}function Eo(p,g){var I=p[g+1-32],D=p[g+2-32],V=p[g+3-32],q=p[g+4-32],H=p[g+5-32],K=p[g+6-32],J=p[g+7-32];p[g+0+0]=yt(p[g+0-32],I,D),p[g+1+0]=p[g+0+32]=yt(I,D,V),p[g+2+0]=p[g+1+32]=p[g+0+64]=yt(D,V,q),p[g+3+0]=p[g+2+32]=p[g+1+64]=p[g+0+96]=yt(V,q,H),p[g+3+32]=p[g+2+64]=p[g+1+96]=yt(q,H,K),p[g+3+64]=p[g+2+96]=yt(H,K,J),p[g+3+96]=yt(K,J,J)}function rp(p,g){var I=p[g-1+0],D=p[g-1+32],V=p[g-1+64],q=p[g-1-32],H=p[g+0-32],K=p[g+1-32],J=p[g+2-32],re=p[g+3-32];p[g+0+0]=p[g+1+64]=q+H+1>>1,p[g+1+0]=p[g+2+64]=H+K+1>>1,p[g+2+0]=p[g+3+64]=K+J+1>>1,p[g+3+0]=J+re+1>>1,p[g+0+96]=yt(V,D,I),p[g+0+64]=yt(D,I,q),p[g+0+32]=p[g+1+96]=yt(I,q,H),p[g+1+32]=p[g+2+96]=yt(q,H,K),p[g+2+32]=p[g+3+96]=yt(H,K,J),p[g+3+32]=yt(K,J,re)}function Gl(p,g){var I=p[g+0-32],D=p[g+1-32],V=p[g+2-32],q=p[g+3-32],H=p[g+4-32],K=p[g+5-32],J=p[g+6-32],re=p[g+7-32];p[g+0+0]=I+D+1>>1,p[g+1+0]=p[g+0+64]=D+V+1>>1,p[g+2+0]=p[g+1+64]=V+q+1>>1,p[g+3+0]=p[g+2+64]=q+H+1>>1,p[g+0+32]=yt(I,D,V),p[g+1+32]=p[g+0+96]=yt(D,V,q),p[g+2+32]=p[g+1+96]=yt(V,q,H),p[g+3+32]=p[g+2+96]=yt(q,H,K),p[g+3+64]=yt(H,K,J),p[g+3+96]=yt(K,J,re)}function Po(p,g){var I=p[g-1+0],D=p[g-1+32],V=p[g-1+64],q=p[g-1+96];p[g+0+0]=I+D+1>>1,p[g+2+0]=p[g+0+32]=D+V+1>>1,p[g+2+32]=p[g+0+64]=V+q+1>>1,p[g+1+0]=yt(I,D,V),p[g+3+0]=p[g+1+32]=yt(D,V,q),p[g+3+32]=p[g+1+64]=yt(V,q,q),p[g+3+64]=p[g+2+64]=p[g+0+96]=p[g+1+96]=p[g+2+96]=p[g+3+96]=q}function Kl(p,g){var I=p[g-1+0],D=p[g-1+32],V=p[g-1+64],q=p[g-1+96],H=p[g-1-32],K=p[g+0-32],J=p[g+1-32],re=p[g+2-32];p[g+0+0]=p[g+2+32]=I+H+1>>1,p[g+0+32]=p[g+2+64]=D+I+1>>1,p[g+0+64]=p[g+2+96]=V+D+1>>1,p[g+0+96]=q+V+1>>1,p[g+3+0]=yt(K,J,re),p[g+2+0]=yt(H,K,J),p[g+1+0]=p[g+3+32]=yt(I,H,K),p[g+1+32]=p[g+3+64]=yt(D,I,H),p[g+1+64]=p[g+3+96]=yt(V,D,I),p[g+1+96]=yt(q,V,D)}function Sa(p,g){var I;for(I=0;8>I;++I)r(p,g+32*I,p,g-32,8)}function Qs(p,g){var I;for(I=0;8>I;++I)i(p,g,p[g-1],8),g+=32}function Qa(p,g,I){var D;for(D=0;8>D;++D)i(g,I+32*D,p,8)}function gc(p,g){var I,D=8;for(I=0;8>I;++I)D+=p[g+I-32]+p[g-1+32*I];Qa(D>>4,p,g)}function Pn(p,g){var I,D=4;for(I=0;8>I;++I)D+=p[g+I-32];Qa(D>>3,p,g)}function vc(p,g){var I,D=4;for(I=0;8>I;++I)D+=p[g-1+32*I];Qa(D>>3,p,g)}function zf(p,g){Qa(128,p,g)}function Ja(p,g,I){var D=p[g-I],V=p[g+0],q=3*(V-D)+Rb[1020+p[g-2*I]-p[g+I]],H=w0[112+(q+4>>3)];p[g-I]=Ta[255+D+w0[112+(q+3>>3)]],p[g+0]=Ta[255+V-H]}function Yl(p,g,I,D){var V=p[g+0],q=p[g+I];return io[255+p[g-2*I]-p[g-I]]>D||io[255+q-V]>D}function Js(p,g,I,D){return 4*io[255+p[g-I]-p[g+0]]+io[255+p[g-2*I]-p[g+I]]<=D}function os(p,g,I,D,V){var q=p[g-3*I],H=p[g-2*I],K=p[g-I],J=p[g+0],re=p[g+I],me=p[g+2*I],Ee=p[g+3*I];return 4*io[255+K-J]+io[255+H-re]>D?0:io[255+p[g-4*I]-q]<=V&&io[255+q-H]<=V&&io[255+H-K]<=V&&io[255+Ee-me]<=V&&io[255+me-re]<=V&&io[255+re-J]<=V}function ss(p,g,I,D){var V=2*D+1;for(D=0;16>D;++D)Js(p,g+D,I,V)&&Ja(p,g+D,I)}function zi(p,g,I,D){var V=2*D+1;for(D=0;16>D;++D)Js(p,g+D*I,1,V)&&Ja(p,g+D*I,1)}function yc(p,g,I,D){var V;for(V=3;0<V;--V)ss(p,g+=4*I,I,D)}function qf(p,g,I,D){var V;for(V=3;0<V;--V)zi(p,g+=4,I,D)}function qi(p,g,I,D,V,q,H,K){for(q=2*q+1;0<V--;){if(os(p,g,I,q,H))if(Yl(p,g,I,K))Ja(p,g,I);else{var J=p,re=g,me=I,Ee=J[re-2*me],ie=J[re-me],ge=J[re+0],we=J[re+me],Ie=J[re+2*me],Ae=27*(je=Rb[1020+3*(ge-ie)+Rb[1020+Ee-we]])+63>>7,Le=18*je+63>>7,je=9*je+63>>7;J[re-3*me]=Ta[255+J[re-3*me]+je],J[re-2*me]=Ta[255+Ee+Le],J[re-me]=Ta[255+ie+Ae],J[re+0]=Ta[255+ge-Ae],J[re+me]=Ta[255+we-Le],J[re+2*me]=Ta[255+Ie-je]}g+=D}}function Za(p,g,I,D,V,q,H,K){for(q=2*q+1;0<V--;){if(os(p,g,I,q,H))if(Yl(p,g,I,K))Ja(p,g,I);else{var J=p,re=g,me=I,Ee=J[re-me],ie=J[re+0],ge=J[re+me],we=w0[112+(4+(Ie=3*(ie-Ee))>>3)],Ie=w0[112+(Ie+3>>3)],Ae=we+1>>1;J[re-2*me]=Ta[255+J[re-2*me]+Ae],J[re-me]=Ta[255+Ee+Ie],J[re+0]=Ta[255+ie-we],J[re+me]=Ta[255+ge-Ae]}g+=D}}function Xl(p,g,I,D,V,q){qi(p,g,I,1,16,D,V,q)}function eo(p,g,I,D,V,q){qi(p,g,1,I,16,D,V,q)}function bc(p,g,I,D,V,q){var H;for(H=3;0<H;--H)Za(p,g+=4*I,I,1,16,D,V,q)}function A(p,g,I,D,V,q){var H;for(H=3;0<H;--H)Za(p,g+=4,1,I,16,D,V,q)}function U(p,g,I,D,V,q,H,K){qi(p,g,V,1,8,q,H,K),qi(I,D,V,1,8,q,H,K)}function ne(p,g,I,D,V,q,H,K){qi(p,g,1,V,8,q,H,K),qi(I,D,1,V,8,q,H,K)}function fe(p,g,I,D,V,q,H,K){Za(p,g+4*V,V,1,8,q,H,K),Za(I,D+4*V,V,1,8,q,H,K)}function ve(p,g,I,D,V,q,H,K){Za(p,g+4,1,V,8,q,H,K),Za(I,D+4,1,V,8,q,H,K)}function Ce(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function De(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new He,this.vb=new He,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new M}function wt(){this.xb=this.a=0,this.l=new rs,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=o(4,Ye),this.Oc=0}function Tt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new rs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gt(p,g,I,D,V,q,H){for(p=p==null?0:p[g+0],g=0;g<H;++g)V[q+g]=p+I[D+g]&255,p=V[q+g]}function sn(p,g,I,D,V,q,H){var K;if(p==null)Gt(null,null,I,D,V,q,H);else for(K=0;K<H;++K)V[q+K]=p[g+K]+I[D+K]&255}function nr(p,g,I,D,V,q,H){if(p==null)Gt(null,null,I,D,V,q,H);else{var K,J=p[g+0],re=J,me=J;for(K=0;K<H;++K)re=me+(J=p[g+K])-re,me=I[D+K]+(-256&re?0>re?0:255:re)&255,re=J,V[q+K]=me}}function gn(p,g,I,D){var V=g.width,q=g.o;if(e(p!=null&&g!=null),0>I||0>=D||I+D>q)return null;if(!p.Cc){if(p.ga==null){var H;if(p.ga=new Tt,(H=p.ga==null)||(H=g.width*g.o,e(p.Gb.length==0),p.Gb=a(H),p.Uc=0,p.Gb==null?H=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,H=1),H=!H),!H){H=p.ga;var K=p.Fa,J=p.P,re=p.qc,me=p.mb,Ee=p.nb,ie=J+1,ge=re-1,we=H.l;if(e(K!=null&&me!=null&&g!=null),au[0]=null,au[1]=Gt,au[2]=sn,au[3]=nr,H.ca=me,H.tb=Ee,H.c=g.width,H.i=g.height,e(0<H.c&&0<H.i),1>=re)g=0;else if(H.$a=3&K[J+0],H.Z=K[J+0]>>2&3,H.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||J)g=0;else if(we.put=gt,we.ac=_i,we.bc=Un,we.ma=H,we.width=g.width,we.height=g.height,we.Da=g.Da,we.v=g.v,we.va=g.va,we.j=g.j,we.o=g.o,H.$a)e:{e(H.$a==1),g=es();t:for(;;){if(g==null){g=0;break e}if(e(H!=null),H.mc=g,g.c=H.c,g.i=H.i,g.l=H.l,g.l.ma=H,g.l.width=H.c,g.l.height=H.i,g.a=0,ae(g.m,K,ie,ge),!xa(H.c,H.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Si(g.s)?(H.ic=1,K=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(K),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(H.ic=0,g=Ao(g,H.c)),!g))break t;g=1;break e}H.mc=null,g=0}else g=ge>=H.c*H.i;H=!g}if(H)return null;p.ga.Lc!=1?p.Ga=0:D=q-I}e(p.ga!=null),e(I+D<=q);e:{if(g=(K=p.ga).c,q=K.l.o,K.$a==0){if(ie=p.rc,ge=p.Vc,we=p.Fa,J=p.P+1+I*g,re=p.mb,me=p.nb+I*g,e(J<=p.P+p.qc),K.Z!=0)for(e(au[K.Z]!=null),H=0;H<D;++H)au[K.Z](ie,ge,we,J,re,me,g),ie=re,ge=me,me+=g,J+=g;else for(H=0;H<D;++H)r(re,me,we,J,g),ie=re,ge=me,me+=g,J+=g;p.rc=ie,p.Vc=ge}else{if(e(K.mc!=null),g=I+D,e((H=K.mc)!=null),e(g<=H.i),H.C>=g)g=1;else if(K.ic||oa(),K.ic){K=H.V,ie=H.Ba,ge=H.c;var Ie=H.i,Ae=(we=1,J=H.$/ge,re=H.$%ge,me=H.m,Ee=H.s,H.$),Le=ge*Ie,je=ge*g,Be=Ee.wc,Fe=Ae<je?Qn(Ee,re,J):null;e(Ae<=Le),e(g<=Ie),e(Si(Ee));t:for(;;){for(;!me.h&&Ae<je;){if(re&Be||(Fe=Qn(Ee,re,J)),e(Fe!=null),ce(me),256>(Ie=Xn(Fe.G[0],Fe.H[0],me)))K[ie+Ae]=Ie,++Ae,++re>=ge&&(re=0,++J<=g&&!(J%16)&&Vi(H,J));else{if(!(280>Ie)){we=0;break t}Ie=Qr(Ie-256,me);var ft,Ze=Xn(Fe.G[4],Fe.H[4],me);if(ce(me),!(Ae>=(Ze=Jr(ge,Ze=Qr(Ze,me)))&&Le-Ae>=Ie)){we=0;break t}for(ft=0;ft<Ie;++ft)K[ie+Ae+ft]=K[ie+Ae+ft-Ze];for(Ae+=Ie,re+=Ie;re>=ge;)re-=ge,++J<=g&&!(J%16)&&Vi(H,J);Ae<je&&re&Be&&(Fe=Qn(Ee,re,J))}e(me.h==le(me))}Vi(H,J>g?g:J);break t}!we||me.h&&Ae<Le?(we=0,H.a=me.h?5:3):H.$=Ae,g=we}else g=Ai(H,H.V,H.Ba,H.c,H.i,g,ts);if(!g){D=0;break e}}I+D>=q&&(p.Cc=1),D=1}if(!D)return null;if(p.Cc&&((D=p.ga)!=null&&(D.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+I*V}function cr(p,g,I,D,V,q){for(;0<V--;){var H,K=p,J=g+(I?1:0),re=p,me=g+(I?0:3);for(H=0;H<D;++H){var Ee=re[me+4*H];Ee!=255&&(Ee*=32897,K[J+4*H+0]=K[J+4*H+0]*Ee>>23,K[J+4*H+1]=K[J+4*H+1]*Ee>>23,K[J+4*H+2]=K[J+4*H+2]*Ee>>23)}g+=q}}function rr(p,g,I,D,V){for(;0<D--;){var q;for(q=0;q<I;++q){var H=p[g+2*q+0],K=15&(re=p[g+2*q+1]),J=4369*K,re=(240&re|re>>4)*J>>16;p[g+2*q+0]=(240&H|H>>4)*J>>16&240|(15&H|H<<4)*J>>16>>4&15,p[g+2*q+1]=240&re|K}g+=V}}function fr(p,g,I,D,V,q,H,K){var J,re,me=255;for(re=0;re<V;++re){for(J=0;J<D;++J){var Ee=p[g+J];q[H+4*J]=Ee,me&=Ee}g+=I,H+=K}return me!=255}function ir(p,g,I,D,V){var q;for(q=0;q<V;++q)I[D+q]=p[g+q]>>8}function oa(){hp=cr,hT=rr,dT=fr,pT=ir}function to(p,g,I){E[p]=function(D,V,q,H,K,J,re,me,Ee,ie,ge,we,Ie,Ae,Le,je,Be){var Fe,ft=Be-1>>1,Ze=K[J+0]|re[me+0]<<16,Dt=Ee[ie+0]|ge[we+0]<<16;e(D!=null);var ot=3*Ze+Dt+131074>>2;for(g(D[V+0],255&ot,ot>>16,Ie,Ae),q!=null&&(ot=3*Dt+Ze+131074>>2,g(q[H+0],255&ot,ot>>16,Le,je)),Fe=1;Fe<=ft;++Fe){var Xt=K[J+Fe]|re[me+Fe]<<16,Ur=Ee[ie+Fe]|ge[we+Fe]<<16,Ft=Ze+Xt+Dt+Ur+524296,st=Ft+2*(Xt+Dt)>>3;ot=st+Ze>>1,Ze=(Ft=Ft+2*(Ze+Ur)>>3)+Xt>>1,g(D[V+2*Fe-1],255&ot,ot>>16,Ie,Ae+(2*Fe-1)*I),g(D[V+2*Fe-0],255&Ze,Ze>>16,Ie,Ae+(2*Fe-0)*I),q!=null&&(ot=Ft+Dt>>1,Ze=st+Ur>>1,g(q[H+2*Fe-1],255&ot,ot>>16,Le,je+(2*Fe-1)*I),g(q[H+2*Fe+0],255&Ze,Ze>>16,Le,je+(2*Fe+0)*I)),Ze=Xt,Dt=Ur}1&Be||(ot=3*Ze+Dt+131074>>2,g(D[V+Be-1],255&ot,ot>>16,Ie,Ae+(Be-1)*I),q!=null&&(ot=3*Dt+Ze+131074>>2,g(q[H+Be-1],255&ot,ot>>16,Le,je+(Be-1)*I)))}}function no(){ao[x0]=dB,ao[_0]=ET,ao[wT]=pB,ao[S0]=PT,ao[A0]=TT,ao[Mb]=NT,ao[xT]=mB,ao[Db]=ET,ao[Fb]=PT,ao[E0]=TT,ao[$b]=NT}function m(p){return p&-16384?0>p?0:255:p>>gB}function C(p,g){return m((19077*p>>8)+(26149*g>>8)-14234)}function B(p,g,I){return m((19077*p>>8)-(6419*g>>8)-(13320*I>>8)+8708)}function Y(p,g){return m((19077*p>>8)+(33050*g>>8)-17685)}function ye(p,g,I,D,V){D[V+0]=C(p,I),D[V+1]=B(p,g,I),D[V+2]=Y(p,g)}function Pe(p,g,I,D,V){D[V+0]=Y(p,g),D[V+1]=B(p,g,I),D[V+2]=C(p,I)}function Ve(p,g,I,D,V){var q=B(p,g,I);g=q<<3&224|Y(p,g)>>3,D[V+0]=248&C(p,I)|q>>5,D[V+1]=g}function Yt(p,g,I,D,V){var q=240&Y(p,g)|15;D[V+0]=240&C(p,I)|B(p,g,I)>>4,D[V+1]=q}function ar(p,g,I,D,V){D[V+0]=255,ye(p,g,I,D,V+1)}function Bt(p,g,I,D,V){Pe(p,g,I,D,V),D[V+3]=255}function nn(p,g,I,D,V){ye(p,g,I,D,V),D[V+3]=255}function Mn(p,g,I){E[p]=function(D,V,q,H,K,J,re,me,Ee){for(var ie=me+(-2&Ee)*I;me!=ie;)g(D[V+0],q[H+0],K[J+0],re,me),g(D[V+1],q[H+0],K[J+0],re,me+I),V+=2,++H,++J,me+=2*I;1&Ee&&g(D[V+0],q[H+0],K[J+0],re,me)}}function Aa(p,g,I){return I==0?p==0?g==0?6:5:g==0?4:0:I}function Ei(p,g,I,D,V){switch(p>>>30){case 3:_c(g,I,D,V,0);break;case 2:ro(g,I,D,V);break;case 1:pn(g,I,D,V)}}function ui(p,g){var I,D,V=g.M,q=g.Nb,H=p.oc,K=p.pc+40,J=p.oc,re=p.pc+584,me=p.oc,Ee=p.pc+600;for(I=0;16>I;++I)H[K+32*I-1]=129;for(I=0;8>I;++I)J[re+32*I-1]=129,me[Ee+32*I-1]=129;for(0<V?H[K-1-32]=J[re-1-32]=me[Ee-1-32]=129:(i(H,K-32-1,127,21),i(J,re-32-1,127,9),i(me,Ee-32-1,127,9)),D=0;D<p.za;++D){var ie=g.ya[g.aa+D];if(0<D){for(I=-1;16>I;++I)r(H,K+32*I-4,H,K+32*I+12,4);for(I=-1;8>I;++I)r(J,re+32*I-4,J,re+32*I+4,4),r(me,Ee+32*I-4,me,Ee+32*I+4,4)}var ge=p.Gd,we=p.Hd+D,Ie=ie.ad,Ae=ie.Hc;if(0<V&&(r(H,K-32,ge[we].y,0,16),r(J,re-32,ge[we].f,0,8),r(me,Ee-32,ge[we].ea,0,8)),ie.Za){var Le=H,je=K-32+16;for(0<V&&(D>=p.za-1?i(Le,je,ge[we].y[15],4):r(Le,je,ge[we+1].y,0,4)),I=0;4>I;I++)Le[je+128+I]=Le[je+256+I]=Le[je+384+I]=Le[je+0+I];for(I=0;16>I;++I,Ae<<=2)Le=H,je=K+IT[I],No[ie.Ob[I]](Le,je),Ei(Ae,Ie,16*+I,Le,je)}else if(Le=Aa(D,V,ie.Ob[0]),iu[Le](H,K),Ae!=0)for(I=0;16>I;++I,Ae<<=2)Ei(Ae,Ie,16*+I,H,K+IT[I]);for(I=ie.Gc,Le=Aa(D,V,ie.Dd),tl[Le](J,re),tl[Le](me,Ee),Ae=Ie,Le=J,je=re,255&(ie=0|I)&&(170&ie?cs(Ae,256,Le,je):In(Ae,256,Le,je)),ie=me,Ae=Ee,255&(I>>=8)&&(170&I?cs(Ie,320,ie,Ae):In(Ie,320,ie,Ae)),V<p.Ub-1&&(r(ge[we].y,0,H,K+480,16),r(ge[we].f,0,J,re+224,8),r(ge[we].ea,0,me,Ee+224,8)),I=8*q*p.B,ge=p.sa,we=p.ta+16*D+16*q*p.R,Ie=p.qa,ie=p.ra+8*D+I,Ae=p.Ha,Le=p.Ia+8*D+I,I=0;16>I;++I)r(ge,we+I*p.R,H,K+32*I,16);for(I=0;8>I;++I)r(Ie,ie+I*p.B,J,re+32*I,8),r(Ae,Le+I*p.B,me,Ee+32*I,8)}}function To(p,g,I,D,V,q,H,K,J){var re=[0],me=[0],Ee=0,ie=J!=null?J.kd:0,ge=J??new De;if(p==null||12>I)return 7;ge.data=p,ge.w=g,ge.ha=I,g=[g],I=[I],ge.gb=[ge.gb];e:{var we=g,Ie=I,Ae=ge.gb;if(e(p!=null),e(Ie!=null),e(Ae!=null),Ae[0]=0,12<=Ie[0]&&!n(p,we[0],"RIFF")){if(n(p,we[0]+8,"WEBP")){Ae=3;break e}var Le=Ne(p,we[0]+4);if(12>Le||4294967286<Le){Ae=3;break e}if(ie&&Le>Ie[0]-8){Ae=7;break e}Ae[0]=Le,we[0]+=12,Ie[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Le=0<ge.gb[0],I=I[0];;){e:{var je=p;Ie=g,Ae=I;var Be=re,Fe=me,ft=we=[0];if((ot=Ee=[Ee])[0]=0,8>Ae[0])Ae=7;else{if(!n(je,Ie[0],"VP8X")){if(Ne(je,Ie[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var Ze=Ne(je,Ie[0]+8),Dt=1+xe(je,Ie[0]+12);if(2147483648<=Dt*(je=1+xe(je,Ie[0]+15))){Ae=3;break e}ft!=null&&(ft[0]=Ze),Be!=null&&(Be[0]=Dt),Fe!=null&&(Fe[0]=je),Ie[0]+=18,Ae[0]-=18,ot[0]=1}Ae=0}}if(Ee=Ee[0],we=we[0],Ae!=0)return Ae;if(Ie=!!(2&we),!Le&&Ee)return 3;if(q!=null&&(q[0]=!!(16&we)),H!=null&&(H[0]=Ie),K!=null&&(K[0]=0),H=re[0],we=me[0],Ee&&Ie&&J==null){Ae=0;break}if(4>I){Ae=7;break}if(Le&&Ee||!Le&&!Ee&&!n(p,g[0],"ALPH")){I=[I],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ze=p,Ae=g,Le=I;var ot=ge.gb;Be=ge.na,Fe=ge.P,ft=ge.Sa,Dt=22,e(Ze!=null),e(Le!=null),je=Ae[0];var Xt=Le[0];for(e(Be!=null),e(ft!=null),Be[0]=null,Fe[0]=null,ft[0]=0;;){if(Ae[0]=je,Le[0]=Xt,8>Xt){Ae=7;break e}var Ur=Ne(Ze,je+4);if(4294967286<Ur){Ae=3;break e}var Ft=8+Ur+1&-2;if(Dt+=Ft,0<ot&&Dt>ot){Ae=3;break e}if(!n(Ze,je,"VP8 ")||!n(Ze,je,"VP8L")){Ae=0;break e}if(Xt[0]<Ft){Ae=7;break e}n(Ze,je,"ALPH")||(Be[0]=Ze,Fe[0]=je+8,ft[0]=Ur),je+=Ft,Xt-=Ft}}if(I=I[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],Ae!=0)break}I=[I],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(ot=p,Ae=g,Le=I,Be=ge.gb[0],Fe=ge.Ja,ft=ge.xa,Ze=Ae[0],je=!n(ot,Ze,"VP8 "),Dt=!n(ot,Ze,"VP8L"),e(ot!=null),e(Le!=null),e(Fe!=null),e(ft!=null),8>Le[0])Ae=7;else{if(je||Dt){if(ot=Ne(ot,Ze+4),12<=Be&&ot>Be-12){Ae=3;break e}if(ie&&ot>Le[0]-8){Ae=7;break e}Fe[0]=ot,Ae[0]+=8,Le[0]-=8,ft[0]=Dt}else ft[0]=5<=Le[0]&&ot[Ze+0]==47&&!(ot[Ze+4]>>5),Fe[0]=Le[0];Ae=0}if(I=I[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],g=g[0],Ae!=0)break;if(4294967286<ge.Ja)return 3;if(K==null||Ie||(K[0]=ge.xa?2:1),H=[H],we=[we],ge.xa){if(5>I){Ae=7;break}K=H,ie=we,Ie=q,p==null||5>I?p=0:5<=I&&p[g+0]==47&&!(p[g+4]>>5)?(Le=[0],ot=[0],Be=[0],ae(Fe=new W,p,g,I),Ga(Fe,Le,ot,Be)?(K!=null&&(K[0]=Le[0]),ie!=null&&(ie[0]=ot[0]),Ie!=null&&(Ie[0]=Be[0]),p=1):p=0):p=0}else{if(10>I){Ae=7;break}K=we,p==null||10>I||!Ff(p,g+3,I-3)?p=0:(ie=p[g+0]|p[g+1]<<8|p[g+2]<<16,Ie=16383&(p[g+7]<<8|p[g+6]),p=16383&(p[g+9]<<8|p[g+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=ge.Ja||!Ie||!p?p=0:(H&&(H[0]=Ie),K&&(K[0]=p),p=1))}if(!p||(H=H[0],we=we[0],Ee&&(re[0]!=H||me[0]!=we)))return 3;J!=null&&(J[0]=ge,J.offset=g-J.w,e(4294967286>g-J.w),e(J.offset==J.ha-I));break}return Ae==0||Ae==7&&Ee&&J==null?(q!=null&&(q[0]|=ge.na!=null&&0<ge.na.length),D!=null&&(D[0]=H),V!=null&&(V[0]=we),0):Ae}function ip(p,g,I){var D=g.width,V=g.height,q=0,H=0,K=D,J=V;if(g.Da=p!=null&&0<p.Da,g.Da&&(K=p.cd,J=p.bd,q=p.v,H=p.j,11>I||(q&=-2,H&=-2),0>q||0>H||0>=K||0>=J||q+K>D||H+J>V))return 0;if(g.v=q,g.j=H,g.va=q+K,g.o=H+J,g.U=K,g.T=J,g.da=p!=null&&0<p.da,g.da){if(!Ge(K,J,I=[p.ib],q=[p.hb]))return 0;g.ib=I[0],g.hb=q[0]}return g.ob=p!=null&&p.ob,g.Kb=p==null||!p.Sd,g.da&&(g.ob=g.ib<3*D/4&&g.hb<3*V/4,g.Kb=0),1}function ap(p){if(p==null)return 2;if(11>p.S){var g=p.f.RGBA;g.fb+=(p.height-1)*g.A,g.A=-g.A}else g=p.f.kb,p=p.height,g.O+=(p-1)*g.fa,g.fa=-g.fa,g.N+=(p-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(p-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(p-1)*g.lb,g.lb=-g.lb);return 0}function Ql(p,g,I,D){if(D==null||0>=p||0>=g)return 2;if(I!=null){if(I.Da){var V=I.cd,q=I.bd,H=-2&I.v,K=-2&I.j;if(0>H||0>K||0>=V||0>=q||H+V>p||K+q>g)return 2;p=V,g=q}if(I.da){if(!Ge(p,g,V=[I.ib],q=[I.hb]))return 2;p=V[0],g=q[0]}}D.width=p,D.height=g;e:{var J=D.width,re=D.height;if(p=D.S,0>=J||0>=re||!(p>=x0&&13>p))p=2;else{if(0>=D.Rd&&D.sd==null){H=q=V=g=0;var me=(K=J*OT[p])*re;if(11>p||(q=(re+1)/2*(g=(J+1)/2),p==12&&(H=(V=J)*re)),(re=a(me+2*q+H))==null){p=1;break e}D.sd=re,11>p?((J=D.f.RGBA).eb=re,J.fb=0,J.A=K,J.size=me):((J=D.f.kb).y=re,J.O=0,J.fa=K,J.Fd=me,J.f=re,J.N=0+me,J.Ab=g,J.Cd=q,J.ea=re,J.W=0+me+q,J.Db=g,J.Ed=q,p==12&&(J.F=re,J.J=0+me+2*q),J.Tc=H,J.lb=V)}if(g=1,V=D.S,q=D.width,H=D.height,V>=x0&&13>V)if(11>V)p=D.f.RGBA,g&=(K=Math.abs(p.A))*(H-1)+q<=p.size,g&=K>=q*OT[V],g&=p.eb!=null;else{p=D.f.kb,K=(q+1)/2,me=(H+1)/2,J=Math.abs(p.fa),re=Math.abs(p.Ab);var Ee=Math.abs(p.Db),ie=Math.abs(p.lb),ge=ie*(H-1)+q;g&=J*(H-1)+q<=p.Fd,g&=re*(me-1)+K<=p.Cd,g=(g&=Ee*(me-1)+K<=p.Ed)&J>=q&re>=K&Ee>=K,g&=p.y!=null,g&=p.f!=null,g&=p.ea!=null,V==12&&(g&=ie>=q,g&=ge<=p.Tc,g&=p.F!=null)}else g=0;p=g?0:2}}return p!=0||I!=null&&I.fd&&(p=ap(D)),p}var wc=64,Ea=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pa=24,Jl=32,Zs=8,Zl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(p){return p},E.Predictor2=function(p,g,I){return g[I+0]},E.Predictor3=function(p,g,I){return g[I+1]},E.Predictor4=function(p,g,I){return g[I-1]},E.Predictor5=function(p,g,I){return nt(nt(p,g[I+1]),g[I+0])},E.Predictor6=function(p,g,I){return nt(p,g[I-1])},E.Predictor7=function(p,g,I){return nt(p,g[I+0])},E.Predictor8=function(p,g,I){return nt(g[I-1],g[I+0])},E.Predictor9=function(p,g,I){return nt(g[I+0],g[I+1])},E.Predictor10=function(p,g,I){return nt(nt(p,g[I-1]),nt(g[I+0],g[I+1]))},E.Predictor11=function(p,g,I){var D=g[I+0];return 0>=ut(D>>24&255,p>>24&255,(g=g[I-1])>>24&255)+ut(D>>16&255,p>>16&255,g>>16&255)+ut(D>>8&255,p>>8&255,g>>8&255)+ut(255&D,255&p,255&g)?D:p},E.Predictor12=function(p,g,I){var D=g[I+0];return(zt((p>>24&255)+(D>>24&255)-((g=g[I-1])>>24&255))<<24|zt((p>>16&255)+(D>>16&255)-(g>>16&255))<<16|zt((p>>8&255)+(D>>8&255)-(g>>8&255))<<8|zt((255&p)+(255&D)-(255&g)))>>>0},E.Predictor13=function(p,g,I){var D=g[I-1];return(Lt((p=nt(p,g[I+0]))>>24&255,D>>24&255)<<24|Lt(p>>16&255,D>>16&255)<<16|Lt(p>>8&255,D>>8&255)<<8|Lt(255&p,255&D))>>>0};var op=E.PredictorAdd0;E.PredictorAdd1=bt,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Wf=E.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var xr,y0=E.ColorIndexInverseTransform,ls=E.MapARGB,us=E.VP8LColorIndexInverseTransformAlpha,sp=E.MapAlpha,lp=E.VP8LPredictorsAdd=[];lp.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var up,cp,eu,tu,nu,xc,ru,_c,ro,cs,pn,In,_r,Br,el,fp,Hf,b0,oT,sT,lT,uT,cT,fT,hp,hT,dT,pT,mT=a(511),gT=a(2041),vT=a(225),yT=a(767),bT=0,Rb=gT,w0=vT,Ta=yT,io=mT,x0=0,_0=1,wT=2,S0=3,A0=4,Mb=5,xT=6,Db=7,Fb=8,E0=9,$b=10,Z9=[2,3,7],eB=[3,3,11],_T=[280,256,256,256,40],tB=[0,1,1,1,0],nB=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rB=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iB=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],aB=8,Bb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ub=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dp=null,oB=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sB=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ST=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lB=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],uB=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cB=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fB=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],iu=[],No=[],tl=[],hB=1,AT=2,au=[],ao=[];to("UpsampleRgbLinePair",ye,3),to("UpsampleBgrLinePair",Pe,3),to("UpsampleRgbaLinePair",nn,4),to("UpsampleBgraLinePair",Bt,4),to("UpsampleArgbLinePair",ar,4),to("UpsampleRgba4444LinePair",Yt,2),to("UpsampleRgb565LinePair",Ve,2);var dB=E.UpsampleRgbLinePair,pB=E.UpsampleBgrLinePair,ET=E.UpsampleRgbaLinePair,PT=E.UpsampleBgraLinePair,TT=E.UpsampleArgbLinePair,NT=E.UpsampleRgba4444LinePair,mB=E.UpsampleRgb565LinePair,P0=16,T0=1<<P0-1,pp=-227,Vb=482,gB=6,kT=0,vB=a(256),yB=a(256),bB=a(256),wB=a(256),xB=a(Vb-pp),_B=a(Vb-pp);Mn("YuvToRgbRow",ye,3),Mn("YuvToBgrRow",Pe,3),Mn("YuvToRgbaRow",nn,4),Mn("YuvToBgraRow",Bt,4),Mn("YuvToArgbRow",ar,4),Mn("YuvToRgba4444Row",Yt,2),Mn("YuvToRgb565Row",Ve,2);var IT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],N0=[0,2,8],SB=[8,7,6,4,4,2,2,2,1,1,1,1],AB=1;this.WebPDecodeRGBA=function(p,g,I,D,V){var q=_0,H=new Ce,K=new Rt;H.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var J=K.width,re=K.height,me=new pt;if(me==null||p==null)var Ee=2;else e(me!=null),Ee=To(p,g,I,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ee!=0?J=0:(J!=null&&(J[0]=me.width[0]),re!=null&&(re[0]=me.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),V!=null&&(V[0]=K.height);e:{if(D=new rs,(V=new De).data=p,V.w=g,V.ha=I,V.kd=1,g=[0],e(V!=null),((p=To(V.data,V.w,V.ha,null,null,null,g,null,V))==0||p==7)&&g[0]&&(p=4),(g=p)==0){if(e(H!=null),D.data=V.data,D.w=V.w+V.offset,D.ha=V.ha-V.offset,D.put=gt,D.ac=_i,D.bc=Un,D.ma=H,V.xa){if((p=es())==null){H=1;break e}if(function(ie,ge){var we=[0],Ie=[0],Ae=[0];t:for(;;){if(ie==null)return 0;if(ge==null)return ie.a=2,0;if(ie.l=ge,ie.a=0,ae(ie.m,ge.data,ge.w,ge.ha),!Ga(ie.m,we,Ie,Ae)){ie.a=3;break t}if(ie.xb=AT,ge.width=we[0],ge.height=Ie[0],!xa(we[0],Ie[0],1,ie,null))break t;return 1}return e(ie.a!=0),0}(p,D)){if(D=(g=Ql(D.width,D.height,H.Oa,H.ba))==0){t:{D=p;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((I=D.l)!=null),e((V=I.ma)!=null),D.xb!=0){if(D.ca=V.ba,D.tb=V.tb,e(D.ca!=null),!ip(V.Oa,I,S0)){D.a=2;break n}if(!Ao(D,I.width)||I.da)break n;if((I.da||vt(D.ca.S))&&oa(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&oa()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!G(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Ai(D,D.V,D.Ba,D.c,D.i,I.o,Zo))break n;V.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(g=p.a)}else g=p.a}else{if((p=new Df)==null){H=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,Ka(p,D)){if((g=Ql(D.width,D.height,H.Oa,H.ba))==0){if(p.Aa=0,I=H.Oa,e((V=p)!=null),I!=null){if(0<(J=0>(J=I.Md)?0:100<J?255:255*J/100)){for(re=me=0;4>re;++re)12>(Ee=V.pb[re]).lc&&(Ee.ia=J*SB[0>Ee.lc?0:Ee.lc]>>3),me|=Ee.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=I.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ie,ge){if(ie==null)return 0;if(ge==null)return tr(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Ka(ie,ge))return 0;if(e(ie.cb),ge.ac==null||ge.ac(ge)){ge.ob&&(ie.L=0);var we=N0[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=ge.v-we>>4,ie.zb=ge.j-we>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=ge.o+15+we>>4,ie.Hb=ge.va+15+we>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Ie=ie.ed;for(we=0;4>we;++we){var Ae;if(ie.Qa.Cb){var Le=ie.Qa.Lb[we];ie.Qa.Fb||(Le+=Ie.Tb)}else Le=Ie.Tb;for(Ae=0;1>=Ae;++Ae){var je=ie.gd[we][Ae],Be=Le;if(Ie.Pc&&(Be+=Ie.vd[0],Ae&&(Be+=Ie.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Fe=Be;0<Ie.wb&&(Fe=4<Ie.wb?Fe>>2:Fe>>1)>9-Ie.wb&&(Fe=9-Ie.wb),1>Fe&&(Fe=1),je.dd=Fe,je.tc=2*Be+Fe,je.ld=40<=Be?2:15<=Be?1:0}else je.tc=0;je.La=Ae}}}we=0}else tr(ie,6,"Frame setup failed"),we=ie.a;if(we=we==0){if(we){ie.$c=0,0<ie.Aa||(ie.Ic=AB);t:{we=ie.Ic,Ie=4*(Fe=ie.za);var ft=32*Fe,Ze=Fe+1,Dt=0<ie.L?Fe*(0<ie.Aa?2:1):0,ot=(ie.Aa==2?2:1)*Fe;if((je=Ie+832+(Ae=3*(16*we+N0[ie.L])/2*ft)+(Le=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=je)we=0;else{if(je>ie.Vb){if(ie.Vb=0,ie.Ec=a(je),ie.Fc=0,ie.Ec==null){we=tr(ie,1,"no memory during frame initialization.");break t}ie.Vb=je}je=ie.Ec,Be=ie.Fc,ie.Ac=je,ie.Bc=Be,Be+=Ie,ie.Gd=o(ft,hc),ie.Hd=0,ie.rb=o(Ze+1,_a),ie.sb=1,ie.wa=Dt?o(Dt,Zr):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Fe),e(!0),ie.oc=je,ie.pc=Be,Be+=832,ie.ya=o(ot,cc),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Fe),ie.R=16*Fe,ie.B=8*Fe,Fe=(ft=N0[ie.L])*ie.R,ft=ft/2*ie.B,ie.sa=je,ie.ta=Be+Fe,ie.qa=ie.sa,ie.ra=ie.ta+16*we*ie.R+ft,ie.Ha=ie.qa,ie.Ia=ie.ra+8*we*ie.B+ft,ie.$c=0,Be+=Ae,ie.mb=Le?je:null,ie.nb=Le?Be:null,e(Be+Le<=ie.Fc+ie.Vb),pc(ie),i(ie.Ac,ie.Bc,0,Ie),we=1}}if(we){if(ge.ka=0,ge.y=ie.sa,ge.O=ie.ta,ge.f=ie.qa,ge.N=ie.ra,ge.ea=ie.Ha,ge.Vd=ie.Ia,ge.fa=ie.R,ge.Rc=ie.B,ge.F=null,ge.J=0,!bT){for(we=-255;255>=we;++we)mT[255+we]=0>we?-we:we;for(we=-1020;1020>=we;++we)gT[1020+we]=-128>we?-128:127<we?127:we;for(we=-112;112>=we;++we)vT[112+we]=-16>we?-16:15<we?15:we;for(we=-255;510>=we;++we)yT[255+we]=0>we?0:255<we?255:we;bT=1}ru=Ya,_c=$f,cs=Ht,pn=Ys,In=is,ro=Wl,_r=Xl,Br=eo,el=U,fp=ne,Hf=bc,b0=A,oT=fe,sT=ve,lT=ss,uT=zi,cT=yc,fT=qf,No[0]=np,No[1]=Bf,No[2]=ep,No[3]=tp,No[4]=ei,No[5]=rp,No[6]=Eo,No[7]=Gl,No[8]=Kl,No[9]=Po,iu[0]=Xa,iu[1]=Zd,iu[2]=mc,iu[3]=Uf,iu[4]=as,iu[5]=Hl,iu[6]=Vf,tl[0]=gc,tl[1]=Jd,tl[2]=Sa,tl[3]=Qs,tl[4]=vc,tl[5]=Pn,tl[6]=zf,we=1}else we=0}we&&(we=function(Xt,Ur){for(Xt.M=0;Xt.M<Xt.Va;++Xt.M){var Ft,st=Xt.Jc[Xt.M&Xt.Xb],We=Xt.m,Sr=Xt;for(Ft=0;Ft<Sr.za;++Ft){var Ct=We,Jt=Sr,Vn=Jt.Ac,ci=Jt.Bc+4*Ft,Wi=Jt.zc,hr=Jt.ya[Jt.aa+Ft];if(Jt.Qa.Bb?hr.$b=_e(Ct,Jt.Pa.jb[0])?2+_e(Ct,Jt.Pa.jb[2]):_e(Ct,Jt.Pa.jb[1]):hr.$b=0,Jt.kc&&(hr.Ad=_e(Ct,Jt.Bd)),hr.Za=!_e(Ct,145)+0,hr.Za){var Pi=hr.Ob,Hi=0;for(Jt=0;4>Jt;++Jt){var Vr,en=Wi[0+Jt];for(Vr=0;4>Vr;++Vr){en=uB[Vn[ci+Vr]][en];for(var vn=ST[_e(Ct,en[0])];0<vn;)vn=ST[2*vn+_e(Ct,en[vn])];en=-vn,Vn[ci+Vr]=en}r(Pi,Hi,Vn,ci,4),Hi+=4,Wi[0+Jt]=en}}else en=_e(Ct,156)?_e(Ct,128)?1:3:_e(Ct,163)?2:0,hr.Ob[0]=en,i(Vn,ci,en,4),i(Wi,0,en,4);hr.Dd=_e(Ct,142)?_e(Ct,114)?_e(Ct,183)?1:3:2:0}if(Sr.m.Ka)return tr(Xt,7,"Premature end-of-partition0 encountered.");for(;Xt.ja<Xt.za;++Xt.ja){if(Sr=st,Ct=(We=Xt).rb[We.sb-1],Vn=We.rb[We.sb+We.ja],Ft=We.ya[We.aa+We.ja],ci=We.kc?Ft.Ad:0)Ct.la=Vn.la=0,Ft.Za||(Ct.Na=Vn.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var dr,yn;if(Ct=Vn,Vn=Sr,ci=We.Pa.Xc,Wi=We.ya[We.aa+We.ja],hr=We.pb[Wi.$b],Jt=Wi.ad,Pi=0,Hi=We.rb[We.sb-1],en=Vr=0,i(Jt,Pi,0,384),Wi.Za)var fi=0,ko=ci[3];else{vn=a(16);var Ar=Ct.Na+Hi.Na;if(Ar=dp(Vn,ci[1],Ar,hr.Eb,0,vn,0),Ct.Na=Hi.Na=(0<Ar)+0,1<Ar)ru(vn,0,Jt,Pi);else{var sa=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)Jt[Pi+vn]=sa}fi=1,ko=ci[0]}var On=15&Ct.la,zr=15&Hi.la;for(vn=0;4>vn;++vn){var Na=1&zr;for(sa=yn=0;4>sa;++sa)On=On>>1|(Na=(Ar=dp(Vn,ko,Ar=Na+(1&On),hr.Sc,fi,Jt,Pi))>fi)<<7,yn=yn<<2|(3<Ar?3:1<Ar?2:Jt[Pi+0]!=0),Pi+=16;On>>=4,zr=zr>>1|Na<<7,Vr=(Vr<<8|yn)>>>0}for(ko=On,fi=zr>>4,dr=0;4>dr;dr+=2){for(yn=0,On=Ct.la>>4+dr,zr=Hi.la>>4+dr,vn=0;2>vn;++vn){for(Na=1&zr,sa=0;2>sa;++sa)Ar=Na+(1&On),On=On>>1|(Na=0<(Ar=dp(Vn,ci[2],Ar,hr.Qc,0,Jt,Pi)))<<3,yn=yn<<2|(3<Ar?3:1<Ar?2:Jt[Pi+0]!=0),Pi+=16;On>>=2,zr=zr>>1|Na<<5}en|=yn<<4*dr,ko|=On<<4<<dr,fi|=(240&zr)<<dr}Ct.la=ko,Hi.la=fi,Wi.Hc=Vr,Wi.Gc=en,Wi.ia=43690&en?0:hr.ia,ci=!(Vr|en)}if(0<We.L&&(We.wa[We.Y+We.ja]=We.gd[Ft.$b][Ft.Za],We.wa[We.Y+We.ja].La|=!ci),Sr.Ka)return tr(Xt,7,"Premature end-of-file encountered.")}if(pc(Xt),We=Ur,Sr=1,Ft=(st=Xt).D,Ct=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(Ft.M=st.M,Ft.uc=Ct,ui(st,Ft),Sr=1,Ft=(yn=st.D).Nb,Ct=(en=N0[st.L])*st.R,Vn=en/2*st.B,vn=16*Ft*st.R,sa=8*Ft*st.B,ci=st.sa,Wi=st.ta-Ct+vn,hr=st.qa,Jt=st.ra-Vn+sa,Pi=st.Ha,Hi=st.Ia-Vn+sa,zr=(On=yn.M)==0,Vr=On>=st.Va-1,st.Aa==2&&ui(st,yn),yn.uc)for(Na=(Ar=st).D.M,e(Ar.D.uc),yn=Ar.yb;yn<Ar.Hb;++yn){fi=yn,ko=Na;var Gi=(ka=(hi=Ar).D).Nb;dr=hi.R;var ka=ka.wa[ka.Y+fi],Ia=hi.sa,la=hi.ta+16*Gi*dr+16*fi,Oa=ka.dd,Dn=ka.tc;if(Dn!=0)if(e(3<=Dn),hi.L==1)0<fi&&uT(Ia,la,dr,Dn+4),ka.La&&fT(Ia,la,dr,Dn),0<ko&&lT(Ia,la,dr,Dn+4),ka.La&&cT(Ia,la,dr,Dn);else{var Ca=hi.B,Io=hi.qa,Sc=hi.ra+8*Gi*Ca+8*fi,nl=hi.Ha,hi=hi.Ia+8*Gi*Ca+8*fi;Gi=ka.ld,0<fi&&(Br(Ia,la,dr,Dn+4,Oa,Gi),fp(Io,Sc,nl,hi,Ca,Dn+4,Oa,Gi)),ka.La&&(b0(Ia,la,dr,Dn,Oa,Gi),sT(Io,Sc,nl,hi,Ca,Dn,Oa,Gi)),0<ko&&(_r(Ia,la,dr,Dn+4,Oa,Gi),el(Io,Sc,nl,hi,Ca,Dn+4,Oa,Gi)),ka.La&&(Hf(Ia,la,dr,Dn,Oa,Gi),oT(Io,Sc,nl,hi,Ca,Dn,Oa,Gi))}}if(st.ia&&alert("todo:DitherRow"),We.put!=null){if(yn=16*On,On=16*(On+1),zr?(We.y=st.sa,We.O=st.ta+vn,We.f=st.qa,We.N=st.ra+sa,We.ea=st.Ha,We.W=st.Ia+sa):(yn-=en,We.y=ci,We.O=Wi,We.f=hr,We.N=Jt,We.ea=Pi,We.W=Hi),Vr||(On-=en),On>We.o&&(On=We.o),We.F=null,We.J=null,st.Fa!=null&&0<st.Fa.length&&yn<On&&(We.J=gn(st,We,yn,On-yn),We.F=st.mb,We.F==null&&We.F.length==0)){Sr=tr(st,3,"Could not decode alpha data.");break t}yn<We.j&&(en=We.j-yn,yn=We.j,e(!(1&en)),We.O+=st.R*en,We.N+=st.B*(en>>1),We.W+=st.B*(en>>1),We.F!=null&&(We.J+=We.width*en)),yn<On&&(We.O+=We.v,We.N+=We.v>>1,We.W+=We.v>>1,We.F!=null&&(We.J+=We.v),We.ka=yn-We.j,We.U=We.va-We.v,We.T=On-yn,Sr=We.put(We))}Ft+1!=st.Ic||Vr||(r(st.sa,st.ta-Ct,ci,Wi+16*st.R,Ct),r(st.qa,st.ra-Vn,hr,Jt+8*st.B,Vn),r(st.Ha,st.Ia-Vn,Pi,Hi+8*st.B,Vn))}if(!Sr)return tr(Xt,6,"Output aborted.")}return 1}(ie,ge)),ge.bc!=null&&ge.bc(ge),we&=1}return we?(ie.cb=0,we):0})(p,D)||(g=p.a)}}else g=p.a}g==0&&H.Oa!=null&&H.Oa.fd&&(g=ap(H.ba))}H=g}q=H!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var OT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,F){for(var T="",j=0;j<4;j++)T+=String.fromCharCode(E[F++]);return T}function c(E,F){return E[F+0]|E[F+1]<<8}function f(E,F){return(E[F+0]|E[F+1]<<8|E[F+2]<<16)>>>0}function d(E,F){return(E[F+0]|E[F+1]<<8|E[F+2]<<16|E[F+3]<<24)>>>0}new l;var h=[0],v=[0],b=[],w=new l,y=t,_=function(E,F){var T={},j=0,M=!1,z=0,Q=0;if(T.frames=[],!function($,W){for(var te=0;te<4;te++)if($[W+te]!="RIFF".charCodeAt(te))return!0;return!1}(E,F)){for(d(E,F+=4),F+=8;F<E.length;){var oe=u(E,F),ue=d(E,F+=4);F+=4;var X=ue+(1&ue);switch(oe){case"VP8 ":case"VP8L":T.frames[j]===void 0&&(T.frames[j]={}),(he=T.frames[j]).src_off=M?Q:F-8,he.src_size=z+ue+8,j++,M&&(M=!1,z=0,Q=0);break;case"VP8X":(he=T.header={}).feature_flags=E[F];var ae=F+4;he.canvas_width=1+f(E,ae),ae+=3,he.canvas_height=1+f(E,ae),ae+=3;break;case"ALPH":M=!0,z=X+8,Q=F-8;break;case"ANIM":(he=T.header).bgcolor=d(E,F),ae=F+4,he.loop_count=c(E,ae),ae+=2;break;case"ANMF":var pe,he;(he=T.frames[j]={}).offset_x=2*f(E,F),F+=3,he.offset_y=2*f(E,F),F+=3,he.width=1+f(E,F),F+=3,he.height=1+f(E,F),F+=3,he.duration=f(E,F),F+=3,pe=E[F++],he.dispose=1&pe,he.blend=pe>>1&1}oe!="ANMF"&&(F+=X)}return T}}(y,0);_.response=y,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,N=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,h=[S.canvas_height],v=[S.canvas_width];for(var O=0;O<N.length&&N[O].blend!=0;O++);}var R=N[0],k=w.WebPDecodeRGBA(y,R.src_off,R.src_size,v,h);R.rgba=k,R.imgwidth=v[0],R.imgheight=h[0];for(var P=0;P<v[0]*h[0]*4;P++)b[P]=k[P];return this.width=v,this.height=h,this.data=b,this}(function(t){var e,n,r,i,a,o,s,l,u,c=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=$;Object.defineProperty(this,"pdf",{get:function(){return W}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(G){te=!!G}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(G){le=!!G}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(G){isNaN(G)||(ee=G)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(G){isNaN(G)||(ce=G)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(G){var ke;typeof G=="number"?ke=[G,G,G,G]:((ke=new Array(4))[0]=G[0],ke[1]=G.length>=2?G[1]:ke[0],ke[2]=G.length>=3?G[2]:ke[0],ke[3]=G.length>=4?G[3]:ke[1]),u.margin=ke}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(G){Se=G}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(G){de=G}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(G){_e=G}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(G){G instanceof c&&(u=G)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(G){u.path=G}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(G){Te=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var ke;ke=d(G),this.ctx.fillStyle=ke.style,this.ctx.isFillTransparent=ke.a===0,this.ctx.fillOpacity=ke.a,this.pdf.setFillColor(ke.r,ke.g,ke.b,{a:ke.a}),this.pdf.setTextColor(ke.r,ke.g,ke.b,{a:ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var ke=d(G);this.ctx.strokeStyle=ke.style,this.ctx.isStrokeTransparent=ke.a===0,this.ctx.strokeOpacity=ke.a,ke.a===0?this.pdf.setDrawColor(255,255,255):(ke.a,this.pdf.setDrawColor(ke.r,ke.g,ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var Z=null,xe=null,Ne=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ne},set:function(G){Z=null,xe=null,Ne=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var ke;if(this.ctx.font=G,(ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var He=ke[1];ke[2];var Ge=ke[3],Re=ke[4];ke[5];var Xe=ke[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Re)[2];Re=Math.floor(ze==="px"?parseFloat(Re)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Re)*this.pdf.getFontSize():parseFloat(Re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Re);var et=function(ct){var Nn,Wt,jt=[],Ot=ct.trim();if(Ot==="")return Mx;if(Ot in A6)return[A6[Ot]];for(;Ot!=="";){switch(Wt=null,Nn=(Ot=P6(Ot)).charAt(0)){case'"':case"'":Wt=uEe(Ot.substring(1),Nn);break;default:Wt=cEe(Ot)}if(Wt===null||(jt.push(Wt[0]),(Ot=P6(Wt[1]))!==""&&Ot.charAt(0)!==","))return Mx;Ot=Ot.replace(/^,/,"")}return jt}(Xe);if(this.fontFaces){var nt=function(ct,Nn){var Wt=ct.getFontList(),jt=JSON.stringify(Wt);if(Z===null||xe!==jt){var Ot=function(Rn){var dt=[];return Object.keys(Rn).forEach(function(hn){Rn[hn].forEach(function(vt){var At=null;switch(vt){case"bold":At={family:hn,weight:"bold"};break;case"italic":At={family:hn,style:"italic"};break;case"bolditalic":At={family:hn,weight:"bold",style:"italic"};break;case"":case"normal":At={family:hn}}At!==null&&(At.ref={name:hn,style:vt},dt.push(At))})}),dt}(Wt);Z=function(Rn){for(var dt={},hn=0;hn<Rn.length;++hn){var vt=Rx(Rn[hn]),At=vt.family,dn=vt.stretch,Rt=vt.style,pt=vt.weight;dt[At]=dt[At]||{},dt[At][dn]=dt[At][dn]||{},dt[At][dn][Rt]=dt[At][dn][Rt]||{},dt[At][dn][Rt][pt]=vt}return dt}(Ot.concat(Nn)),xe=jt}return Z}(this.pdf,this.fontFaces),zt=et.map(function(ct){return{family:ct,stretch:"normal",weight:Ge,style:He}}),Lt=function(ct,Nn,Wt){for(var jt=(Wt=Wt||{}).defaultFontFamily||"times",Ot=Object.assign({},lEe,Wt.genericFontFamilies||{}),Rn=null,dt=null,hn=0;hn<Nn.length;++hn)if(Ot[(Rn=Rx(Nn[hn])).family]&&(Rn.family=Ot[Rn.family]),ct.hasOwnProperty(Rn.family)){dt=ct[Rn.family];break}if(!(dt=dt||ct[jt]))throw new Error("Could not find a font-family for the rule '"+E6(Rn)+"' and default family '"+jt+"'.");if(dt=function(vt,At){if(At[vt])return At[vt];var dn=KS[vt],Rt=dn<=KS.normal?-1:1,pt=S6(At,S9,dn,Rt);if(!pt)throw new Error("Could not find a matching font-stretch value for "+vt);return pt}(Rn.stretch,dt),dt=function(vt,At){if(At[vt])return At[vt];for(var dn=_9[vt],Rt=0;Rt<dn.length;++Rt)if(At[dn[Rt]])return At[dn[Rt]];throw new Error("Could not find a matching font-style for "+vt)}(Rn.style,dt),!(dt=function(vt,At){if(At[vt])return At[vt];if(vt===400&&At[500])return At[500];if(vt===500&&At[400])return At[400];var dn=sEe[vt],Rt=S6(At,A9,dn,vt<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+vt);return Rt}(Rn.weight,dt)))throw new Error("Failed to resolve a font for the rule '"+E6(Rn)+"'.");return dt}(nt,zt);this.pdf.setFont(Lt.ref.name,Lt.ref.style)}else{var ut="";(Ge==="bold"||parseInt(Ge,10)>=700||He==="bold")&&(ut="bold"),He==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var bt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<et.length;rt++){if(this.pdf.internal.getFont(et[rt],ut,{noFallback:!0,disableWarning:!0})!==void 0){bt=et[rt];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(et[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=et[rt],ut="bold";else if(this.pdf.internal.getFont(et[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=et[rt],ut="normal";break}}if(bt===""){for(var Pt=0;Pt<et.length;Pt++)if(Mt[et[Pt]]){bt=Mt[et[Pt]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,W){if(isNaN($)||isNaN(W))throw Cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o($,W));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o($,W)},f.prototype.closePath=function(){var $=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&_n(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){$=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,W){if(isNaN($)||isNaN(W))throw Cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o($,W));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,W,te,le){if(isNaN(te)||isNaN(le)||isNaN($)||isNaN(W))throw Cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(te,le)),ce=this.ctx.transform.applyToPoint(new o($,W));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},f.prototype.bezierCurveTo=function($,W,te,le,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN($)||isNaN(W)||isNaN(te)||isNaN(le))throw Cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new o(ee,ce)),de=this.ctx.transform.applyToPoint(new o($,W)),_e=this.ctx.transform.applyToPoint(new o(te,le));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:_e.x,y2:_e.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new o(Se.x,Se.y)},f.prototype.arc=function($,W,te,le,ee,ce){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le)||isNaN(ee))throw Cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new o($,W));$=Se.x,W=Se.y;var de=this.ctx.transform.applyToPoint(new o(0,te)),_e=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(de.x-_e.x,2)+Math.pow(de.y-_e.y,2))}Math.abs(ee-le)>=2*Math.PI&&(le=0,ee=2*Math.PI),this.path.push({type:"arc",x:$,y:W,radius:te,startAngle:le,endAngle:ee,counterclockwise:ce})},f.prototype.arcTo=function($,W,te,le,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,W,te,le){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le))throw Cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,W),this.lineTo($+te,W),this.lineTo($+te,W+le),this.lineTo($,W+le),this.lineTo($,W),this.lineTo($+te,W),this.lineTo($,W)},f.prototype.fillRect=function($,W,te,le){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le))throw Cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,W,te,le),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function($,W,te,le){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le))throw Cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect($,W,te,le),this.stroke())},f.prototype.clearRect=function($,W,te,le){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le))throw Cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,W,te,le))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(W),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function($){var W,te,le,ee;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))W=0,te=0,le=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ce!==null)W=parseInt(ce[1]),te=parseInt(ce[2]),le=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)W=parseInt(ce[1]),te=parseInt(ce[2]),le=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof $=="string"&&$.charAt(0)!=="#"){var Se=new m9($);$=Se.ok?Se.toHex():"#000000"}$.length===4?(W=$.substring(1,2),W+=W,te=$.substring(2,3),te+=te,le=$.substring(3,4),le+=le):(W=$.substring(1,3),te=$.substring(3,5),le=$.substring(5,7)),W=parseInt(W,16),te=parseInt(te,16),le=parseInt(le,16)}}return{r:W,g:te,b:le,a:ee,style:$}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,W,te,le){if(isNaN(W)||isNaN(te)||typeof $!="string")throw Cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!h.call(this)){var ee=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;j.call(this,{text:$,x:W,y:te,scale:ce,angle:ee,align:this.textAlign,maxWidth:le})}},f.prototype.strokeText=function($,W,te,le){if(isNaN(W)||isNaN(te)||typeof $!="string")throw Cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){le=isNaN(le)?void 0:le;var ee=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;j.call(this,{text:$,x:W,y:te,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:le})}},f.prototype.measureText=function($){if(typeof $!="string")throw Cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,te=this.pdf.internal.scaleFactor,le=W.internal.getFontSize(),ee=W.getStringUnitWidth($)*le/W.internal.scaleFactor;return new function(ce){var Se=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:ee*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function($,W){if(isNaN($)||isNaN(W))throw Cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l($,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function($){if(isNaN($))throw Cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function($,W){if(isNaN($)||isNaN(W))throw Cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,$,W);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function($,W,te,le,ee,ce){if(isNaN($)||isNaN(W)||isNaN(te)||isNaN(le)||isNaN(ee)||isNaN(ce))throw Cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new l($,W,te,le,ee,ce);this.ctx.transform=this.ctx.transform.multiply(Se)},f.prototype.setTransform=function($,W,te,le,ee,ce){$=isNaN($)?1:$,W=isNaN(W)?0:W,te=isNaN(te)?0:te,le=isNaN(le)?1:le,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new l($,W,te,le,ee,ce)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,W,te,le,ee,ce,Se,de,_e){var Te=this.pdf.getImageProperties($),Z=1,xe=1,Ne=1,G=1;le!==void 0&&de!==void 0&&(Ne=de/le,G=_e/ee,Z=Te.width/le*de/le,xe=Te.height/ee*_e/ee),ce===void 0&&(ce=W,Se=te,W=0,te=0),le!==void 0&&de===void 0&&(de=le,_e=ee),le===void 0&&de===void 0&&(de=Te.width,_e=Te.height);var ke=this.ctx.transform.decompose(),He=X(ke.rotate.shx),Ge=new l,Re=(Ge=(Ge=(Ge=Ge.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new s(ce-W*Ne,Se-te*G,le*Z,ee*xe));if(this.autoPaging){for(var Xe,ze=w.call(this,Re),et=[],nt=0;nt<ze.length;nt+=1)et.indexOf(ze[nt])===-1&&et.push(ze[nt]);S(et);for(var zt=et[0],Lt=et[et.length-1],ut=zt;ut<Lt+1;ut++){this.pdf.setPage(ut);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=ut===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=ut===1?0:rt+(ut-2)*Pt;if(this.ctx.clip_path.length!==0){var Nn=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Xe,this.posX+this.margin[3],-ct+Mt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Nn}var Wt=JSON.parse(JSON.stringify(Re));Wt=_([Wt],this.posX+this.margin[3],-ct+Mt+this.ctx.prevPageLastElemOffset)[0];var jt=(ut>zt||ut<Lt)&&b.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Pt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Wt.x,Wt.y,Wt.w,Wt.h,null,null,He),jt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,He)};var w=function($,W,te){var le=[];W=W||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":le.push(Math.floor(($.y+ee)/te)+1);break;case"arc":le.push(Math.floor(($.y+ee-$.radius)/te)+1),le.push(Math.floor(($.y+ee+$.radius)/te)+1);break;case"qct":var ce=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);le.push(Math.floor((ce.y+ee)/te)+1),le.push(Math.floor((ce.y+ce.h+ee)/te)+1);break;case"bct":var Se=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);le.push(Math.floor((Se.y+ee)/te)+1),le.push(Math.floor((Se.y+Se.h+ee)/te)+1);break;case"rect":le.push(Math.floor(($.y+ee)/te)+1),le.push(Math.floor(($.y+$.h+ee)/te)+1)}for(var de=0;de<le.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<le[de];)y.call(this);return le},y=function(){var $=this.fillStyle,W=this.strokeStyle,te=this.font,le=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=W,this.font=te,this.lineCap=le,this.lineWidth=ee,this.lineJoin=ce},_=function($,W,te){for(var le=0;le<$.length;le++)switch($[le].type){case"bct":$[le].x2+=W,$[le].y2+=te;case"qct":$[le].x1+=W,$[le].y1+=te;default:$[le].x+=W,$[le].y+=te}return $},S=function($){return $.sort(function(W,te){return W-te})},N=function($,W){var te=this.fillStyle,le=this.strokeStyle,ee=this.lineCap,ce=this.lineWidth,Se=Math.abs(ce*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var _e,Te,Z=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),Ne=[],G=0;G<xe.length;G++)if(xe[G].x!==void 0)for(var ke=w.call(this,xe[G]),He=0;He<ke.length;He+=1)Ne.indexOf(ke[He])===-1&&Ne.push(ke[He]);for(var Ge=0;Ge<Ne.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ne[Ge];)y.call(this);S(Ne);for(var Re=Ne[0],Xe=Ne[Ne.length-1],ze=Re;ze<Xe+1;ze++){this.pdf.setPage(ze),this.fillStyle=te,this.strokeStyle=le,this.lineCap=ee,this.lineWidth=Se,this.lineJoin=de;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=ze===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=ze===1?0:zt+(ze-2)*Lt;if(this.ctx.clip_path.length!==0){var bt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(_e,this.posX+this.margin[3],-ut+nt+this.ctx.prevPageLastElemOffset),O.call(this,$,!0),this.path=bt}if(Te=JSON.parse(JSON.stringify(Z)),this.path=_(Te,this.posX+this.margin[3],-ut+nt+this.ctx.prevPageLastElemOffset),W===!1||ze===0){var Mt=(ze>Re||ze<Xe)&&b.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Lt,null).clip().discardPath()),O.call(this,$,W),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=Z}else this.lineWidth=Se,O.call(this,$,W),this.lineWidth=ce},O=function($,W){if(($!=="stroke"||W||!v.call(this))&&($==="stroke"||W||!h.call(this))){for(var te,le,ee=[],ce=this.path,Se=0;Se<ce.length;Se++){var de=ce[Se];switch(de.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:de,deltas:[],abs:[]});break;case"lt":var _e=ee.length;if(ce[Se-1]&&!isNaN(ce[Se-1].x)&&(te=[de.x-ce[Se-1].x,de.y-ce[Se-1].y],_e>0)){for(;_e>=0;_e--)if(ee[_e-1].close!==!0&&ee[_e-1].begin!==!0){ee[_e-1].deltas.push(te),ee[_e-1].abs.push(de);break}}break;case"bct":te=[de.x1-ce[Se-1].x,de.y1-ce[Se-1].y,de.x2-ce[Se-1].x,de.y2-ce[Se-1].y,de.x-ce[Se-1].x,de.y-ce[Se-1].y],ee[ee.length-1].deltas.push(te);break;case"qct":var Te=ce[Se-1].x+2/3*(de.x1-ce[Se-1].x),Z=ce[Se-1].y+2/3*(de.y1-ce[Se-1].y),xe=de.x+2/3*(de.x1-de.x),Ne=de.y+2/3*(de.y1-de.y),G=de.x,ke=de.y;te=[Te-ce[Se-1].x,Z-ce[Se-1].y,xe-ce[Se-1].x,Ne-ce[Se-1].y,G-ce[Se-1].x,ke-ce[Se-1].y],ee[ee.length-1].deltas.push(te);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(de)}}le=W?null:$==="stroke"?"stroke":"fill";for(var He=!1,Ge=0;Ge<ee.length;Ge++)if(ee[Ge].arc)for(var Re=ee[Ge].abs,Xe=0;Xe<Re.length;Xe++){var ze=Re[Xe];ze.type==="arc"?P.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,W,!He):M.call(this,ze.x,ze.y),He=!0}else if(ee[Ge].close===!0)this.pdf.internal.out("h"),He=!1;else if(ee[Ge].begin!==!0){var et=ee[Ge].start.x,nt=ee[Ge].start.y;z.call(this,ee[Ge].deltas,et,nt),He=!0}le&&E.call(this,le),W&&F.call(this)}},R=function($){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-te;case"top":return $+W-te;case"hanging":return $+W-2*te;case"middle":return $+W/2-te;default:return $}},k=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(W,te){this.colorStops.push([W,te])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function($,W,te,le,ee,ce,Se,de,_e){for(var Te=oe.call(this,te,le,ee,ce),Z=0;Z<Te.length;Z++){var xe=Te[Z];Z===0&&(_e?T.call(this,xe.x1+$,xe.y1+W):M.call(this,xe.x1+$,xe.y1+W)),Q.call(this,$,W,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}de?F.call(this):E.call(this,Se)},E=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},T=function($,W){this.pdf.internal.out(n($)+" "+r(W)+" m")},j=function($){var W;switch($.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var te,le,ee,ce=this.pdf.getTextDimensions($.text),Se=R.call(this,$.y),de=k.call(this,Se)-ce.h,_e=this.ctx.transform.applyToPoint(new o($.x,Se));if(this.autoPaging){var Te=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var xe=this.ctx.transform.applyToRectangle(new s($.x,Se,ce.w,ce.h)),Ne=Z.applyToRectangle(new s($.x,de,ce.w,ce.h)),G=w.call(this,Ne),ke=[],He=0;He<G.length;He+=1)ke.indexOf(G[He])===-1&&ke.push(G[He]);S(ke);for(var Ge=ke[0],Re=ke[ke.length-1],Xe=Ge;Xe<Re+1;Xe++){this.pdf.setPage(Xe);var ze=Xe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],zt=nt-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],ut=Lt-this.margin[3],bt=Xe===1?0:et+(Xe-2)*zt;if(this.ctx.clip_path.length!==0){var Mt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(te,this.posX+this.margin[3],-1*bt+ze),O.call(this,"fill",!0),this.path=Mt}var rt=_([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-bt+ze+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*$.scale),ee=this.lineWidth,this.lineWidth=ee*$.scale);var Pt=this.autoPaging!=="text";if(Pt||rt.y+rt.h<=nt){if(Pt||rt.y>=ze&&rt.x<=Lt){var ct=Pt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Lt-rt.x)[0],Nn=_([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-bt+ze+this.ctx.prevPageLastElemOffset)[0],Wt=Pt&&(Xe>Ge||Xe<Re)&&b.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,zt,null).clip().discardPath()),this.pdf.text(ct,Nn.x,Nn.y,{angle:$.angle,align:W,renderingMode:$.renderingMode}),Wt&&this.pdf.restoreGraphicsState()}}else rt.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-rt.y);$.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ee)}}else $.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*$.scale),ee=this.lineWidth,this.lineWidth=ee*$.scale),this.pdf.text($.text,_e.x+this.posX,_e.y+this.posY,{angle:$.angle,align:W,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ee)},M=function($,W,te,le){te=te||0,le=le||0,this.pdf.internal.out(n($+te)+" "+r(W+le)+" l")},z=function($,W,te){return this.pdf.lines($,W,te,null,null)},Q=function($,W,te,le,ee,ce,Se,de){this.pdf.internal.out([e(i(te+$)),e(a(le+W)),e(i(ee+$)),e(a(ce+W)),e(i(Se+$)),e(a(de+W)),"c"].join(" "))},oe=function($,W,te,le){for(var ee=2*Math.PI,ce=Math.PI/2;W>te;)W-=ee;var Se=Math.abs(te-W);Se<ee&&le&&(Se=ee-Se);for(var de=[],_e=le?-1:1,Te=W;Se>1e-5;){var Z=Te+_e*Math.min(Se,ce);de.push(ue.call(this,$,Te,Z)),Se-=Math.abs(Z-Te),Te=Z}return de},ue=function($,W,te){var le=(te-W)/2,ee=$*Math.cos(le),ce=$*Math.sin(le),Se=ee,de=-ce,_e=Se*Se+de*de,Te=_e+Se*ee+de*ce,Z=4/3*(Math.sqrt(2*_e*Te)-Te)/(Se*ce-de*ee),xe=Se-Z*de,Ne=de+Z*Se,G=xe,ke=-Ne,He=le+W,Ge=Math.cos(He),Re=Math.sin(He);return{x1:$*Math.cos(W),y1:$*Math.sin(W),x2:xe*Ge-Ne*Re,y2:xe*Re+Ne*Ge,x3:G*Ge-ke*Re,y3:G*Re+ke*Ge,x4:$*Math.cos(te),y4:$*Math.sin(te)}},X=function($){return 180*$/Math.PI},ae=function($,W,te,le,ee,ce){var Se=$+.5*(te-$),de=W+.5*(le-W),_e=ee+.5*(te-ee),Te=ce+.5*(le-ce),Z=Math.min($,ee,Se,_e),xe=Math.max($,ee,Se,_e),Ne=Math.min(W,ce,de,Te),G=Math.max(W,ce,de,Te);return new s(Z,Ne,xe-Z,G-Ne)},pe=function($,W,te,le,ee,ce,Se,de){var _e,Te,Z,xe,Ne,G,ke,He,Ge,Re,Xe,ze,et,nt,zt=te-$,Lt=le-W,ut=ee-te,bt=ce-le,Mt=Se-ee,rt=de-ce;for(Te=0;Te<41;Te++)Ge=(ke=(Z=$+(_e=Te/40)*zt)+_e*((Ne=te+_e*ut)-Z))+_e*(Ne+_e*(ee+_e*Mt-Ne)-ke),Re=(He=(xe=W+_e*Lt)+_e*((G=le+_e*bt)-xe))+_e*(G+_e*(ce+_e*rt-G)-He),Te==0?(Xe=Ge,ze=Re,et=Ge,nt=Re):(Xe=Math.min(Xe,Ge),ze=Math.min(ze,Re),et=Math.max(et,Ge),nt=Math.max(nt,Re));return new s(Math.round(Xe),Math.round(ze),Math.round(et-Xe),Math.round(nt-ze))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,W,te=($=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:W}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(ht.API),function(t){var e=function(o){var s,l,u,c,f,d,h,v,b,w;for(l=[],u=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(d=(f=((f=((f=((f=(f-(w=f%85))/85)-(b=f%85))/85)-(v=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,v+33,b+33,w+33)):l.push(122);return function(y,_){for(var S=_;S>0;S--)y.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var s,l,u,c,f,d=String,h="length",v=255,b="charCodeAt",w="slice",y="replace";for(o[w](-2),o=o[w](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],c=0,f=(o+=s="uuuuu"[w](o[h]%5||5))[h];f>c;c+=5)l=52200625*(o[b](c)-33)+614125*(o[b](c+1)-33)+7225*(o[b](c+2)-33)+85*(o[b](c+3)-33)+(o[b](c+4)-33),u.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(_,S){for(var N=S;N>0;N--)_.pop()}(u,s[h]),d.fromCharCode.apply(d,u)},r=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=US(s)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,s){var l=0,u=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(ht.API),function(t){t.loadFile=function(e,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var f=new XMLHttpRequest,d=0,h=function(v){var b=v.length,w=[],y=String.fromCharCode;for(d=0;d<b;d+=1)w.push(y(255&v.charCodeAt(d)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return s}(e,n,r)},t.loadImageFile=t.loadFile}(ht.API),function(t){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):vx(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):vx(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=_n(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function s(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||c.appendChild(s(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),u);return(c=c.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var v=c[h],b=v.src.find(function(w){return w.format==="truetype"});b&&u.addFont(b.url,v.ref.name,v.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(s=s||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,c){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,c){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(c,f){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,f).then(function(d){return u.updateProgress(1),d})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then;var c=this;s&&(s=s.bind(c)),l&&(l=l.bind(c));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),d=u.call(f,s,l);return o.convert(d,c.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ht.getPageSize=function(s,l,u){if(_n(s)==="object"){var c=s;s=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var f,d=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,b=0,w=0;if(h.hasOwnProperty(d))b=h[d][1]/f,w=h[d][0]/f;else try{b=u[1],w=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",w>b&&(v=w,w=b,b=v);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",b>w&&(v=w,w=b,b=v)}return{width:w,height:b,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Rx):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}}(ht.API),ht.API.addJS=function(t){return N6=t,this.internal.events.subscribe("postPutResources",function(){kv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(kv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+N6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){kv!==void 0&&T6!==void 0&&this.internal.out("/Names <</JavaScript "+kv+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=r.exec(o);if(s!=null){var l=s[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var f=n.internal.newObject();c.push(f);var d=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<c.length;a++)n.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ht.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},w=4;w<v;w+=2){if(w+=h,e.indexOf(f.charCodeAt(w+1))!==-1){d=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),b={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:d,numcomponents:f.charCodeAt(w+9)};break}h=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ht.API),ht.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=GAe(t,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(P){for(var E=P.width,F=P.height,T=P.data,j=P.palette,M=P.depth,z=!1,Q=[],oe=[],ue=void 0,X=!1,ae=0,pe=0;pe<j.length;pe++){var he=CC(j[pe],4),$=he[0],W=he[1],te=he[2],le=he[3];Q.push($,W,te),le!=null&&(le===0?(ae++,oe.length<1&&oe.push(pe)):le<255&&(X=!0))}if(X||ae>1){z=!0,oe=void 0;var ee=E*F;ue=new Uint8Array(ee);for(var ce=new DataView(T.buffer),Se=0;Se<ee;Se++){var de=Dx(ce,Se,M),_e=CC(j[de],4)[3];ue[Se]=_e}}else ae===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:T,alphaBytes:ue,needSMask:z,palette:Q,mask:oe}}(a):l===2||l===4?function(P){for(var E=P.data,F=P.width,T=P.height,j=P.channels,M=P.depth,z=j===2?"DeviceGray":"DeviceRGB",Q=j-1,oe=F*T,ue=Q,X=oe*ue,ae=1*oe,pe=Math.ceil(X*M/8),he=Math.ceil(ae*M/8),$=new Uint8Array(pe),W=new Uint8Array(he),te=new DataView(E.buffer),le=new DataView($.buffer),ee=new DataView(W.buffer),ce=!1,Se=0;Se<oe;Se++){for(var de=Se*j,_e=0;_e<ue;_e++)D6(le,Dx(te,de+_e,M),Se*ue+_e,M);var Te=Dx(te,de+ue,M);Te<(1<<M)-1&&(ce=!0),D6(ee,Te,1*Se,M)}return{colorSpace:z,colorsPerPixel:Q,sMaskBitsPerComponent:ce?M:void 0,colorBytes:$,alphaBytes:W,needSMask:ce}}(a):function(P){var E=P.data,F=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(T){for(var j=T.length,M=new Uint8Array(2*j),z=new DataView(M.buffer,M.byteOffset,M.byteLength),Q=0;Q<j;Q++)z.setUint16(2*Q,T[Q],!1);return M}(E):E,needSMask:!1}}(a);var f,d,h,v=i,b=v.colorSpace,w=v.colorsPerPixel,y=v.sMaskBitsPerComponent,_=v.colorBytes,S=v.alphaBytes,N=v.needSMask,O=v.palette,R=v.mask,k=null;return r!==ht.API.image_compression.NONE&&typeof US=="function"?(k=function(P){var E;switch(P){case ht.API.image_compression.FAST:E=11;break;case ht.API.image_compression.MEDIUM:E=13;break;case ht.API.image_compression.SLOW:E=14;break;default:E=12}return E}(r),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(k," /Colors ").concat(w," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=C6(_,Math.ceil(o*w*c/8),w,c,r),N&&(h=C6(S,Math.ceil(o*y/8),1,y,r))):(f=void 0,d=void 0,t=_,N&&(h=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:d,transparency:R,palette:O,sMask:h,predictor:k,width:o,height:s,bitsPerComponent:c,sMaskBitsPerComponent:y,colorSpace:b}}},function(t){t.processGIF89A=function(e,n,r,i){var a=new pEe(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new Fx(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ht.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Cn.log("bit decode error:"+n)}},Lo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}n!==0&&(this.pos+=4-n)}},Lo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Lo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Lo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=o}},Lo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var a=new Lo(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Fx(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),$6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var a=new $6(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Fx(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ht.API),ht.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=r[u],f=r[u+1],d=r[u+2],h=r[u+3];a[s++]=c,a[s++]=f,a[s++]=d,o[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ht.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},th=ht.API,Iv=th.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,d=0,h=t.length,v=0,b=s[0]||l,w=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(d=f&&_n(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,w.push((s[r]||b)/l+d)),v=r;return w},k6=th.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return th.processArabic&&(t=th.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Iv.apply(this,arguments).reduce(function(a,o){return a+o},0)},I6=function(t,e,n,r){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<n;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>r&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},O6=function(t,e,n){n||(n={});var r,i,a,o,s,l,u,c=[],f=[c],d=n.textIndent||0,h=0,v=0,b=t.split(" "),w=Iv.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),_=[];b.map(function(N){(N=N.split(/\s*\n/)).length>1?_=_.concat(N.map(function(O,R){return(R&&O.length?`
`:"")+O})):_.push(N[0])}),b=_,l=k6.apply(this,[y,n])}for(a=0,o=b.length;a<o;a++){var S=0;if(r=b[a],l&&r[0]==`
`&&(r=r.substr(1),S=1),d+h+(v=(i=Iv.apply(this,[r,n])).reduce(function(N,O){return N+O},0))>e||S){if(v>e){for(s=I6.apply(this,[r,i,e-(d+h),e]),c.push(s.shift()),c=[s.pop()];s.length;)f.push([s.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(N,O){return N+O},0)}else c=[r];f.push(c),d=v+l,h=w}else c.push(r),d+=h+v,h=w}return u=l?function(N,O){return(O?y:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(u)},th.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var s,l,u=[];for(s=0,l=r.length;s<l;s++)u=u.concat(O6.apply(this,[r[s],o,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var o=function(d){return"0x"+parseInt(d,10).toString(16)},s=t.__fontmetrics__.compress=function(d){var h,v,b,w,y=["{"];for(var _ in d){if(h=d[_],isNaN(parseInt(_,10))?v="'"+_+"'":(_=parseInt(_,10),v=(v=o(_).slice(2)).slice(0,-1)+i[v.slice(-1)]),typeof h=="number")h<0?(b=o(h).slice(3),w="-"):(b=o(h).slice(2),w=""),b=w+b.slice(0,-1)+i[b.slice(-1)];else{if(_n(h)!=="object")throw new Error("Don't know what to do with value type "+_n(h)+".");b=s(h)}y.push(v+b)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,v,b,w,y={},_=1,S=y,N=[],O="",R="",k=d.length-1,P=1;P<k;P+=1)(w=d[P])=="'"?h?(b=h.join(""),h=void 0):h=[]:h?h.push(w):w=="{"?(N.push([S,b]),S={},b=void 0):w=="}"?((v=N.pop())[0][v[1]]=S,b=void 0,S=v[0]):w=="-"?_=-1:b===void 0?r.hasOwnProperty(w)?(O+=r[w],b=parseInt(O,16)*_,_=1,O=""):O+=w:r.hasOwnProperty(w)?(R+=r[w],S[b]=parseInt(R,16)*_,_=1,b=void 0,R=""):R+=w;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,v=f.Unicode[h.postScriptName];v&&(h.metadata.Unicode={},h.metadata.Unicode.widths=v.widths,h.metadata.Unicode.kerning=v.kerning);var b=c.Unicode[h.postScriptName];b&&(h.metadata.Unicode.encoding=b,h.encoding=b.codePages[0])}])}(ht.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(ey(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ht),ht.API.addSvgAsImage=function(t,e,n,r,i,a,o,s){if(isNaN(e)||isNaN(n))throw Cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(St.canvg?Promise.resolve(St.canvg):vx(()=>import("./index.es-8RUkStUW.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,s)})},ht.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ht.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,f=0;function d(v,b){var w,y=!1;for(w=0;w<v.length;w+=1)v[w]===b&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=s.length;for(f=0;f<h;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if(_n(t)==="object"){for(i in t)if(a=t[i],d(s,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&d(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(r=!1);r===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?b.push("/"+v+" /"+n[v].value):b.push("/"+v+" "+n[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ht.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,d=a.length;f<d;++f){if(s=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(f),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},r=function(a){var o,s,l,u,c,f,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(s=Object.keys(a).sort(function(h,v){return h-v})).length;f<d;f++)o=s[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var f=s.metadata.Unicode.widths,d=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),h="",v=0;v<d.length;v++)h+=String.fromCharCode(d[v]);var b=u();c({data:h,addLength1:!0,objectId:b}),l("endobj");var w=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sh(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var _=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+sh(s.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+sh(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var f=s.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var v=u();c({data:d,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:r(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+sh(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var y=0;y<s.metadata.hmtx.widths.length;y++)s.metadata.hmtx.widths[y]=parseInt(s.metadata.hmtx.widths[y]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+sh(s.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},f=a.mutex||{},d=f.pdfEscape,h=f.activeFontKey,v=f.fonts,b=h,w="",y=0,_="",S=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:f};for(_=s,b=h,Array.isArray(s)&&(_=s[0]),y=0;y<_.length;y+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),o||_[y].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?w+=_[y]:w+="";var N="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?N=d(w,b).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(N=n(w,v[b])),f.isHex=!0,{text:N,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(ht),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ht.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,s,l,u,c,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var N=function(T){var j=T.charCodeAt(),M=j>>8,z=b[M];return z!==void 0?f[256*z+(255&j)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},O=function(T){for(var j,M=0;M<T.length;M++){if((j=N(T.charAt(M)))==="L")return!1;if(j==="R")return!0}return!1},R=function(T,j,M,z){var Q,oe,ue,X,ae=j[z];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ae="AN");break;case"AL":_=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":z<1||z+1>=j.length||(Q=M[z-1])!=="EN"&&Q!=="AN"||(oe=j[z+1])!=="EN"&&oe!=="AN"?ae="N":_&&(oe="AN"),ae=oe===Q?oe:"N";break;case"ES":ae=(Q=z>0?M[z-1]:"B")==="EN"&&z+1<j.length&&j[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&M[z-1]==="EN"){ae="EN";break}if(_){ae="N";break}for(ue=z+1,X=j.length;ue<X&&j[ue]==="ET";)ue++;ae=ue<X&&j[ue]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(X=j.length,ue=z+1;ue<X&&j[ue]==="NSM";)ue++;if(ue<X){var pe=T[z],he=pe>=1425&&pe<=2303||pe===64286;if(Q=j[ue],he&&(Q==="R"||Q==="AL")){ae="R";break}}}ae=z<1||(Q=j[z-1])==="B"?"N":M[z-1];break;case"B":_=!1,i=!0,ae=S;break;case"S":a=!0,ae="N"}return ae},k=function(T,j,M){var z=T.split("");return M&&P(z,M,{hiLevel:S}),z.reverse(),j&&j.reverse(),z.join("")},P=function(T,j,M){var z,Q,oe,ue,X,ae=-1,pe=T.length,he=0,$=[],W=S?h:d,te=[];for(_=!1,i=!1,a=!1,Q=0;Q<pe;Q++)te[Q]=N(T[Q]);for(oe=0;oe<pe;oe++){if(X=he,$[oe]=R(T,te,$,oe),z=240&(he=W[X][v[$[oe]]]),he&=15,j[oe]=ue=W[he][5],z>0)if(z===16){for(Q=ae;Q<oe;Q++)j[Q]=1;ae=-1}else ae=-1;if(W[he][6])ae===-1&&(ae=oe);else if(ae>-1){for(Q=ae;Q<oe;Q++)j[Q]=ue;ae=-1}te[oe]==="B"&&(j[oe]=0),M.hiLevel|=ue}a&&function(le,ee,ce){for(var Se=0;Se<ce;Se++)if(le[Se]==="S"){ee[Se]=S;for(var de=Se-1;de>=0&&le[de]==="WS";de--)ee[de]=S}}(te,j,pe)},E=function(T,j,M,z,Q){if(!(Q.hiLevel<T)){if(T===1&&S===1&&!i)return j.reverse(),void(M&&M.reverse());for(var oe,ue,X,ae,pe=j.length,he=0;he<pe;){if(z[he]>=T){for(X=he+1;X<pe&&z[X]>=T;)X++;for(ae=he,ue=X-1;ae<ue;ae++,ue--)oe=j[ae],j[ae]=j[ue],j[ue]=oe,M&&(oe=M[ae],M[ae]=M[ue],M[ue]=oe);he=X}he++}}},F=function(T,j,M){var z=T.split(""),Q={hiLevel:S};return M||(M=[]),P(z,M,Q),function(oe,ue,X){if(X.hiLevel!==0&&c)for(var ae,pe=0;pe<oe.length;pe++)ue[pe]===1&&(ae=w.indexOf(oe[pe]))>=0&&(oe[pe]=w[ae+1])}(z,M,Q),E(2,z,j,M,Q),E(1,z,j,M,Q),z.join("")};return this.__bidiEngine__.doBidiReorder=function(T,j,M){if(function(Q,oe){if(oe)for(var ue=0;ue<Q.length;ue++)oe[ue]=ue;s===void 0&&(s=O(Q)),u===void 0&&(u=O(Q))}(T,j),o||!l||u)if(o&&l&&s^u)S=s?1:0,T=k(T,j,M);else if(!o&&l&&u)S=s?1:0,T=F(T,j,M),T=k(T,j);else if(!o||s||l||u){if(o&&!l&&s^u)T=k(T,j),s?(S=0,T=F(T,j,M)):(S=1,T=F(T,j,M),T=k(T,j));else if(o&&s&&!l&&u)S=1,T=F(T,j,M),T=k(T,j);else if(!o&&!l&&s^u){var z=c;s?(S=1,T=F(T,j,M),S=0,c=!1,T=F(T,j,M),c=z):(S=0,T=F(T,j,M),T=k(T,j),S=1,c=!1,T=F(T,j,M),c=z,T=k(T,j))}}else S=0,T=F(T,j,M);else S=s?1:0,T=F(T,j,M);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,s=T.isInputRtl,u=T.isOutputRtl,c=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([n.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([n.doBidiReorder(i[s])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Qu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new kEe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mEe(this.contents),this.head=new vEe(this),this.name=new _Ee(this),this.cmap=new P9(this),this.toUnicode={},this.hhea=new yEe(this),this.maxp=new SEe(this),this.hmtx=new AEe(this),this.post=new wEe(this),this.os2=new bEe(this),this.loca=new NEe(this),this.glyf=new EEe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Qo,Qu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,s,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t}(),mEe=function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,s,l,u,c,f,d,h,v,b;for(b in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),c=16*h-f,(i=new Qu).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(c),a=16*h,u=i.pos+a,s=null,v=[],n)for(d=n[b],i.writeString(b),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),v=v.concat(d),b==="head"&&(s=u),u+=d.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=T9.call(n);n.length%4;)n.push(0);for(a=new Qu(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),gEe={}.hasOwnProperty,zs=function(t,e){for(var n in e)gEe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Qo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Qu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),B6=function(){function t(e,n){var r,i,a,o,s,l,u,c,f,d,h,v,b,w,y,_,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,a=function(){var N,O;for(O=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)O.push(e.readUInt16());return O}(),e.pos+=2,b=function(){var N,O;for(O=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)O.push(e.readUInt16());return O}(),u=function(){var N,O;for(O=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)O.push(e.readUInt16());return O}(),c=function(){var N,O;for(O=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,s=function(){var N,O;for(O=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)O.push(e.readUInt16());return O}(),l=y=0,S=a.length;y<S;l=++y)for(w=a[l],r=_=v=b[l];v<=w?_<=w:_>=w;r=v<=w?++_:--_)c[l]===0?o=r+u[l]:(o=s[c[l]/2+(r-v)-(d-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,a,o,s,l,u,c,f,d,h,v,b,w,y,_,S,N,O,R,k,P,E,F,T,j,M,z,Q,oe,ue,X,ae,pe,he,$,W,te,le,ee,ce,Se,de,_e,Te,Z;switch(z=new Qu,o=Object.keys(e).sort(function(xe,Ne){return xe-Ne}),n){case"macroman":for(b=0,w=function(){var xe=[];for(v=0;v<256;++v)xe.push(0);return xe}(),_={0:0},a={},Q=0,ae=o.length;Q<ae;Q++)_[de=e[i=o[Q]]]==null&&(_[de]=++b),a[i]={old:e[i],new:_[e[i]]},w[i]=_[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(w),{charMap:a,subtable:z.data,maxGlyphID:b+1};case"unicode":for(j=[],f=[],S=0,_={},r={},y=u=null,oe=0,pe=o.length;oe<pe;oe++)_[O=e[i=o[oe]]]==null&&(_[O]=++S),r[i]={old:O,new:_[O]},s=_[O]-i,y!=null&&s===u||(y&&f.push(y),j.push(i),u=s),y=i;for(y&&f.push(y),f.push(65535),j.push(65535),F=2*(E=j.length),P=2*Math.pow(Math.log(E)/Math.LN2,2),d=Math.log(P/2)/Math.LN2,k=2*E-P,l=[],R=[],h=[],v=ue=0,he=j.length;ue<he;v=++ue){if(T=j[v],c=f[v],T===65535){l.push(0),R.push(0);break}if(T-(M=r[T].new)>=32768)for(l.push(0),R.push(2*(h.length+E-v)),i=X=T;T<=c?X<=c:X>=c;i=T<=c?++X:--X)h.push(r[i].new);else l.push(M-T),R.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*E+2*h.length),z.writeUInt16(0),z.writeUInt16(F),z.writeUInt16(P),z.writeUInt16(d),z.writeUInt16(k),ce=0,$=f.length;ce<$;ce++)i=f[ce],z.writeUInt16(i);for(z.writeUInt16(0),Se=0,W=j.length;Se<W;Se++)i=j[Se],z.writeUInt16(i);for(_e=0,te=l.length;_e<te;_e++)s=l[_e],z.writeUInt16(s);for(Te=0,le=R.length;Te<le;Te++)N=R[Te],z.writeUInt16(N);for(Z=0,ee=h.length;Z<ee;Z++)b=h[Z],z.writeUInt16(b);return{charMap:r,subtable:z.data,maxGlyphID:S+1}}},t}(),P9=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new B6(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=B6.encode(e,n),(i=new Qu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),yEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),bEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),wEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),xEe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_Ee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,o,s,l,u,c,f,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),s=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=c=0,f=r.length;c<f;a=++c)i=r[a],e.pos=i.offset,u=e.readString(i.length),o=new xEe(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),SEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),AEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,o,s,l;for(e.pos=this.offset,this.metrics=[],n=0,s=this.file.hhea.numberOfMetrics;0<=s?n<s:n>s;n=0<=s?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.metrics).length;u<c;u++)a=f[u],d.push(a.advance);return d}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),T9=[].slice,EEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,o,s,l,u,c,f;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(s=new Qu(n.read(i))).readShort(),u=s.readShort(),f=s.readShort(),l=s.readShort(),c=s.readShort(),this.cache[e]=o===-1?new TEe(s,u,f,l,c):new PEe(s,o,u,f,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,o,s,l;for(o=[],a=[],s=0,l=n.length;s<l;s++)i=e[n[s]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},t}(),PEe=function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),TEe=function(){function t(e,n,r,i,a){var o,s;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Qu(T9.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),NEe=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zs(t,Qo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),kEe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in l=this.glyphsFor(n))r=l[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,s,l,u,c,f,d,h,v,b,w,y;for(i in r=P9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},y=r.charMap)h[(l=y[i]).old]=l.new;for(v in d=r.maxGlyphID,o)v in h||(h[v]=d++);return c=function(_){var S,N;for(S in N={},_)N[_[S]]=S;return N}(h),f=Object.keys(c).sort(function(_,S){return _-S}),b=function(){var _,S,N;for(N=[],_=0,S=f.length;_<S;_++)s=f[_],N.push(c[s]);return N}(),a=this.font.glyf.encode(o,b,h),u=this.font.loca.encode(a.offsets,b),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();ht.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var s,l,u;for(u=[],s=0,l=n.length;s<l;s++)r=n[s],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e}();function N9(t,e,n,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=s*l,c=/\r\n|\r|\n/g,f="",d=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(c):t,d=f.length||1),n+=s*(2-a),r.valign==="middle"?n-=d/2*u:r.valign==="bottom"&&(n-=d*u),r.halign==="center"||r.halign==="right"){var h=s;if(r.halign==="center"&&(h*=.5),f&&d>=1){for(var v=0;v<f.length;v++)i.text(f[v],e-i.getStringUnitWidth(f[v])*h,n),n+=u;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var U6={},Wh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:U6=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){s=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(l,s),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(a=this.jsPDFDocument).setDrawColor.apply(a,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return U6||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),YS=function(t,e){return YS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},YS(t,e)};function k9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var I9=function(t){k9(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function IEe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function OEe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Q1(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function O9(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=C9(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function C9(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function jb(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function L9(t,e){var n=jb(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function CEe(t,e,n,r,i){var a={},o=1.3333333333333333,s=$x(e,function(S){return i.getComputedStyle(S).backgroundColor});s!=null&&(a.fillColor=s);var l=$x(e,function(S){return i.getComputedStyle(S).color});l!=null&&(a.textColor=l);var u=jEe(r,n);u&&(a.cellPadding=u);var c="borderTopColor",f=o*n,d=r.borderTopWidth;if(r.borderBottomWidth===d&&r.borderRightWidth===d&&r.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?c="borderRightColor":a.lineWidth.bottom?c="borderBottomColor":a.lineWidth.left&&(c="borderLeftColor"));var v=$x(e,function(S){return i.getComputedStyle(S)[c]});v!=null&&(a.lineColor=v);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(a.fontSize=w/o);var y=LEe(r);y&&(a.fontStyle=y);var _=(r.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(a.font=_),a}function LEe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function $x(t,e){var n=j9(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function j9(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:j9(t.parentElement,e):n}function jEe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(s){return parseInt(s||"0")/r}),o=jb(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function R9(t,e,n,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var s;typeof e=="string"?s=n.document.querySelector(e):s=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],f=[],d=[];if(!s)return console.error("Html table could not be found with input: ",e),{head:c,body:f,foot:d};for(var h=0;h<s.rows.length;h++){var v=s.rows[h],b=(o=(a=v==null?void 0:v.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=REe(l,u,n,v,r,i);w&&(b==="thead"?c.push(w):b==="tfoot"?d.push(w):f.push(w))}return{head:c,body:f,foot:d}}function REe(t,e,n,r,i,a){for(var o=new I9(r),s=0;s<r.cells.length;s++){var l=r.cells[s],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;a&&(c=CEe(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:MEe(l)})}}var f=n.getComputedStyle(r);if(o.length>0&&(i||f.display!=="none"))return o}function MEe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function DEe(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function wl(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])}return a}function M9(t,e){var n=new Wh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();DEe(i,r,e);var a=wl({},i,r,e),o;typeof window<"u"&&(o=window);var s=FEe(i,r,e),l=$Ee(i,r,e),u=BEe(n,a),c=VEe(n,a,o);return{id:e.tableId,content:c,hooks:l,styles:s,settings:u}}function FEe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],f=n[l];r.columnStyles=wl({},u,c,f)}else{var d=[t,e,n],h=d.map(function(v){return v[l]||{}});r[l]=wl({},h[0],h[1],h[2])}},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i(s)}return r}function $Ee(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function BEe(t,e){var n,r,i,a,o,s,l,u,c,f,d,h,v=jb(e.margin,40/t.scaleFactor()),b=(n=UEe(t,e.startY))!==null&&n!==void 0?n:v.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var _=(a=e.useCss)!==null&&a!==void 0?a:!1,S=e.theme||(_?"plain":"striped"),N=!!e.horizontalPageBreak,O=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=e.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:_,theme:S,startY:b,margin:v,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:y,showFoot:w,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=e.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:N,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function UEe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function VEe(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var s=R9(t,e.html,n,o,e.useCss)||{};r=s.head||r,i=s.body||r,a=s.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||zEe(r,i,a);return{columns:l,head:r,body:i,foot:a}}function zEe(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(r)?s=r[parseInt(a)]:s=r[a],typeof s=="object"&&!Array.isArray(s)&&(o=(s==null?void 0:s.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=a+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var XS=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),qEe=function(t){k9(e,t);function e(n,r,i,a,o,s){var l=t.call(this,n,r,s)||this;return l.cell=i,l.row=a,l.column=o,l.section=a.section,l}return e}(XS),WEe=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,o){for(var s=0,l=n;s<l.length;s++){var u=l[s],c=new qEe(e,this,r,i,a,o),f=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new XS(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new XS(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),D9=function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof I9&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var s=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+s;return u>i?u:i},0)},t}(),F9=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=jb(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),HEe=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function GEe(t,e){KEe(t,e);var n=[],r=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=QS(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=QS(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),XEe(e),QEe(e,t),YEe(e)}function KEe(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=L9(t,e);e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,a,l,null);var f=u.padding("horizontal");u.contentWidth=Q1(u.text,u.styles,t)+f;var d=Q1(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=d+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/n;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=c.cellWidth||c.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function QS(t,e,n){for(var r=e,i=t.reduce(function(h,v){return h+v.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],s=o.wrappedWidth/i,l=r*s,u=o.width+l,c=n(o),f=u<c?c:u;e-=f-o.width,o.width=f}if(e=Math.round(e*1e10)/1e10,e){var d=t.filter(function(h){return e<0?h.width>n(h):!0});d.length&&(e=QS(d,e,n))}return e}function YEe(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,s=t.columns;o<s.length;o++){var l=s[o],u=e[l.index];if(n>1)n--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,n=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=a.cells[l.index];if(!c)continue;if(c.height=a.height,c.rowSpan>1){var f=r.length-i,d=c.rowSpan>f?f:c.rowSpan;e[l.index]={cell:c,left:d,row:a}}}}}function XEe(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,o=0,s=0;s<t.columns.length;s++){var l=t.columns[s];if(o-=1,o>1&&t.columns[s+1])a+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+a}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function QEe(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],o=0,s=t.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=V6(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=V6(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,c);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var d=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<d*u.rowSpan?n={height:d,count:u.rowSpan}:n&&n.count>0&&n.height>d&&(d=n.height),d>a.height&&(a.height=d)}}n.count--}}function V6(t,e,n,r,i){return t.map(function(a){return JEe(a,e,n,r,i)})}function JEe(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Q1(t,n,r))return t;for(;e<Q1(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function $9(t,e){var n=new Wh(t),r=ZEe(e,n.scaleFactor()),i=new WEe(e,r);return GEe(n,i),n.applyStyles(n.userStyles),i}function ZEe(t,e){var n=t.content,r=tPe(n.columns);if(n.head.length===0){var i=z6(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=z6(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:r,head:Bx("head",n.head,r,o,a,e),body:Bx("body",n.body,r,o,a,e),foot:Bx("foot",n.foot,r,o,a,e)}}function Bx(t,e,n,r,i,a){var o={},s=e.map(function(l,u){for(var c=0,f={},d=0,h=0,v=0,b=n;v<b.length;v++){var w=b[v];if(o[w.index]==null||o[w.index].left===0)if(h===0){var y=void 0;Array.isArray(l)?y=l[w.index-d-c]:y=l[w.dataKey];var _={};typeof y=="object"&&!Array.isArray(y)&&(_=(y==null?void 0:y.styles)||{});var S=nPe(t,w,u,i,r,a,_),N=new F9(y,S,t);f[w.dataKey]=N,f[w.index]=N,h=N.colSpan-1,o[w.index]={left:N.rowSpan-1,times:h}}else h--,d++;else o[w.index].left--,h=o[w.index].times,c++}return new D9(l,u,t,f)});return s}function z6(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=ePe(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function ePe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function tPe(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new HEe(i,e,n)})}function nPe(t,e,n,r,i,a,o){var s=OEe(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=wl({},s.table,s[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?c:{},d=t==="body"&&n%2===0?wl({},s.alternateRow,i.alternateRowStyles):{},h=IEe(a),v=wl({},h,u,d,f);return wl(v,o)}function rPe(t,e,n){var r;n===void 0&&(n={});var i=L9(t,e),a=new Map,o=[],s=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var h=e.columns.find(function(v){return v.dataKey===d||v.index===d});h&&!a.has(h.index)&&(a.set(h.index,!0),o.push(h.index),s.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(a.has(c)){c++;continue}var f=e.columns[c].wrappedWidth;if(u||i>=f)u=!1,o.push(c),s.push(e.columns[c]),i-=f;else break;c++}return{colIndexes:o,columns:s,lastIndex:c-1}}function iPe(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=rPe(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function B9(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),s=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(d,h){return d+h.height},0);s+=u}var c=new Wh(t);(n.pageBreak==="always"||n.startY!=null&&s>c.pageSize().height)&&(V9(c),a.y=i.top),e.callWillDrawPageHooks(c,a);var f=wl({},a);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?aPe(c,e,f,a):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(d){return Dl(c,e,d,a,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(d,h){var v=h===e.body.length-1;J1(c,e,d,v,f,a,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(d){return Dl(c,e,d,a,e.columns)})),O9(c,e,f,a),e.callEndPageHooks(c,a),e.finalY=a.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function aPe(t,e,n,r){var i=iPe(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?Em(t,e,n,r,u.columns,!0):q6(t,e,r,u.columns),oPe(t,e,n,r,u.columns),Ux(t,e,r,u.columns)});else for(var o=-1,s=i[0],l=function(){var u=o;if(s){t.applyStyles(t.userStyles);var c=s.columns;o>=0?Em(t,e,n,r,c,!0):q6(t,e,r,c),u=W6(t,e,o+1,r,c),Ux(t,e,r,c)}var f=u-o;i.slice(1).forEach(function(d){t.applyStyles(t.userStyles),Em(t,e,n,r,d.columns,!0),W6(t,e,o+1,r,d.columns,f),Ux(t,e,r,d.columns)}),o=u};o<e.body.length-1;)l()}function q6(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Dl(t,e,a,n,r)})}function oPe(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var s=o===e.body.length-1;J1(t,e,a,s,n,r,i)})}function W6(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(n+a,e.body.length),s=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,f=U9(t,e,c,r);l.canEntireRowFit(f,i)&&(Dl(t,e,l,r,i),s=n+u)}),s}function Ux(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Dl(t,e,a,n,r)})}function sPe(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function lPe(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,s=n.columns;o<s.length;o++){var l=s[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new F9(u.raw,u.styles,u.section);c=wl(c,u),c.text=[];var f=sPe(u,e,r);u.text.length>f&&(c.text=u.text.splice(f,u.text.length));var d=r.scaleFactor(),h=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(d,h),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(d,h),c.contentHeight>a&&(a=c.contentHeight),i[l.index]=c}}var v=new D9(t.raw,-1,t.section,i,!0);v.height=a;for(var b=0,w=n.columns;b<w.length;b++){var l=w[b],c=v.cells[l.index];c&&(c.height=v.height);var u=t.cells[l.index];u&&(u.height=t.height)}return v}function uPe(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,s=i-o;e.section==="body"&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>s)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>s;return f?(c&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function J1(t,e,n,r,i,a,o){var s=U9(t,e,r,a);if(n.canEntireRowFit(s,o))Dl(t,e,n,a,o);else if(uPe(t,n,s,e)){var l=lPe(n,s,e,t);Dl(t,e,n,a,o),Em(t,e,i,a,o),J1(t,e,l,r,i,a,o)}else Em(t,e,i,a,o),J1(t,e,n,r,i,a,o)}function Dl(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],l=n.cells[s.index];if(!l){r.x+=s.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,s,r);if(u===!1){r.x+=s.width;continue}cPe(t,l,r);var c=l.getTextPos();N9(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,s,r),r.x+=s.width}r.y+=n.height}function cPe(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=C9(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),fPe(t,e,n,r.lineWidth))}function fPe(t,e,n,r){var i,a,o,s;r.top&&(i=n.x,a=n.y,o=n.x+e.width,s=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,a,o,s)),r.bottom&&(i=n.x,a=n.y+e.height,o=n.x+e.width,s=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,a,o,s)),r.left&&(i=n.x,a=n.y,o=n.x,s=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.left,i,a,o,s)),r.right&&(i=n.x+e.width,a=n.y,o=n.x+e.width,s=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(s+=.5*r.bottom),l(r.right,i,a,o,s));function l(u,c,f,d,h){t.getDocument().setLineWidth(u),t.getDocument().line(c,f,d,h,"S")}}function U9(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Em(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(s){return Dl(t,e,s,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;O9(t,e,n,r),V9(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(s){return Dl(t,e,s,r,i)}),t.applyStyles(t.userStyles))}function V9(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function hPe(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=M9(this,r),a=$9(this,i);return B9(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){N9(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Wh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Wh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Wh(this),a=R9(i,e,window,n,!1),o=a.head,s=a.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:s,data:s}}}var Vx;function dPe(t,e){var n=M9(t,e),r=$9(t,n);B9(t,r)}try{if(typeof window<"u"&&window){var H6=window,G6=H6.jsPDF||((Vx=H6.jspdf)===null||Vx===void 0?void 0:Vx.jsPDF);G6&&hPe(G6)}}catch(t){console.error("Could not apply autoTable plugin",t)}const z9=6048e5,pPe=864e5,q9=6e4,W9=36e5,K6=Symbol.for("constructDateFrom");function Ko(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&K6 in t?t[K6](e):t instanceof Date?new t.constructor(e):new Date(e)}function Yn(t,e){return Ko(e||t,t)}function mPe(t,e,n){const r=Yn(t,n==null?void 0:n.in);return isNaN(e)?Ko(t,NaN):(r.setDate(r.getDate()+e),r)}function gPe(t,e,n){return Ko(t,+Yn(t)+e)}let vPe={};function v0(){return vPe}function wf(t,e){var s,l,u,c;const n=v0(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Yn(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Z1(t,e){return wf(t,{...e,weekStartsOn:1})}function H9(t,e){const n=Yn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Ko(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Z1(i),o=Ko(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Z1(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Y6(t){const e=Yn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function yPe(t,...e){const n=Ko.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function e2(t,e){const n=Yn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function bPe(t,e,n){const[r,i]=yPe(n==null?void 0:n.in,t,e),a=e2(r),o=e2(i),s=+a-Y6(a),l=+o-Y6(o);return Math.round((s-l)/pPe)}function wPe(t,e){const n=H9(t,e),r=Ko(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Z1(r)}function xPe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JS(t){return!(!xPe(t)&&typeof t!="number"||isNaN(+Yn(t)))}function X6(t,e){const n=Yn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function _Pe(t,e){const n=Yn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function SPe(t,e){const n=Yn(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function APe(t,e){const n=Yn(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function G9(t,e){const n=Yn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Q6(t,e){var s,l,u,c;const n=v0(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Yn(t,e==null?void 0:e.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const EPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PPe=(t,e,n)=>{let r;const i=EPe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const TPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IPe={date:zx({formats:TPe,defaultWidth:"full"}),time:zx({formats:NPe,defaultWidth:"full"}),dateTime:zx({formats:kPe,defaultWidth:"full"})},OPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},CPe=(t,e,n,r)=>OPe[t];function qp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{const o=t.defaultWidth,s=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[s]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const LPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},FPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$Pe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},BPe={ordinalNumber:$Pe,era:qp({values:LPe,defaultWidth:"wide"}),quarter:qp({values:jPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qp({values:RPe,defaultWidth:"wide"}),day:qp({values:MPe,defaultWidth:"wide"}),dayPeriod:qp({values:DPe,defaultWidth:"wide",formattingValues:FPe,defaultFormattingWidth:"wide"})};function Wp(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?VPe(s,f=>f.test(o)):UPe(s,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function UPe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function VPe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function zPe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const qPe=/^(\d+)(th|st|nd|rd)?/i,WPe=/\d+/i,HPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GPe={any:[/^b/i,/^(a|c)/i]},KPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YPe={any:[/1/i,/2/i,/3/i,/4/i]},XPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},QPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},JPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nTe={ordinalNumber:zPe({matchPattern:qPe,parsePattern:WPe,valueCallback:t=>parseInt(t,10)}),era:Wp({matchPatterns:HPe,defaultMatchWidth:"wide",parsePatterns:GPe,defaultParseWidth:"any"}),quarter:Wp({matchPatterns:KPe,defaultMatchWidth:"wide",parsePatterns:YPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wp({matchPatterns:XPe,defaultMatchWidth:"wide",parsePatterns:QPe,defaultParseWidth:"any"}),day:Wp({matchPatterns:JPe,defaultMatchWidth:"wide",parsePatterns:ZPe,defaultParseWidth:"any"}),dayPeriod:Wp({matchPatterns:eTe,defaultMatchWidth:"any",parsePatterns:tTe,defaultParseWidth:"any"})},rTe={code:"en-US",formatDistance:PPe,formatLong:IPe,formatRelative:CPe,localize:BPe,match:nTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iTe(t,e){const n=Yn(t,e==null?void 0:e.in);return bPe(n,G9(n))+1}function aTe(t,e){const n=Yn(t,e==null?void 0:e.in),r=+Z1(n)-+wPe(n);return Math.round(r/z9)+1}function K9(t,e){var c,f,d,h;const n=Yn(t,e==null?void 0:e.in),r=n.getFullYear(),i=v0(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=Ko((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=wf(o,e),l=Ko((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=wf(l,e);return+n>=+s?r+1:+n>=+u?r:r-1}function oTe(t,e){var s,l,u,c;const n=v0(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=K9(t,e),a=Ko((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),wf(a,e)}function sTe(t,e){const n=Yn(t,e==null?void 0:e.in),r=+wf(n,e)-+oTe(n,e);return Math.round(r/z9)+1}function xn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const mu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return xn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):xn(n+1,2)},d(t,e){return xn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return xn(t.getHours()%12||12,e.length)},H(t,e){return xn(t.getHours(),e.length)},m(t,e){return xn(t.getMinutes(),e.length)},s(t,e){return xn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xn(i,e.length)}},nh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J6={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mu.y(t,e)},Y:function(t,e,n,r){const i=K9(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return xn(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):xn(a,e.length)},R:function(t,e){const n=H9(t);return xn(n,e.length)},u:function(t,e){const n=t.getFullYear();return xn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return mu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return xn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=sTe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):xn(i,e.length)},I:function(t,e,n){const r=aTe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):xn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mu.d(t,e)},D:function(t,e,n){const r=iTe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return xn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return xn(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return xn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=nh.noon:r===0?i=nh.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=nh.evening:r>=12?i=nh.afternoon:r>=4?i=nh.morning:i=nh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):xn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mu.s(t,e)},S:function(t,e){return mu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return eL(r);case"XXXX":case"XX":return jc(r);case"XXXXX":case"XXX":default:return jc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return eL(r);case"xxxx":case"xx":return jc(r);case"xxxxx":case"xxx":default:return jc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Z6(r,":");case"OOOO":default:return"GMT"+jc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Z6(r,":");case"zzzz":default:return"GMT"+jc(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return xn(r,e.length)},T:function(t,e,n){return xn(+t,e.length)}};function Z6(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+xn(a,2)}function eL(t,e){return t%60===0?(t>0?"-":"+")+xn(Math.abs(t)/60,2):jc(t,e)}function jc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=xn(Math.trunc(r/60),2),a=xn(r%60,2);return n+i+e+a}const tL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Y9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lTe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return tL(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",tL(r,e)).replace("{{time}}",Y9(i,e))},uTe={p:Y9,P:lTe},cTe=/^D+$/,fTe=/^Y+$/,hTe=["D","DD","YY","YYYY"];function dTe(t){return cTe.test(t)}function pTe(t){return fTe.test(t)}function mTe(t,e,n){const r=gTe(t,e,n);if(console.warn(r),hTe.includes(t))throw new RangeError(r)}function gTe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bTe=/^'([^]*?)'?$/,wTe=/''/g,xTe=/[a-zA-Z]/;function Xi(t,e,n){var c,f,d,h;const r=v0(),i=r.locale??rTe,a=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=Yn(t,n==null?void 0:n.in);if(!JS(s))throw new RangeError("Invalid time value");let l=e.match(yTe).map(v=>{const b=v[0];if(b==="p"||b==="P"){const w=uTe[b];return w(v,i.formatLong)}return v}).join("").match(vTe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:_Te(v)};if(J6[b])return{isToken:!0,value:v};if(b.match(xTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const b=v.value;(pTe(b)||dTe(b))&&mTe(b,e,String(t));const w=J6[b[0]];return w(s,b,i.localize,u)}).join("")}function _Te(t){const e=t.match(bTe);return e?e[1].replace(wTe,"'"):t}function STe(t,e,n){const r=+Yn(t,n==null?void 0:n.in),[i,a]=[+Yn(e.start,n==null?void 0:n.in),+Yn(e.end,n==null?void 0:n.in)].sort((o,s)=>o-s);return r>=i&&r<=a}function ATe(t,e,n){return mPe(t,-7,n)}function ca(t,e){const n=()=>Ko(e==null?void 0:e.in,NaN),i=NTe(t);let a;if(i.date){const u=kTe(i.date,2);a=ITe(u.restDateString,u.year)}if(!a||isNaN(+a))return n();const o=+a;let s=0,l;if(i.time&&(s=OTe(i.time),isNaN(s)))return n();if(i.timezone){if(l=CTe(i.timezone),isNaN(l))return n()}else{const u=new Date(o+s),c=Yn(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return Yn(o+s+l,e==null?void 0:e.in)}const Ov={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ETe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PTe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NTe(t){const e={},n=t.split(Ov.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ov.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ov.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Ov.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function kTe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((r[1]||r[2]).length)}}function ITe(t,e){if(e===null)return new Date(NaN);const n=t.match(ETe);if(!n)return new Date(NaN);const r=!!n[4],i=Hp(n[1]),a=Hp(n[2])-1,o=Hp(n[3]),s=Hp(n[4]),l=Hp(n[5])-1;if(r)return DTe(e,s,l)?LTe(e,s,l):new Date(NaN);{const u=new Date(0);return!RTe(e,a,o)||!MTe(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}}function Hp(t){return t?parseInt(t):1}function OTe(t){const e=t.match(PTe);if(!e)return NaN;const n=qx(e[1]),r=qx(e[2]),i=qx(e[3]);return FTe(n,r,i)?n*W9+r*q9+i*1e3:NaN}function qx(t){return t&&parseFloat(t.replace(",","."))||0}function CTe(t){if(t==="Z")return 0;const e=t.match(TTe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return $Te(r,i)?n*(r*W9+i*q9):NaN}function LTe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,a=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const jTe=[31,null,31,30,31,30,31,31,30,31,30,31];function X9(t){return t%400===0||t%4===0&&t%100!==0}function RTe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jTe[e]||(X9(t)?29:28))}function MTe(t,e){return e>=1&&e<=(X9(t)?366:365)}function DTe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function FTe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function $Te(t,e){return e>=0&&e<=59}function BTe(t,e,n){const r=Yn(t,n==null?void 0:n.in);return r.setHours(e),r}function UTe(t,e,n){const r=Yn(t,n==null?void 0:n.in);return r.setMinutes(e),r}const VTe={knowJobSafety:"Job Safety",weatherCheck:"Weather",safePassInDate:"Safe Pass",hazardAwareness:"Hazards",floorConditions:"Floors",manualHandlingCert:"Manual Handling",liftingHelp:"Lifting Help",anchorPoints:"Anchor Points",ladderFooting:"Ladder Footing",safetyCones:"Cones",communication:"Communc.",laddersCheck:"Ladders",sharpEdges:"Sharp Edges",scraperCovers:"Scraper Covers",hotSurfaces:"Hot Surfaces",chemicalCourse:"Chem. Course",chemicalAwareness:"Chem. Awareness",tidyEquipment:"Tidy Equip.",laddersStored:"Ladders Stored",highVis:"PPE: High Vis",helmet:"PPE: Helmet",goggles:"PPE: Goggles",gloves:"PPE: Gloves",mask:"PPE: Mask",earMuffs:"PPE: Ear Muffs",faceGuard:"PPE: Face Guard",harness:"PPE: Harness",boots:"PPE: Boots"},zTe={knowJobSafety:!0,weatherCheck:!0,safePassInDate:!0,hazardAwareness:!0,floorConditions:!0,manualHandlingCert:!0,liftingHelp:!0,anchorPoints:!0,ladderFooting:!0,safetyCones:!0,communication:!0,laddersCheck:!0,sharpEdges:!0,scraperCovers:!0,hotSurfaces:!0,chemicalCourse:!0,chemicalAwareness:!0,tidyEquipment:!0,laddersStored:!0,highVis:!0,helmet:!0,goggles:!0,gloves:!0,mask:!0,earMuffs:!0,faceGuard:!0,harness:!0,boots:!0},qTe=()=>{const{user:t}=Mf(),[e,n]=se.useState([]),[r,i]=se.useState([]),[a,o]=se.useState([]),[s,l]=se.useState("all"),[u,c]=se.useState("monthly"),[f,d]=se.useState(Xi(ATe(new Date),"yyyy-MM-dd")),[h,v]=se.useState(Xi(new Date,"yyyy-MM-dd")),[b,w]=se.useState(!0),[y,_]=se.useState(!1),[S,N]=se.useState(!1),[O,R]=se.useState([]),[k,P]=se.useState({userId:"",date:Xi(new Date,"yyyy-MM-dd"),locationName:"",hours:4}),[E,F]=se.useState(null),[T,j]=se.useState(""),[M,z]=se.useState(0),[Q,oe]=se.useState(!1),[ue,X]=se.useState(null),ae=(t==null?void 0:t.role)===rn.ADMIN;se.useEffect(()=>{if(t){const Z=ae?"all":t.id;l(Z),P(xe=>({...xe,userId:ae?"":t.id})),pe(Z)}},[t]);const pe=async Z=>{if(t){w(!0);try{let xe=[];if(ae){const G=(await Ut.getAllUsers()).filter(ke=>ke.role===rn.EMPLOYEE);o(G),Z==="all"?xe=await Ut.getAllRecords():xe=await Ut.getRecordsByUser(Z)}else xe=await Ut.getRecordsByUser(t.id),o([t]);n(xe)}catch(xe){console.error("Error loading report data:",xe)}finally{w(!1)}}};se.useEffect(()=>{t&&ae&&pe(s)},[s]),se.useEffect(()=>{let Z=[...e];const xe=new Date;let Ne,G;switch(u){case"daily":Ne=e2(xe),G=X6(xe);break;case"weekly":Ne=wf(xe,{weekStartsOn:1}),G=Q6(xe,{weekStartsOn:1});break;case"monthly":Ne=SPe(xe),G=_Pe(xe);break;case"yearly":Ne=G9(xe),G=APe(xe);break;case"custom":Ne=e2(ca(f)),G=X6(ca(h));break;default:Ne=wf(xe,{weekStartsOn:1}),G=Q6(xe,{weekStartsOn:1})}Z=Z.filter(ke=>{if(!ke.startTime)return!1;const He=typeof ke.startTime=="string"?ca(ke.startTime):new Date(ke.startTime);return JS(He)?STe(He,{start:Ne,end:G}):!1}),i(Z)},[u,f,h,e]);const he=Z=>{if(isNaN(Z)||Z<0)return"0h 0min";const xe=Math.floor(Z/36e5),Ne=Math.floor(Z%36e5/6e4);return`${xe}h ${Ne}min`},$=()=>r.reduce((Z,xe)=>{if(!xe.endTime)return Z;const Ne=new Date(xe.startTime).getTime(),G=new Date(xe.endTime).getTime(),ke=xe.totalPausedMs||0;return Z+(G-Ne-ke)},0),W=()=>{const Z={};return r.forEach(xe=>{if(!xe.endTime)return;const Ne=typeof xe.startTime=="string"?ca(xe.startTime):new Date(xe.startTime);if(!JS(Ne))return;const G=Xi(Ne,"dd/MM"),ke=Ne.getTime(),He=new Date(xe.endTime).getTime(),Ge=xe.totalPausedMs||0,Re=(He-ke-Ge)/36e5;Z[G]=(Z[G]||0)+Math.max(0,Re)}),Object.keys(Z).map(xe=>({name:xe,hours:Number(Z[xe].toFixed(2)),formatted:he(Z[xe]*36e5)}))},te=Z=>!Z||typeof Z.lat!="number"?"N/A":`${Z.lat.toFixed(4)}, ${Z.lng.toFixed(4)}`,le=Z=>Z?Object.entries(Z).filter(([xe,Ne])=>Ne===!0).map(([xe,Ne])=>VTe[xe]||xe):[],ee=async()=>{const Z=ae?k.userId:t==null?void 0:t.id;if(!k.locationName||!Z){alert("Please select employee and location.");return}oe(!0);try{const xe=ca(k.date),Ne=BTe(UTe(xe,0),8),G=gPe(Ne,k.hours*36e5),ke={userId:Z,locationName:k.locationName,date:k.date,startTime:Ne.toISOString(),endTime:G.toISOString(),safetyChecklist:{...zTe},totalPausedMs:0,isPaused:!1};await Ut.addRecord(ke),await pe(s),_(!1),P(He=>({...He,locationName:"",hours:4}))}catch{alert("Failed to add manual shift.")}finally{oe(!1)}},ce=async Z=>{oe(!0);try{const xe=e.find(He=>He.id===Z);if(!xe)return;const Ne=M*36e5,G=new Date(xe.startTime),ke=new Date(G.getTime()+Ne+(xe.totalPausedMs||0));await Ut.updateRecord(Z,{locationName:T,endTime:ke.toISOString()}),await pe(s),F(null)}catch{alert("Failed to update record.")}finally{oe(!1)}},Se=async()=>{if(!ue)return;const Z=[...e],xe=ue;X(null),n(Ne=>Ne.filter(G=>G.id!==xe));try{oe(!0),await Ut.deleteRecord(xe)}catch(Ne){console.error("Error deleting record:",Ne),alert("Failed to delete the record from the database. Please check your connection."),n(Z)}finally{oe(!1)}},de=Z=>{F(Z.id),j(Z.locationName);const xe=new Date(Z.startTime).getTime(),Ne=Z.endTime?new Date(Z.endTime).getTime():Date.now(),G=Z.totalPausedMs||0;z((Ne-xe-G)/36e5)},_e=()=>{const Z=new ht("l","mm","a4"),xe=a.find(G=>G.id===s)||t,Ne=new Image;Ne.src="logo.png",Ne.onload=()=>{Z.addImage(Ne,"PNG",14,8,25,25),Te(Z,xe)},Ne.onerror=()=>{Te(Z,xe)}},Te=(Z,xe)=>{Z.setFontSize(22),Z.setTextColor(0,84,139),Z.text("DOWNEY CLEANING SERVICES",42,18),Z.setFontSize(8),Z.setTextColor(255,194,14),Z.text("PROFESSIONAL HYGIENE SOLUTIONS",42,23),Z.setFontSize(10),Z.setTextColor(100),Z.text(`Official Service Report: ${(xe==null?void 0:xe.name)||"All Personnel"}`,42,30),Z.text(`Total Period Hours: ${he($())}`,42,35),Z.text(`Generated: ${Xi(new Date,"dd/MM/yyyy HH:mm")}`,280,15,{align:"right"});const Ne=r.sort((ke,He)=>new Date(He.startTime).getTime()-new Date(ke.startTime).getTime()).map(ke=>{const He=new Date(ke.startTime).getTime(),Ge=ke.endTime?new Date(ke.endTime).getTime():Date.now(),Re=ke.totalPausedMs||0,Xe=he(Ge-He-Re),ze=le(ke.safetyChecklist).join(", ");return[Xi(ca(ke.date),"dd/MM/yyyy"),ke.locationName,`${Xi(ca(ke.startTime),"HH:mm")} - ${ke.endTime?Xi(ca(ke.endTime),"HH:mm"):"Active"}`,Xe,ze||"None",`GPS IN: ${te(ke.startLocation)}
GPS OUT: ${te(ke.endLocation)}`,ke.endTime?"COMPLETED":"IN PROGRESS"]});dPe(Z,{head:[["DATE","SITE LOCATION","SHIFT TIME","DURATION","SAFETY COMPLIANCE","GPS LOGS","STATUS"]],body:Ne,startY:42,styles:{fontSize:7,cellPadding:2,font:"helvetica",overflow:"linebreak"},columnStyles:{4:{cellWidth:50},5:{cellWidth:35}},headStyles:{fillColor:[0,84,139],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,247,255]}});const G=Z.lastAutoTable.finalY||50;Z.setFontSize(12),Z.setTextColor(0,84,139),Z.text(`Grand Total Worked: ${he($())}`,14,G+15),Z.save(`Downey_Cleaning_Report_${Xi(new Date,"yyyyMMdd")}.pdf`)};return b&&e.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center p-20 gap-4",children:[x.jsx(Or,{className:"animate-spin text-brand-600",size:48}),x.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:"Syncing Reports..."})]}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"bg-white p-2 rounded-xl shadow-sm hidden md:block border border-gray-100",children:x.jsx("img",{src:"logo.png",alt:"Downey Logo",className:"w-12 h-auto",onError:Z=>Z.currentTarget.style.display="none"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-black text-brand-600 tracking-tight",children:"Activity Reports"}),x.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Official staff logs and compliance evidence"})]})]}),x.jsxs("div",{className:"flex gap-2",children:[ae&&x.jsxs(ln,{onClick:()=>_(!y),variant:"outline",className:"border-brand-600 text-brand-600 hover:bg-brand-50 rounded-xl font-bold",children:[y?x.jsx(fl,{size:18,className:"mr-2"}):x.jsx(Fk,{size:18,className:"mr-2"}),y?"Cancel":"Manual Shift"]}),x.jsxs(ln,{onClick:_e,className:"shadow-lg bg-brand-600 hover:bg-brand-900 font-bold rounded-xl",children:[x.jsx(RJ,{size:18,className:"mr-2"})," Export PDF"]})]})]}),y&&ae&&x.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl border border-brand-100 animate-fade-in space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-3 mb-4",children:[x.jsx(Fk,{className:"text-brand-600",size:20}),x.jsx("h3",{className:"font-black text-brand-900 text-sm uppercase tracking-widest",children:"Register Manual Operational Shift"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Personnel"}),x.jsxs("div",{className:"relative",children:[x.jsx(ld,{className:"absolute left-3 top-3 text-gray-400",size:16}),x.jsxs("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:k.userId,onChange:Z=>P({...k,userId:Z.target.value}),children:[x.jsx("option",{value:"",children:"Select Staff..."}),a.map(Z=>x.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Shift Date"}),x.jsxs("div",{className:"relative",children:[x.jsx(xs,{className:"absolute left-3 top-3 text-gray-400",size:16}),x.jsx("input",{type:"date",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.date,onChange:Z=>P({...k,date:Z.target.value})})]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-1",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Location Name"}),x.jsx("button",{onClick:()=>N(!S),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1",children:S?"From List":"Type Name"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(fo,{className:"absolute left-3 top-3 text-gray-400",size:16}),S||O.length===0?x.jsx("input",{type:"text",placeholder:"Site name...",className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.locationName,onChange:Z=>P({...k,locationName:Z.target.value})}):x.jsxs("select",{className:"w-full border p-2.5 pl-10 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.locationName,onChange:Z=>P({...k,locationName:Z.target.value}),children:[x.jsx("option",{value:"",children:"Select location..."}),O.map(Z=>x.jsx("option",{value:Z,children:Z},Z))]})]})]}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Hours"}),x.jsxs("div",{className:"relative flex gap-2",children:[x.jsx("input",{type:"number",step:"0.5",className:"w-full border p-2.5 rounded-xl bg-gray-50 text-sm font-bold outline-none",value:k.hours,onChange:Z=>P({...k,hours:Number(Z.target.value)})}),x.jsx(ln,{onClick:ee,disabled:Q,className:"rounded-xl px-4 h-[45px]",children:Q?x.jsx(Or,{className:"animate-spin"}):x.jsx(Zm,{size:18})})]})]})]})]}),x.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-wrap gap-4 items-end",children:[ae&&x.jsxs("div",{className:"flex flex-col min-w-[180px]",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Employee Filter"}),x.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all outline-none",value:s,onChange:Z=>l(Z.target.value),children:[x.jsx("option",{value:"all",children:"All Personnel"}),a.map(Z=>x.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),x.jsxs("div",{className:"flex flex-col min-w-[150px]",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Timeframe"}),x.jsxs("select",{className:"border p-2.5 rounded-xl bg-gray-50 text-sm font-bold focus:ring-2 focus:ring-brand-500 transition-all outline-none",value:u,onChange:Z=>c(Z.target.value),children:[x.jsx("option",{value:"daily",children:"Today"}),x.jsx("option",{value:"weekly",children:"Weekly"}),x.jsx("option",{value:"monthly",children:"Monthly"}),x.jsx("option",{value:"yearly",children:"Yearly"}),x.jsx("option",{value:"custom",children:"Custom Range"})]})]}),u==="custom"&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:f,onChange:Z=>d(Z.target.value)}),x.jsx("input",{type:"date",className:"border p-2.5 rounded-xl text-sm font-bold bg-gray-50",value:h,onChange:Z=>v(Z.target.value)})]}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"bg-brand-accent p-6 rounded-2xl shadow-xl flex flex-col items-center justify-center min-w-[200px] border-b-4 border-yellow-600",children:[x.jsx("span",{className:"text-[10px] font-black text-brand-900 uppercase tracking-widest mb-1",children:"Period Total"}),x.jsxs("span",{className:"text-3xl font-black text-brand-900 flex items-center gap-2",children:[x.jsx(Rh,{size:24})," ",he($())]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-gray-100 shadow-sm",children:[x.jsx("div",{className:"flex items-center justify-between mb-6",children:x.jsxs("h3",{className:"font-black text-gray-900 uppercase text-xs tracking-widest flex items-center gap-2",children:[x.jsx(xs,{size:16,className:"text-brand-600"})," Operational Hours Trend"]})}),x.jsx("div",{className:"h-64",children:x.jsx(bde,{width:"100%",height:"100%",children:x.jsxs($5e,{data:W(),children:[x.jsx(_$,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),x.jsx(kb,{dataKey:"name",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),x.jsx(Ib,{tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),x.jsx(ws,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:(Z,xe,Ne)=>[Ne.payload.formatted,"Duration"]}),x.jsx(Lf,{dataKey:"hours",fill:"#0284c7",radius:[6,6,0,0],barSize:32})]})})})]}),x.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-sm",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-gray-50 text-gray-400 font-black uppercase text-[10px] tracking-[0.2em]",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:"Date / Staff"}),x.jsx("th",{className:"p-4",children:"Location"}),x.jsx("th",{className:"p-4",children:"Duration"}),x.jsx("th",{className:"p-4",children:"Safety"}),x.jsx("th",{className:"p-4",children:"GPS Log"}),x.jsx("th",{className:"p-4",children:"Evidence"}),x.jsx("th",{className:"p-4 text-center",children:"Status"}),ae&&x.jsx("th",{className:"p-4 text-center",children:"Admin"})]})}),x.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(Z=>{const xe=E===Z.id,Ne=new Date(Z.startTime).getTime(),G=Z.endTime?new Date(Z.endTime).getTime():Date.now(),ke=Z.totalPausedMs||0,He=G-Ne-ke,Ge=le(Z.safetyChecklist),Re=Ge.length,Xe=a.find(ze=>ze.id===Z.userId);return x.jsxs("tr",{className:"hover:bg-brand-50/30 transition-colors group",children:[x.jsxs("td",{className:"p-4",children:[x.jsx("div",{className:"font-bold text-gray-900",children:Xi(ca(Z.date),"dd/MM/yyyy")}),x.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase mt-0.5 tracking-wider",children:(Xe==null?void 0:Xe.name)||"Personnel"})]}),x.jsx("td",{className:"p-4",children:xe?x.jsx("input",{className:"border p-2 rounded-lg text-sm font-bold w-full",value:T,onChange:ze=>j(ze.target.value)}):x.jsx("div",{className:"font-black text-brand-600 max-w-[200px] leading-tight",children:Z.locationName})}),x.jsx("td",{className:"p-4",children:xe?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"number",step:"0.5",className:"border p-2 rounded-lg text-sm font-bold w-16",value:M,onChange:ze=>z(Number(ze.target.value))}),x.jsx("span",{className:"text-[10px] font-black",children:"h"})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"font-black text-gray-900",children:he(He)}),x.jsxs("div",{className:"text-[9px] text-gray-400 font-mono mt-0.5",children:[Xi(ca(Z.startTime),"HH:mm"),"  ",Z.endTime?Xi(ca(Z.endTime),"HH:mm"):"..."]})]})}),x.jsx("td",{className:"p-4",children:Re>0?x.jsxs("div",{className:"space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-1 bg-green-50 text-green-700 px-1.5 py-1 rounded text-[9px] font-black border border-green-100 uppercase tracking-tighter w-fit",children:[x.jsx(Rc,{size:10})," ",Re," ITEMS"]}),x.jsx("div",{className:"flex flex-wrap gap-1 max-w-[180px]",children:Ge.map((ze,et)=>x.jsx("span",{className:"bg-gray-50 text-gray-500 border border-gray-100 px-1 py-0.5 rounded-[4px] text-[8px] font-bold uppercase whitespace-nowrap",children:ze},et))})]}):x.jsx("span",{className:"text-[10px] text-gray-300 font-bold italic",children:"No data"})}),x.jsxs("td",{className:"p-4 text-[9px] text-gray-400 font-mono",children:[x.jsx("div",{className:"mb-2",children:Z.startLocation?x.jsxs("a",{href:`https://www.google.com/maps?q=${Z.startLocation.lat},${Z.startLocation.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 transition-colors",title:"View check-in on Google Maps",children:[x.jsx(fo,{size:10,className:"text-brand-500"}),"IN: ",Z.startLocation.lat.toFixed(4),", ",Z.startLocation.lng.toFixed(4),x.jsx(p5,{size:10})]}):x.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[x.jsx(fo,{size:10})," IN: N/A"]})}),x.jsx("div",{children:Z.endLocation?x.jsxs("a",{href:`https://www.google.com/maps?q=${Z.endLocation.lat},${Z.endLocation.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-brand-600 transition-colors",title:"View check-out on Google Maps",children:[x.jsx(fo,{size:10,className:"text-red-500"}),"OUT: ",Z.endLocation.lat.toFixed(4),", ",Z.endLocation.lng.toFixed(4),x.jsx(p5,{size:10})]}):x.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[x.jsx(fo,{size:10})," OUT: N/A"]})})]}),x.jsx("td",{className:"p-4",children:x.jsxs("div",{className:"flex gap-1.5",children:[Z.photoUrl?x.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden border border-gray-100 shadow-sm cursor-pointer hover:scale-110 transition-transform",children:x.jsx("img",{src:Z.photoUrl,alt:"In",className:"w-full h-full object-cover"})}):x.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 border border-gray-100 border-dashed flex items-center justify-center text-gray-300",children:x.jsx(UJ,{size:14})}),Z.endPhotoUrl&&x.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden border border-gray-100 shadow-sm cursor-pointer hover:scale-110 transition-transform",children:x.jsx("img",{src:Z.endPhotoUrl,alt:"Out",className:"w-full h-full object-cover"})})]})}),x.jsx("td",{className:"p-4 text-center",children:x.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider ${Z.endTime?"bg-green-100 text-green-700":"bg-brand-accent text-brand-900 animate-pulse"}`,children:Z.endTime?"VERIFIED":"LIVE"})}),ae&&x.jsx("td",{className:"p-4",children:x.jsx("div",{className:"flex justify-center gap-3",children:xe?x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>ce(Z.id),className:"text-brand-600 hover:scale-125 transition-transform",title:"Save Changes",children:x.jsx(Zm,{size:18})}),x.jsx("button",{onClick:()=>F(null),className:"text-gray-400 hover:scale-125 transition-transform",title:"Cancel",children:x.jsx(fl,{size:18})})]}):x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>de(Z),className:"text-brand-500 hover:scale-125 transition-transform",title:"Edit Shift",children:x.jsx(U2,{size:18})}),x.jsx("button",{onClick:ze=>{ze.stopPropagation(),X(Z.id)},className:"text-red-500 hover:scale-125 transition-transform",title:"Delete Shift",children:x.jsx(eg,{size:18})})]})})})]},Z.id)}):x.jsx("tr",{children:x.jsx("td",{colSpan:ae?8:7,className:"p-20 text-center text-gray-400 italic font-bold uppercase text-[10px] tracking-widest",children:"No service logs found for the selected period."})})})]})})}),ue&&x.jsx("div",{className:"fixed inset-0 bg-brand-900/80 backdrop-blur-md z-[999] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white max-w-sm w-full rounded-3xl p-8 shadow-2xl animate-shake border border-red-100",children:[x.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:x.jsx(Gy,{size:32,className:"text-red-600"})}),x.jsx("h3",{className:"text-xl font-black text-brand-900 text-center uppercase tracking-tight",children:"Confirm Deletion"}),x.jsx("p",{className:"text-gray-500 text-center text-sm mt-3 font-medium",children:"Are you sure you want to permanently delete this shift record? This action cannot be undone."}),x.jsxs("div",{className:"flex gap-4 mt-8",children:[x.jsx(ln,{variant:"outline",fullWidth:!0,onClick:()=>X(null),disabled:Q,className:"rounded-2xl h-12 font-black",children:"Cancel"}),x.jsx(ln,{variant:"danger",fullWidth:!0,onClick:Se,disabled:Q,className:"rounded-2xl h-12 font-black bg-red-600 shadow-lg",children:Q?x.jsx(Or,{className:"animate-spin"}):"Delete Shift"})]})]})})]})},WTe=()=>{const{user:t,logout:e}=Mf(),[n,r]=se.useState(!1),[i,a]=se.useState(!1),[o,s]=se.useState(!1),[l,u]=se.useState(""),[c,f]=se.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",pps:(t==null?void 0:t.pps)||""}),[d,h]=se.useState({newPass:"",confirmPass:""});if(!t)return null;const v=async()=>{s(!0),u("");try{c.email!==t.email&&await xJ(c.email),await Ut.updateUser(t.id,{name:c.name,email:c.email,phone:c.phone,pps:c.pps}),alert("Profile updated successfully!"),r(!1),window.location.reload()}catch(w){u(w.message||"Error updating profile. Email changes may require a recent login.")}finally{s(!1)}},b=async()=>{if(d.newPass!==d.confirmPass){u("Passwords do not match");return}if(d.newPass.length<6){u("Password must be at least 6 characters");return}s(!0),u("");try{await _J(d.newPass),alert("Password updated successfully!"),a(!1),h({newPass:"",confirmPass:""})}catch(w){u(w.message||"Error updating password. You might need to log in again.")}finally{s(!1)}};return x.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"bg-brand-900 h-32 relative",children:[x.jsx("div",{className:"absolute -bottom-16 left-8",children:x.jsx("div",{className:"w-32 h-32 bg-white rounded-full p-2 shadow-lg",children:x.jsx("div",{className:"w-full h-full bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:x.jsx(ld,{size:64})})})}),x.jsx("div",{className:"absolute bottom-4 right-8 flex gap-2",children:!n&&!i&&x.jsxs(x.Fragment,{children:[x.jsxs(ln,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>r(!0),children:[x.jsx(U2,{size:16,className:"mr-2"})," Edit Profile"]}),x.jsxs(ln,{size:"sm",variant:"outline",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>a(!0),children:[x.jsx(m5,{size:16,className:"mr-2"})," Security"]})]})})]}),x.jsxs("div",{className:"pt-20 pb-8 px-8",children:[x.jsx("div",{className:"flex justify-between items-start",children:x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:t.name}),x.jsx("p",{className:"text-brand-600 font-bold mt-1 uppercase text-xs tracking-widest",children:t.role===rn.ADMIN?"System Administrator":"Cleaning Professional"})]})}),l&&x.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-xs font-bold border border-red-100",children:l}),n?x.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Tr,{label:"Full Name",value:c.name,onChange:w=>f({...c,name:w.target.value})}),x.jsx(Tr,{label:"Email Address",value:c.email,onChange:w=>f({...c,email:w.target.value})}),x.jsx(Tr,{label:"Phone Number",value:c.phone,onChange:w=>f({...c,phone:w.target.value})}),x.jsx(Tr,{label:"PPS Number",value:c.pps,onChange:w=>f({...c,pps:w.target.value})})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx(ln,{variant:"outline",fullWidth:!0,onClick:()=>r(!1),children:"Cancel"}),x.jsx(ln,{fullWidth:!0,onClick:v,disabled:o,children:o?x.jsx(Or,{className:"animate-spin"}):x.jsxs(x.Fragment,{children:[x.jsx(Zm,{size:18,className:"mr-2"})," Save Changes"]})})]})]}):i?x.jsxs("div",{className:"mt-8 space-y-4 animate-fade-in",children:[x.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-2",children:[x.jsx(m5,{size:18,className:"text-brand-600"})," Change Password"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsx(Tr,{label:"New Password",type:"password",placeholder:"At least 6 chars",value:d.newPass,onChange:w=>h({...d,newPass:w.target.value})}),x.jsx(Tr,{label:"Confirm New Password",type:"password",value:d.confirmPass,onChange:w=>h({...d,confirmPass:w.target.value})})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx(ln,{variant:"outline",fullWidth:!0,onClick:()=>a(!1),children:"Cancel"}),x.jsx(ln,{fullWidth:!0,onClick:b,disabled:o,children:o?x.jsx(Or,{className:"animate-spin"}):"Update Password"})]})]}):x.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[x.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[x.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:x.jsx(GE,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Official Email"}),x.jsx("p",{className:"font-bold text-gray-800",children:t.email})]})]}),x.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[x.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:x.jsx(QJ,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Contact Number"}),x.jsx("p",{className:"font-bold text-gray-800",children:t.phone||"Not set"})]})]}),x.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[x.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:x.jsx(jJ,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"PPS Number"}),x.jsx("p",{className:"font-bold text-gray-800",children:t.pps||"Information pending"})]})]}),x.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-gray-50 rounded-xl border border-gray-100",children:[x.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm text-brand-600",children:x.jsx(c8,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:"Account ID"}),x.jsx("p",{className:"font-mono text-xs font-bold text-gray-400 truncate w-40",children:t.id})]})]})]}),!n&&!i&&x.jsx("div",{className:"mt-8 border-t border-gray-100 pt-8 flex justify-center",children:x.jsx(ln,{variant:"danger",onClick:e,className:"w-full max-w-xs h-12 text-lg font-bold shadow-md",children:"Secure Logout"})})]})]})})},HTe=()=>{const[t,e]=se.useState([]),[n,r]=se.useState(""),[i,a]=se.useState(!0),[o,s]=se.useState(!1),[l,u]=se.useState(null),[c,f]=se.useState(null),[d,h]=se.useState({name:"",email:"",password:"",phone:"",pps:"",role:rn.EMPLOYEE}),[v,b]=se.useState(""),[w,y]=se.useState(!1);se.useEffect(()=>{_()},[]);const _=async()=>{a(!0);try{const E=await Ut.getAllUsers();e(E)}catch(E){console.error(E)}finally{a(!1)}},S=()=>{u(null),f(null),h({name:"",email:"",password:"",phone:"",pps:"",role:rn.EMPLOYEE}),b(""),s(!0)},N=E=>{u(E),f(null),h({name:E.name,email:E.email,password:"",phone:E.phone||"",pps:E.pps||"",role:E.role}),b(""),s(!0)},O=async E=>{E.preventDefault(),y(!0),b("");try{if(l)await Ut.updateUser(l.id,{name:d.name,email:d.email,phone:d.phone,pps:d.pps,role:d.role}),alert("User updated successfully in the database."),s(!1),_();else{const F=await wJ(d.email,d.password);await Ut.syncUser(F,{name:d.name,phone:d.phone,pps:d.pps,role:d.role}),alert("User created successfully!"),s(!1),_()}}catch(F){b(F.message||"Error processing request")}finally{y(!1)}},R=async E=>{y(!0);try{await SJ(E),f(E),setTimeout(()=>f(null),5e3)}catch(F){alert("Error sending reset email: "+F.message)}finally{y(!1)}},k=async E=>{if(window.confirm(`Are you sure you want to delete ${E.name}? This action cannot be undone.`)){a(!0);try{await Ut.deleteUser(E.id),alert("User removed from database successfully."),await _()}catch(F){console.error(F),alert("Failed to delete user from database: "+(F.message||"Check your permissions.")),_()}finally{a(!1)}}},P=t.filter(E=>E.name.toLowerCase().includes(n.toLowerCase())||E.email.toLowerCase().includes(n.toLowerCase())||E.id.toLowerCase().includes(n.toLowerCase()));return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-black text-gray-800 flex items-center gap-2",children:[x.jsx(Mh,{className:"text-brand-600"}),"Personnel Management"]}),x.jsx("p",{className:"text-sm text-gray-500",children:"Full control over employee records"})]}),x.jsxs(ln,{onClick:S,children:[x.jsx(aZ,{size:18,className:"mr-2"})," New Employee"]})]}),o&&x.jsx("div",{className:"fixed inset-0 bg-brand-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-fade-in",children:[x.jsxs("div",{className:"bg-brand-900 p-6 flex justify-between items-center",children:[x.jsx("h3",{className:"text-white font-bold text-lg",children:l?`Edit Professional: ${l.name}`:"Add New Professional"}),x.jsx("button",{onClick:()=>s(!1),className:"text-white/60 hover:text-white",children:x.jsx(fl,{size:24})})]}),x.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[x.jsx(Tr,{label:"Full Name",required:!0,value:d.name,onChange:E=>h({...d,name:E.target.value})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(Tr,{label:"Email",type:"email",required:!0,value:d.email,onChange:E=>h({...d,email:E.target.value})}),l?x.jsxs("div",{className:"flex flex-col",children:[x.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:"Security / Password"}),c===d.email?x.jsxs("div",{className:"p-3 bg-green-50 rounded-xl border border-green-200 text-[10px] text-green-700 font-bold flex items-center gap-2",children:[x.jsx(Rk,{size:16})," Link sent to ",d.email,"!"]}):x.jsxs("button",{type:"button",onClick:()=>R(d.email),disabled:w,className:"flex items-center justify-center gap-2 p-3 bg-brand-50 hover:bg-brand-100 text-brand-700 rounded-xl border border-brand-200 text-xs font-bold transition-all disabled:opacity-50",children:[w?x.jsx(Or,{size:16,className:"animate-spin"}):x.jsx(Dk,{size:16}),"Send Password Reset Link"]})]}):x.jsx(Tr,{label:"Initial Password",type:"password",required:!0,value:d.password,onChange:E=>h({...d,password:E.target.value}),placeholder:"Enter password"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(Tr,{label:"Phone",value:d.phone,onChange:E=>h({...d,phone:E.target.value})}),x.jsx(Tr,{label:"PPS Number",value:d.pps,onChange:E=>h({...d,pps:E.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"User Role"}),x.jsxs("select",{className:"w-full border p-2 rounded-md bg-white text-sm font-medium",value:d.role,onChange:E=>h({...d,role:E.target.value}),children:[x.jsx("option",{value:rn.EMPLOYEE,children:"Cleaning Professional"}),x.jsx("option",{value:rn.ADMIN,children:"Administrator"})]})]}),v&&x.jsx("p",{className:"text-red-500 text-xs font-bold bg-red-50 p-2 rounded",children:v}),x.jsxs("div",{className:"pt-4 flex gap-3",children:[x.jsx(ln,{variant:"outline",fullWidth:!0,onClick:()=>s(!1),children:"Cancel"}),x.jsx(ln,{type:"submit",fullWidth:!0,disabled:w,children:w?x.jsx(Or,{className:"animate-spin"}):l?"Save Changes":"Confirm Registration"})]})]})]})}),x.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-3",children:[x.jsx(u8,{className:"text-gray-400",size:20}),x.jsx("input",{type:"text",placeholder:"Search by name, email or Account ID...",className:"bg-transparent border-none focus:ring-0 text-sm w-full font-medium",value:n,onChange:E=>r(E.target.value)})]}),x.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-gray-50 text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:"Employee"}),x.jsx("th",{className:"p-4",children:"Account ID"}),x.jsx("th",{className:"p-4",children:"Role"}),x.jsx("th",{className:"p-4 text-center",children:"Actions"})]})}),x.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i?x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"p-10 text-center",children:x.jsx(Or,{className:"animate-spin mx-auto text-brand-600"})})}):P.map(E=>x.jsxs("tr",{className:"hover:bg-brand-50/20 transition-colors group",children:[x.jsx("td",{className:"p-4",children:x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-600 font-bold shrink-0",children:E.name.charAt(0)}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("div",{className:"font-bold text-gray-900 truncate",children:E.name}),x.jsxs("div",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[x.jsx(GE,{size:10})," ",E.email]})]})]})}),x.jsx("td",{className:"p-4 font-mono text-[10px] font-bold text-gray-400",children:E.id}),x.jsx("td",{className:"p-4",children:x.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-[10px] font-bold uppercase ${E.role===rn.ADMIN?"bg-purple-50 text-purple-700 border border-purple-100":"bg-brand-50 text-brand-700 border border-brand-100"}`,children:[x.jsx(c8,{size:10})," ",E.role]})}),x.jsx("td",{className:"p-4",children:x.jsxs("div",{className:"flex justify-center gap-2",children:[x.jsx("button",{onClick:()=>R(E.email),className:`p-2 rounded-lg transition-all ${c===E.email?"text-green-600 bg-green-50":"text-orange-500 hover:bg-orange-50"}`,title:"Send Password Reset Link",disabled:w,children:c===E.email?x.jsx(Rk,{size:16}):x.jsx(Dk,{size:16})}),x.jsx("button",{onClick:()=>N(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:x.jsx(nZ,{size:16})}),x.jsx("button",{onClick:()=>k(E),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:x.jsx(eg,{size:16})})]})})]},E.id)),!i&&P.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-400 italic",children:"No users found."})})]})]})})})]})},GTe=()=>{const[t,e]=se.useState([]),[n,r]=se.useState(!0),[i,a]=se.useState(!1),[o,s]=se.useState({activeCount:0,totalToday:0}),l=se.useRef(null),u=se.useRef(null),c=se.useRef([]),f=async()=>{try{const[v,b]=await Promise.all([Ut.getAllRecords(),Ut.getAllUsers()]),w=v.filter(_=>!_.endTime).map(_=>({..._,user:b.find(S=>S.id===_.userId)})),y=v.filter(_=>_.date===new Date().toISOString().split("T")[0]);e(w),s({activeCount:w.length,totalToday:y.length})}catch(v){console.error("Error loading dashboard data:",v)}finally{r(!1)}},d=v=>{if(!l.current||!i)return;c.current.forEach(y=>y.remove()),c.current=[];const b=L.latLngBounds([]);let w=!1;v.forEach(y=>{var S,N;const _=y.startLocation;if(_&&_.lat&&_.lng){w=!0;const O=[_.lat,_.lng],R=L.divIcon({className:"custom-div-icon",html:`
            <div class="flex flex-col items-center group">
              <div class="relative">
                <div class="bg-brand-600 p-2 rounded-full shadow-2xl border-2 border-white transform transition-all duration-300 scale-100 group-hover:scale-125 z-10 relative">
                  <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                </div>
                <div class="absolute -bottom-1 left-1/2 -translate-x-1/2 w-4 h-4 bg-brand-600 rotate-45 border-r-2 border-b-2 border-white shadow-lg"></div>
              </div>
              <div class="mt-3 bg-white px-3 py-1 rounded-full text-[10px] font-black border border-gray-100 shadow-2xl whitespace-nowrap text-brand-900 ring-2 ring-brand-100">
                ${((S=y.user)==null?void 0:S.name.split(" ")[0])||"Unit"}
              </div>
            </div>
          `,iconSize:[45,65],iconAnchor:[22.5,55]}),k=L.marker(O,{icon:R}).addTo(l.current).bindPopup(`
            <div class="font-sans p-1 min-w-[150px]">
              <p class="font-black text-brand-900 text-sm mb-1">${(N=y.user)==null?void 0:N.name}</p>
              <div class="flex items-center gap-1 text-[10px] text-gray-500 font-bold mb-2">
                 <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                 ${y.locationName}
              </div>
              <div class="bg-brand-50 p-2 rounded-lg text-[9px] font-black text-brand-600 uppercase">
                Checked-in at ${Xi(ca(y.startTime),"HH:mm")}
              </div>
            </div>
          `);c.current.push(k),b.extend(O)}}),w&&l.current&&l.current.fitBounds(b,{padding:[80,80],maxZoom:16})};se.useEffect(()=>{let v;const b=()=>{if(u.current&&!l.current&&typeof L<"u")try{l.current=L.map(u.current,{zoomControl:!1,scrollWheelZoom:!0,fadeAnimation:!0}).setView([-23.5505,-46.6333],12),L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Downey Cleaning",maxZoom:19}).addTo(l.current),L.control.zoom({position:"topright"}).addTo(l.current),setTimeout(()=>{l.current&&(l.current.invalidateSize(),a(!0),clearInterval(v))},500)}catch(_){console.error("Error initializing map:",_)}};v=window.setInterval(()=>{typeof L<"u"&&b()},300),f();const w=setInterval(f,3e4),y=()=>{l.current&&l.current.invalidateSize()};return window.addEventListener("resize",y),()=>{clearInterval(v),clearInterval(w),window.removeEventListener("resize",y)}},[]),se.useEffect(()=>{i&&l.current&&d(t)},[i,t]);const h=()=>{if(l.current&&c.current.length>0){const v=L.latLngBounds(c.current.map(b=>b.getLatLng()));l.current.fitBounds(v,{padding:[60,60]})}};return n&&t.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center p-20 space-y-4 text-center",children:[x.jsx(Or,{className:"animate-spin text-brand-600",size:48}),x.jsx("p",{className:"text-gray-500 font-black uppercase text-[10px] tracking-[0.2em]",children:"Connecting to Operations Center..."})]}):x.jsxs("div",{className:"space-y-6",children:[x.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-black text-brand-900 tracking-tight",children:"Live Operations"}),x.jsx("p",{className:"text-xs text-brand-600 font-bold uppercase tracking-widest mt-1",children:"Global Team Status"})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[x.jsx("div",{className:"bg-green-100 p-2 rounded-xl text-green-600",children:x.jsx(f5,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:o.activeCount}),x.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Online Now"})]})]}),x.jsxs("div",{className:"bg-white px-6 py-3 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4",children:[x.jsx("div",{className:"bg-brand-100 p-2 rounded-xl text-brand-600",children:x.jsx(xs,{size:20})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-2xl font-black text-gray-900 leading-none",children:o.totalToday}),x.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mt-1",children:"Jobs Today"})]})]}),x.jsx("button",{onClick:f,className:"bg-white p-3 rounded-2xl border border-gray-100 shadow-sm text-gray-400 hover:text-brand-600 hover:border-brand-100 transition-all active:scale-95",title:"Refresh Data",children:x.jsx(l8,{size:20,className:n?"animate-spin":""})})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsx("div",{className:"lg:col-span-2 space-y-4",children:x.jsxs("div",{className:"bg-white rounded-3xl p-1 shadow-2xl overflow-hidden relative h-[580px] border-[4px] border-white ring-1 ring-gray-100",children:[x.jsx("div",{ref:u,id:"dashboard-map",className:"z-0 w-full h-full bg-slate-100",style:{position:"relative",height:"100%",width:"100%"}}),!i&&x.jsxs("div",{className:"absolute inset-0 z-[2000] bg-white flex flex-col items-center justify-center text-center",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-16 h-16 border-4 border-brand-100 border-t-brand-600 rounded-full animate-spin"}),x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsx(fo,{className:"text-brand-600",size:24})})]}),x.jsx("p",{className:"text-xs font-black text-gray-500 uppercase mt-4 tracking-widest",children:"Syncing GPS Satellites..."})]}),i&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute top-4 left-4 z-[1000] flex flex-col gap-2",children:x.jsxs("button",{onClick:h,className:"bg-white p-3 rounded-2xl shadow-xl border border-gray-100 text-brand-600 hover:bg-brand-50 transition-colors flex items-center gap-2 font-black text-[10px] uppercase tracking-wider",children:[x.jsx(qJ,{size:18})," Center All"]})}),x.jsx("div",{className:"absolute top-4 right-16 z-[1000] pointer-events-none",children:x.jsxs("div",{className:"bg-white/90 backdrop-blur px-3 py-1.5 rounded-full text-[9px] font-black uppercase border border-gray-100 shadow-lg flex items-center gap-2",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Real-time Monitoring"]})})]}),t.length===0&&i&&x.jsx("div",{className:"absolute inset-0 z-[1001] bg-gray-50/40 backdrop-blur-[2px] flex flex-col items-center justify-center pointer-events-none",children:x.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl border border-gray-100 flex flex-col items-center text-center",children:[x.jsx(YJ,{size:48,className:"text-gray-300 mb-4"}),x.jsx("p",{className:"text-gray-900 font-black text-sm uppercase tracking-widest",children:"No units in field"}),x.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Awaiting employee check-ins."})]})})]})}),x.jsxs("div",{className:"space-y-4 flex flex-col h-[580px]",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-black text-gray-900 uppercase text-xs tracking-widest",children:"Team Status"}),x.jsx("span",{className:"bg-brand-50 text-brand-600 px-2 py-1 rounded-md text-[9px] font-black uppercase",children:"Live"})]}),x.jsxs("div",{className:"flex-1 space-y-3 overflow-y-auto no-scrollbar pr-1 pb-10",children:[t.map(v=>{var b,w;return x.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-gray-100 group hover:shadow-md transition-all relative overflow-hidden cursor-pointer",onClick:()=>{var y;l.current&&v.startLocation&&(l.current.setView([v.startLocation.lat,v.startLocation.lng],18),(y=c.current.find(_=>{var S;return _.getLatLng().lat===((S=v.startLocation)==null?void 0:S.lat)}))==null||y.openPopup())},children:[x.jsx("div",{className:"absolute top-0 right-0 w-1 h-full bg-brand-500"}),x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"w-12 h-12 bg-brand-50 rounded-2xl flex items-center justify-center text-brand-600 font-black text-lg border border-brand-100 group-hover:bg-brand-600 group-hover:text-white transition-colors",children:(b=v.user)==null?void 0:b.name.charAt(0)}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("h4",{className:"font-black text-gray-900 truncate leading-tight",children:(w=v.user)==null?void 0:w.name}),x.jsxs("span",{className:"text-[9px] font-black text-green-500 uppercase flex items-center gap-1 shrink-0",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," Active"]})]}),x.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[x.jsx(fo,{size:12,className:"text-brand-500 shrink-0"}),x.jsx("span",{className:"text-xs font-bold text-gray-500 truncate",children:v.locationName})]}),!v.startLocation&&x.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[9px] font-bold text-orange-500 uppercase bg-orange-50 px-2 py-1 rounded w-fit",children:[x.jsx(s8,{size:10})," GPS location unavailable"]}),x.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-50",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx(Rh,{size:12,className:"text-gray-400"}),x.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:["Started: ",Xi(ca(v.startTime),"HH:mm")]})]}),v.startLocation&&x.jsxs("a",{href:`https://www.google.com/maps?q=${v.startLocation.lat},${v.startLocation.lng}`,target:"_blank",rel:"noopener noreferrer",onClick:y=>y.stopPropagation(),className:"text-[9px] font-black text-brand-600 uppercase flex items-center gap-1 hover:underline bg-brand-50 px-2 py-1 rounded-lg",children:[x.jsx(p5,{size:10})," Google Maps"]})]})]})]})]},v.id)}),t.length===0&&x.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white rounded-3xl border-2 border-dashed border-gray-100 p-8 text-center",children:[x.jsx("div",{className:"bg-gray-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(Mh,{size:24,className:"text-gray-300"})}),x.jsx("p",{className:"text-sm font-bold text-gray-400 italic",children:"No staff members currently active."})]})]})]})]})]})},KTe=()=>{const{user:t}=Mf(),[e,n]=se.useState([]),[r,i]=se.useState([]),[a,o]=se.useState(!0),[s,l]=se.useState(!1),[u,c]=se.useState("received"),[f,d]=se.useState(null),[h,v]=se.useState(!1),[b,w]=se.useState(""),[y,_]=se.useState(!1),S=se.useRef(null),[N,O]=se.useState({recipientId:"all",recipientName:"All Staff (Broadcast)",title:"",message:""}),R=(t==null?void 0:t.role)===rn.ADMIN,k=async(z=!0)=>{if(t){z&&o(!0);try{if(u==="received"){const Q=await Ut.getNotificationsForUser(t.id);n(Q)}else{const Q=await Ut.getSentNotifications(t.id);n(Q)}}catch(Q){console.error("Error loading notifications data:",Q)}finally{z&&o(!1)}}};se.useEffect(()=>{k(),R&&P();const z=()=>k(!1);return window.addEventListener("downey:notifications-updated",z),()=>{window.removeEventListener("downey:notifications-updated",z)}},[t,u]),se.useEffect(()=>{const z=Q=>{S.current&&!S.current.contains(Q.target)&&_(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const P=async()=>{try{const Q=(await Ut.getAllUsers()).filter(oe=>oe.id&&oe.id!==(t==null?void 0:t.id));i(Q)}catch(z){console.error("Error loading users for notification:",z)}},E=async z=>{if(z.preventDefault(),!!t){if(!N.title.trim()||!N.message.trim()){alert("Please enter both a subject and a message.");return}l(!0);try{const Q={senderId:t.id,senderName:t.name,recipientId:N.recipientId,title:N.title.trim(),message:N.message.trim(),createdAt:new Date().toISOString(),readBy:[]};await Ut.sendNotification(Q),O({recipientId:"all",recipientName:"All Staff (Broadcast)",title:"",message:""}),w(""),l(!1),alert("Notification dispatched successfully!"),u==="sent"?k():c("sent")}catch(Q){console.error("HandleSend: Error captured in component:",Q),l(!1),alert(Q.message||"Failed to send notification.")}}},F=async z=>{if(!t||u==="sent")return;const Q=e.find(ue=>ue.id===z),oe=Array.isArray(Q==null?void 0:Q.readBy)?Q.readBy:[];if(Q&&!oe.includes(t.id))try{n(ue=>ue.map(X=>X.id===z?{...X,readBy:[...oe,t.id]}:X)),await Ut.markNotificationAsRead(z,t.id)}catch(ue){console.error("Error marking as read:",ue),k(!1)}},T=async()=>{if(f){v(!0);try{await Ut.deleteNotification(f),n(z=>z.filter(Q=>Q.id!==f)),d(null)}catch(z){console.error("Error deleting notification:",z),alert(`Failed to delete: ${z.message||"Permission Denied"}`)}finally{v(!1)}}},j=(z,Q)=>{O(oe=>({...oe,recipientId:z,recipientName:Q})),_(!1),w("")},M=r.filter(z=>{const Q=b.toLowerCase();return(z.name||"").toLowerCase().includes(Q)||(z.email||"").toLowerCase().includes(Q)});return x.jsxs("div",{className:"space-y-6 pb-12",children:[x.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-2xl font-black text-brand-900 tracking-tight flex items-center gap-3",children:[x.jsx(h5,{className:"text-brand-600"})," Notifications Center"]}),x.jsx("p",{className:"text-xs text-brand-600 font-bold uppercase tracking-widest mt-1",children:"Official Communications"})]}),R&&x.jsxs("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-gray-100",children:[x.jsx("button",{onClick:()=>c("received"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${u==="received"?"bg-brand-600 text-white shadow-md":"text-gray-400 hover:text-brand-600"}`,children:"Inbox"}),x.jsx("button",{onClick:()=>c("sent"),className:`px-4 py-2 rounded-lg text-[10px] font-black uppercase transition-all ${u==="sent"?"bg-brand-600 text-white shadow-md":"text-gray-400 hover:text-brand-600"}`,children:"Sent Log"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[R&&x.jsx("div",{className:"lg:col-span-1",children:x.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl border border-brand-100 sticky top-8 overflow-visible",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-brand-600 opacity-20"}),x.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(GJ,{size:20,className:"text-brand-600"}),x.jsx("h3",{className:"font-black text-brand-900 uppercase text-xs tracking-widest",children:"Send Message"})]}),x.jsx("button",{type:"button",onClick:P,className:"text-brand-600 hover:rotate-180 transition-transform duration-500",children:x.jsx(l8,{size:14})})]}),x.jsxs("form",{onSubmit:E,className:"space-y-4",children:[x.jsxs("div",{className:"space-y-1 relative",ref:S,children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Recipient Selection"}),x.jsxs("div",{className:`
                      w-full border p-3 rounded-xl flex items-center justify-between cursor-pointer transition-all
                      ${N.recipientId==="all"?"bg-brand-50 border-brand-200":"bg-indigo-50 border-indigo-200"}
                    `,onClick:()=>_(!y),children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[N.recipientId==="all"?x.jsx(Mh,{size:16,className:"text-brand-600"}):x.jsx(ld,{size:16,className:"text-indigo-600"}),x.jsx("span",{className:`text-sm font-bold truncate ${N.recipientId==="all"?"text-brand-900":"text-indigo-900"}`,children:N.recipientName})]}),x.jsx(DJ,{size:14,className:"text-gray-400"})]}),y&&x.jsxs("div",{className:"absolute top-full left-0 w-full bg-white mt-2 rounded-2xl shadow-2xl border border-gray-100 z-[100] overflow-hidden animate-fade-in ring-4 ring-brand-500/5",children:[x.jsx("div",{className:"p-3 border-b bg-gray-50/50",children:x.jsxs("div",{className:"relative",children:[x.jsx(u8,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),x.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search...",className:"w-full bg-white border border-gray-200 rounded-lg pl-9 pr-8 py-2 text-xs font-bold outline-none",value:b,onChange:z=>w(z.target.value)})]})}),x.jsxs("div",{className:"max-h-60 overflow-y-auto p-1 no-scrollbar",children:[x.jsx("button",{type:"button",className:"w-full text-left p-3 rounded-xl hover:bg-brand-50 flex items-center justify-between group transition-colors",onClick:()=>j("all","All Staff (Broadcast)"),children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Mh,{size:16,className:"text-brand-600"}),x.jsx("span",{className:"text-xs font-black uppercase text-brand-900",children:" All Staff"})]})}),M.map(z=>x.jsx("button",{type:"button",className:"w-full text-left p-3 rounded-xl hover:bg-gray-50 flex items-center justify-between transition-colors",onClick:()=>j(z.id,z.name),children:x.jsxs("div",{className:"flex flex-col min-w-0",children:[x.jsx("span",{className:"text-xs font-bold truncate text-gray-900",children:z.name}),x.jsx("span",{className:"text-[9px] text-gray-400 font-medium truncate",children:z.email})]})},z.id))]})]})]}),x.jsx(Tr,{label:"Subject Line",value:N.title,onChange:z=>O({...N,title:z.target.value}),required:!0}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Message Content"}),x.jsx("textarea",{className:"w-full border-gray-200 border p-3 rounded-xl bg-gray-50 text-sm font-medium outline-none min-h-[140px] transition-all",value:N.message,onChange:z=>O({...N,message:z.target.value}),required:!0})]}),x.jsx(ln,{type:"submit",fullWidth:!0,disabled:s,className:"h-14 font-black shadow-lg rounded-2xl",children:s?x.jsx(Or,{className:"animate-spin"}):x.jsxs(x.Fragment,{children:[x.jsx(eZ,{size:18,className:"mr-2"})," Dispatch Alert"]})})]})]})}),x.jsxs("div",{className:`${R?"lg:col-span-2":"col-span-full"} space-y-4`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"font-black text-gray-400 uppercase text-[10px] tracking-widest",children:u==="received"?"Inbox":"Sent Communications"}),x.jsxs("span",{className:"bg-brand-50 text-brand-600 px-3 py-1 rounded-full text-[9px] font-black uppercase",children:[e.length," Messages"]})]}),x.jsxs("div",{className:"space-y-4",children:[e.map(z=>{const oe=(Array.isArray(z.readBy)?z.readBy:[]).includes((t==null?void 0:t.id)||""),ue=z.recipientId==="all",X=z.senderId===(t==null?void 0:t.id),ae=!oe&&u==="received";return x.jsxs("div",{className:`
                    group relative bg-white p-6 rounded-3xl shadow-sm border transition-all
                    ${oe||u==="sent"?"border-gray-100 opacity-90":"border-brand-300 ring-2 ring-brand-100/50 shadow-md animate-pulse-soft"}
                    hover:shadow-lg cursor-pointer
                  `,onClick:()=>F(z.id),children:[(R||X)&&x.jsx("button",{onClick:pe=>{pe.stopPropagation(),d(z.id)},className:"absolute top-6 right-6 text-gray-300 hover:text-red-500 transition-colors p-2 z-10",children:x.jsx(eg,{size:16})}),ae&&x.jsxs("div",{className:"absolute top-6 right-16 flex items-center gap-2",children:[x.jsx("span",{className:"bg-brand-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Unread"}),x.jsxs("div",{className:"relative flex h-2 w-2",children:[x.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-brand-400 opacity-75"}),x.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-brand-600"})]})]}),x.jsxs("div",{className:"flex items-start gap-5",children:[x.jsxs("div",{className:"relative shrink-0",children:[x.jsx("div",{className:`
                        w-12 h-12 rounded-2xl flex items-center justify-center transition-colors
                        ${ae?"bg-brand-600 text-white":ue?"bg-brand-100 text-brand-600":"bg-indigo-100 text-indigo-600"}
                      `,children:ue?x.jsx(Mh,{size:24}):x.jsx(ld,{size:24})}),ae&&x.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-brand-500 border-2 border-white rounded-full"})]}),x.jsxs("div",{className:"flex-1 min-w-0 pr-10",children:[x.jsx("h4",{className:`font-black text-lg tracking-tight mb-1 ${ae?"text-brand-900":"text-gray-700"}`,children:z.title}),x.jsx("p",{className:`text-sm leading-relaxed mb-4 whitespace-pre-wrap ${ae?"text-brand-800 font-bold":"text-gray-500 font-medium"}`,children:z.message}),x.jsxs("div",{className:"flex flex-wrap items-center gap-4 border-t border-gray-50 pt-4",children:[x.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-gray-400 uppercase tracking-wider",children:[x.jsx(Rh,{size:12})," ",Xi(ca(z.createdAt),"dd MMM, HH:mm")]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-gray-400 uppercase tracking-wider",children:[x.jsx(GE,{size:12}),u==="received"?`Sender: ${z.senderName}`:`Target: ${z.recipientId==="all"?"All Staff":"Specific Employee"}`]})]})]}),ae&&x.jsx("div",{className:"self-center text-brand-600 animate-bounce-horizontal",children:x.jsx(CJ,{size:20})})]})]},z.id)}),e.length===0&&!a&&x.jsxs("div",{className:"bg-white py-24 rounded-3xl border-2 border-dashed border-gray-100 flex flex-col items-center justify-center text-center px-6",children:[x.jsx("div",{className:"bg-gray-50 w-20 h-20 rounded-full flex items-center justify-center mb-4 shadow-inner",children:x.jsx(h5,{size:40,className:"text-gray-200"})}),x.jsx("h4",{className:"font-black text-gray-900 uppercase tracking-[0.2em] text-sm",children:"No notifications"}),x.jsx("p",{className:"text-gray-400 text-xs mt-2 italic max-w-xs",children:"You have no official alerts at this moment."})]})]})]})]}),f&&x.jsx("div",{className:"fixed inset-0 bg-brand-900/80 backdrop-blur-md z-[999] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white max-w-sm w-full rounded-3xl p-8 shadow-2xl animate-shake border border-red-100",children:[x.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:x.jsx(Gy,{size:32,className:"text-red-600"})}),x.jsx("h3",{className:"text-xl font-black text-brand-900 text-center uppercase tracking-tight",children:"Confirm Deletion"}),x.jsx("p",{className:"text-gray-500 text-center text-sm mt-3 font-medium",children:"This action is permanent. Are you sure you want to delete this notification record?"}),x.jsxs("div",{className:"flex gap-4 mt-8",children:[x.jsx(ln,{variant:"outline",fullWidth:!0,onClick:()=>d(null),disabled:h,className:"rounded-2xl h-12 font-black",children:"Cancel"}),x.jsx(ln,{variant:"danger",fullWidth:!0,onClick:T,disabled:h,className:"rounded-2xl h-12 font-black bg-red-600 shadow-lg shadow-red-200",children:h?x.jsx(Or,{className:"animate-spin"}):"Delete Now"})]})]})})]})},Q9=se.createContext(null),Mf=()=>se.useContext(Q9),Pc=({children:t,allowedRoles:e})=>{const{isAuthenticated:n,user:r,isLoading:i}=Mf(),a=Wg();return i?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600"})}):n?e&&r&&!e.includes(r.role)?x.jsx($_,{to:"/",replace:!0}):x.jsx(oZ,{children:t}):x.jsx($_,{to:"/login",state:{from:a},replace:!0})},YTe=()=>{const[t,e]=se.useState(null),[n,r]=se.useState(!0);if(!Ds)return x.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-gray-50 text-center",children:x.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-lg w-full border border-red-100",children:[x.jsx("div",{className:"mx-auto bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:x.jsx(tZ,{className:"text-red-600 w-8 h-8"})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Pending Configuration"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"The application could not find the Firebase API keys."})]})});se.useEffect(()=>{const a=iQ(Ds,async o=>{if(r(!0),o)try{const s=await Ut.syncUser(o);e(s)}catch(s){console.error("Failed to sync user",s),e(null)}else e(null);r(!1)});return()=>a()},[]);const i=async()=>{await AJ(),e(null)};return x.jsx(Q9.Provider,{value:{user:t,logout:i,isAuthenticated:!!t,isLoading:n},children:x.jsx(aq,{children:x.jsxs(nq,{children:[x.jsx(gs,{path:"/login",element:x.jsx(sZ,{})}),x.jsx(gs,{path:"/",element:x.jsx(Pc,{children:(t==null?void 0:t.role)===rn.ADMIN?x.jsx(GTe,{}):x.jsx(Bk,{})})}),x.jsx(gs,{path:"/agenda",element:x.jsx(Pc,{children:x.jsx(Bk,{})})}),x.jsx(gs,{path:"/check-in",element:x.jsx(Pc,{allowedRoles:[rn.EMPLOYEE],children:x.jsx(lZ,{})})}),x.jsx(gs,{path:"/reports",element:x.jsx(Pc,{children:x.jsx(qTe,{})})}),x.jsx(gs,{path:"/notifications",element:x.jsx(Pc,{children:x.jsx(KTe,{})})}),x.jsx(gs,{path:"/users",element:x.jsx(Pc,{allowedRoles:[rn.ADMIN],children:x.jsx(HTe,{})})}),x.jsx(gs,{path:"/profile",element:x.jsx(Pc,{children:x.jsx(WTe,{})})}),x.jsx(gs,{path:"*",element:x.jsx($_,{to:"/",replace:!0})})]})})})},J9=document.getElementById("root");if(!J9)throw new Error("Could not find root element to mount to");const XTe=Wx.createRoot(J9);XTe.render(x.jsx(be.StrictMode,{children:x.jsx(YTe,{})}));export{_n as _,M0 as c,jn as g};
